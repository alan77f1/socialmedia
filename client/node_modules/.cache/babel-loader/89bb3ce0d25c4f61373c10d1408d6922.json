{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\buiva\\\\OneDrive\\\\M\\xE1y t\\xEDnh\\\\new\\\\instagram-clone\\\\client\\\\src\\\\components\\\\message\\\\MsgDisplay.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Avatar from \"../Avatar\";\nimport { imageShow, videoShow } from \"../../utils/mediaShow\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { deleteMessages } from \"../../redux/actions/messageAction\";\nimport Times from \"./Times\";\n\nconst MsgDisplay = ({\n  user,\n  msg,\n  theme,\n  data\n}) => {\n  _s();\n\n  const {\n    auth\n  } = useSelector(state => state);\n  const dispatch = useDispatch();\n\n  const handleDeleteMessages = () => {\n    if (!data) return;\n\n    if (window.confirm(\"Bạn muốn xoá tin nhắn này?\")) {\n      dispatch(deleteMessages({\n        msg,\n        data,\n        auth\n      }));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat_title\",\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        src: user.avatar,\n        size: \"small-avatar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: user.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"you_content\",\n      children: [user._id === auth.user._id && /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-trash text-danger\",\n        onClick: handleDeleteMessages\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [msg.text && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat_text\",\n          style: {\n            filter: theme ? \"invert(1)\" : \"invert(0)\"\n          },\n          children: msg.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 13\n        }, this), msg.media.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: item.url.match(/video/i) ? videoShow(item.url, theme) : imageShow(item.url, theme)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), msg.call && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn d-flex align-items-center py-3\",\n        style: {\n          background: \"#eee\",\n          borderRadius: \"10px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-icons font-weight-bold mr-1\",\n          style: {\n            fontSize: \"2.5rem\",\n            color: msg.call.times === 0 ? \"crimson\" : \"green\",\n            filter: theme ? \"invert(1)\" : \"invert(0)\"\n          },\n          children: msg.call.times === 0 ? msg.call.video ? \"videocam_off\" : \"phone_disabled\" : msg.call.video ? \"video_camera_front\" : \"call\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            children: msg.call.video ? \"Video Call\" : \"Audio Call\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            children: msg.call.times > 0 ? /*#__PURE__*/_jsxDEV(Times, {\n              total: msg.call.times\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 19\n            }, this) : new Date(msg.createdAt).toLocaleTimeString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat_time\",\n      children: new Date(msg.createdAt).toLocaleString()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(MsgDisplay, \"+K+CpMOWLLk5gjS2XBR3+1SAosI=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = MsgDisplay;\nexport default MsgDisplay;\n\nvar _c;\n\n$RefreshReg$(_c, \"MsgDisplay\");","map":{"version":3,"sources":["C:/Users/buiva/OneDrive/Máy tính/new/instagram-clone/client/src/components/message/MsgDisplay.js"],"names":["React","Avatar","imageShow","videoShow","useSelector","useDispatch","deleteMessages","Times","MsgDisplay","user","msg","theme","data","auth","state","dispatch","handleDeleteMessages","window","confirm","avatar","username","_id","text","filter","media","map","item","index","url","match","call","background","borderRadius","fontSize","color","times","video","Date","createdAt","toLocaleTimeString","toLocaleString"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Avatar from \"../Avatar\";\r\nimport { imageShow, videoShow } from \"../../utils/mediaShow\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { deleteMessages } from \"../../redux/actions/messageAction\";\r\nimport Times from \"./Times\";\r\n\r\nconst MsgDisplay = ({ user, msg, theme, data }) => {\r\n  const { auth } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleDeleteMessages = () => {\r\n    if (!data) return;\r\n\r\n    if (window.confirm(\"Bạn muốn xoá tin nhắn này?\")) {\r\n      dispatch(deleteMessages({ msg, data, auth }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"chat_title\">\r\n        <Avatar src={user.avatar} size=\"small-avatar\" />\r\n        <span>{user.username}</span>\r\n      </div>\r\n\r\n      <div className=\"you_content\">\r\n        {user._id === auth.user._id && (\r\n          <i\r\n            className=\"fas fa-trash text-danger\"\r\n            onClick={handleDeleteMessages}\r\n          />\r\n        )}\r\n\r\n        <div>\r\n          {msg.text && (\r\n            <div\r\n              className=\"chat_text\"\r\n              style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n            >\r\n              {msg.text}\r\n            </div>\r\n          )}\r\n          {msg.media.map((item, index) => (\r\n            <div key={index}>\r\n              {item.url.match(/video/i)\r\n                ? videoShow(item.url, theme)\r\n                : imageShow(item.url, theme)}\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {msg.call && (\r\n          <button\r\n            className=\"btn d-flex align-items-center py-3\"\r\n            style={{ background: \"#eee\", borderRadius: \"10px\" }}\r\n          >\r\n            <span\r\n              className=\"material-icons font-weight-bold mr-1\"\r\n              style={{\r\n                fontSize: \"2.5rem\",\r\n                color: msg.call.times === 0 ? \"crimson\" : \"green\",\r\n                filter: theme ? \"invert(1)\" : \"invert(0)\",\r\n              }}\r\n            >\r\n              {msg.call.times === 0\r\n                ? msg.call.video\r\n                  ? \"videocam_off\"\r\n                  : \"phone_disabled\"\r\n                : msg.call.video\r\n                ? \"video_camera_front\"\r\n                : \"call\"}\r\n            </span>\r\n\r\n            <div className=\"text-left\">\r\n              <h6>{msg.call.video ? \"Video Call\" : \"Audio Call\"}</h6>\r\n              <small>\r\n                {msg.call.times > 0 ? (\r\n                  <Times total={msg.call.times} />\r\n                ) : (\r\n                  new Date(msg.createdAt).toLocaleTimeString()\r\n                )}\r\n              </small>\r\n            </div>\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"chat_time\">\r\n        {new Date(msg.createdAt).toLocaleString()}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MsgDisplay;\r\n"]},"metadata":{},"sourceType":"module"}