{"version":3,"sources":["components/profile/EditProfile.js","components/profile/Followers.js","components/profile/Following.js","components/profile/Info.js","components/profile/Posts.js","components/profile/Saved.js","pages/profile/[id].js","components/message/Times.js","components/message/MsgDisplay.js","components/message/RightSide.js","pages/message/[id].js","redux/actions/postAction.js","pages sync /^/.*$","redux/actions/notifyAction.js","redux/actions/messageAction.js","images/loading.gif","../node_modules/peerjs/dist sync","components/Avatar.js","components/NotFound.js","customRouter/PageRender.js","customRouter/PrivateRouter.js","components/alert/Loading.js","components/alert/Toast.js","components/alert/Alert.js","components/NotifyModal.js","images/notice.png","components/profile/changePassword.js","components/header/Menu.js","components/header/Search.js","components/header/Header.js","components/StatusModal.js","audio/got-it-done-613.mp3","SocketClient.js","audio/ringring.mp3","components/message/CallModal.js","App.js","reportWebVitals.js","redux/reducers/authReducer.js","redux/reducers/alertReducer.js","redux/reducers/themeReducer.js","redux/reducers/profileReducer.js","redux/reducers/statusReducer.js","redux/reducers/postReducer.js","redux/reducers/modalReducer.js","redux/reducers/detailPostReducer.js","redux/reducers/discoverReducer.js","redux/reducers/suggestionsReducer.js","redux/reducers/socketReducer.js","redux/reducers/notifyReducer.js","redux/reducers/messageReducer.js","redux/reducers/onlineReducer.js","redux/reducers/callReducer.js","redux/reducers/peerReducer.js","redux/reducers/index.js","redux/store.js","index.js","redux/actions/profileAction.js","components/UserCard.js","utils/valid.js","redux/actions/authAction.js","redux/actions/globalTypes.js","utils/mediaShow.js","utils/imageUpload.js","components/LoadMoreBtn.js","components/FollowBtn.js","redux/actions/suggestionsAction.js","redux/actions/discoverAction.js","components/PostThumb.js","components/Icons.js","pages/message/index.js","pages/forgotPassword.js","pages/login.js","pages/register.js","components/home/Status.js","components/home/Posts.js","components/home/RightSideBar.js","pages/home.js","utils/validreset.js","pages/resetPassword.js","components/message/LeftSide.js","utils/config.js","components/home/post_card/CardHeader.js","components/Carousel.js","components/home/post_card/CardBody.js","images/send.svg","components/LikeButton.js","components/ShareModal.js","components/home/post_card/CardFooter.js","redux/actions/commentAction.js","components/home/comments/CommentMenu.js","components/home/comments/InputComment.js","components/home/comments/CommentCard.js","components/home/comments/CommentDisplay.js","components/home/comments/Comments.js","components/PostCard.js","pages/discover.js","utils/fetchData.js","pages/post/[id].js"],"names":["EditProfile","setOnEdit","useState","fullname","mobile","address","website","story","gender","userData","setUserData","avatar","setAvatar","useSelector","state","auth","theme","dispatch","useDispatch","useEffect","user","handleInput","e","target","name","value","className","onClick","onSubmit","preventDefault","updateProfileUser","src","URL","createObjectURL","alt","style","filter","type","id","accept","onChange","file","files","err","checkImage","GLOBALTYPES","ALERT","payload","error","htmlFor","top","right","transform","length","cols","rows","Followers","users","setShowFollowers","map","UserCard","_id","FollowBtn","Following","setShowFollowing","Info","profile","onEdit","showFollowers","showFollowing","newData","MODAL","Avatar","size","username","followers","following","email","href","rel","Posts","posts","setPosts","result","setResult","page","setPage","load","setLoad","forEach","data","handleLoadMore","a","getDataAPI","token","res","PROFILE_TYPES","UPDATE_POST","PostThumb","LoadIcon","LoadMoreBtn","Saved","savePosts","setSavePosts","then","catch","response","msg","Profile","useParams","saveTab","setSaveTab","ids","every","item","getProfileUsers","loading","Times","total","parseInt","toString","MsgDisplay","window","confirm","deleteMessages","text","media","index","url","match","videoShow","imageShow","call","background","borderRadius","fontSize","color","times","video","Date","createdAt","toLocaleTimeString","toLocaleString","RightSide","message","socket","peer","setUser","setText","setMedia","loadMedia","setLoadMedia","refDisplay","useRef","pageEnd","setData","isLoadMore","setIsLoadMore","history","useHistory","find","messages","setTimeout","current","scrollIntoView","behavior","block","newUser","handleSubmit","trim","newArr","imageUpload","sender","recipient","toISOString","addMessage","getMessages","getMessagesData","IntersectionObserver","entries","isIntersecting","p","threshold","observe","loadMoreMessages","caller","CALL","callUser","open","peerId","emit","cursor","deleteConversation","push","height","ref","marginTop","opacity","display","splice","handleDeleteMedia","placeholder","Icons","setContent","content","multiple","newMedia","disabled","Conversation","LeftSide","POST_TYPES","CREATE_POST","LOADING_POST","GET_POSTS","GET_POST","DELETE_POST","createPost","images","postDataAPI","newPost","recipients","image","createNotify","getPosts","updatePost","status","imgNewUrl","img","imgOldUrl","patchDataAPI","success","likePost","post","likes","unLikePost","like","removeNotify","getPost","detailPost","deletePost","deleteDataAPI","savePost","saved","AUTH","unSavePost","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve","module","exports","NOTIFY_TYPES","GET_NOTIFIES","CREATE_NOTIFY","REMOVE_NOTIFY","UPDATE_NOTIFY","UPDATE_SOUND","DELETE_ALL_NOTIFIES","notify","getNotifies","notifies","isReadNotify","isRead","deleteAllNotifies","MESS_TYPES","ADD_USER","ADD_MESSAGE","GET_CONVERSATIONS","GET_MESSAGES","UPDATE_MESSAGES","DELETE_MESSAGES","DELETE_CONVERSATION","CHECK_ONLINE_OFFLINE","getConversations","conversations","cv","reverse","DeleteData","webpackEmptyContext","NotFound","minHeight","left","PageRender","pageName","React","createElement","require","default","generatePage","PrivateRouter","props","localStorage","getItem","to","Loading","zIndex","width","viewBox","stroke","strokeWidth","fill","points","x","y","Toast","handleShow","bgColor","minWidth","title","data-dismiss","outline","body","Notify","alert","NotifyModal","handleSound","sound","maxHeight","overflow","handleIsRead","slice","moment","fromNow","ChangePassword","setShowDialogPassword","typeOldPass","setTypeOldPass","typeNewPass","setTypeNewPass","typeCfPass","setTypeCfPass","oldPassword","newPassword","cf_newPassword","handleChangeInput","changePassword","Menu","showDialogPassword","pathname","useLocation","isActive","pn","label","icon","path","link","role","data-toggle","aria-haspopup","aria-expanded","aria-labelledby","THEME","logout","Search","search","setSearch","setUsers","handleSearch","handleClose","toLowerCase","replace","border","Header","scrollTo","StatusModal","setImages","stream","setStream","videoRef","refCanvas","tracks","setTracks","stop","STATUS","camera","deleteImages","autoPlay","muted","clientWidth","clientHeight","setAttribute","getContext","drawImage","toDataURL","navigator","mediaDevices","getUserMedia","mediaStream","srcObject","play","track","getTracks","console","log","newImages","SocketClient","online","audioRef","on","off","Notification","onclick","includes","ONLINE","OFFLINE","controls","audiobell","CallModal","hours","setHours","mins","setMins","second","setSecond","setTotal","answer","setAnswer","youVideo","otherVideo","newCall","setNewCall","setTime","t","addCallMessage","useCallback","disconnect","handleEndCall","close","timer","clearTimeout","openStream","config","audio","playStream","tag","handleAnswer","remoteStream","removeListener","pauseAudio","newAudio","pause","currentTime","Audio","RingRing","playAudio","padding","playsInline","App","modal","isLogged","refreshToken","io","SOCKET","getSuggestions","permission","requestPermission","newPeer","Peer","undefined","secure","PEER","Alert","exact","component","Home","Login","Register","Forgot","Reset","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","authReducer","action","alertReducer","themeReducer","profileReducer","LOADING","GET_USER","FOLLOW","UNFOLLOW","EditData","GET_ID","statusReducer","postReducer","modalReducer","detailPostReducer","firstLoad","discoverReducer","DISCOVER_TYPES","suggestionsReducer","SUGGES_TYPES","GET_USERS","socketReducer","notifyReducer","resultUsers","messageReducer","onlineReducer","callReducer","peerReducer","combineReducers","homePosts","discover","suggestions","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","DataProvider","children","ReactDOM","render","StrictMode","document","getElementById","res1","follow","unfollow","showMsg","valid","password","cf_password","test","validateEmail","errMsg","errLength","login","access_token","setItem","register","check","forgotPassword","removeItem","location","imgArr","formData","FormData","append","fetch","method","json","public_id","secure_url","followed","setFollowed","handleFollow","handleUnFollow","getDiscoverPosts","comments","Message","ForgotPassword","typePass","setTypePass","aria-describedby","defaultChecked","Status","PostCard","RightSideBar","wordBreak","scroll","addEventListener","pageYOffset","validReset","ResetPassword","searchUsers","setSearchUsers","handleAddUser","BASE_URL","CardHeader","clipboard","writeText","Carousel","data-ride","data-target","data-slide-to","data-slide","aria-hidden","CardBody","readMore","setReadMore","LikeButton","isLike","handleLike","handleUnLike","ShareModal","FacebookShareButton","FacebookIcon","round","TwitterShareButton","TwitterIcon","EmailShareButton","EmailIcon","RedditShareButton","RedditIcon","TelegramShareButton","TelegramIcon","WhatsappShareButton","WhatsappIcon","CardFooter","setIsLike","loadLike","setLoadLike","isShare","setIsShare","setSaved","saveLoad","setSaveLoad","handleSavePost","handleUnSavePost","Send","likeComment","comment","newComment","newComments","unLikeComment","CommentMenu","handleRemove","deleteArr","cm","reply","da","deleteComment","MenuItem","InputComment","onReply","setOnReply","commentId","postId","postUserId","createComment","CommentCard","styleCard","pointerEvents","updateComment","CommentDisplay","replyCm","showRep","setShowRep","next","setNext","Comments","setComments","showComments","setShowComments","replyComments","setReplyComments","newCm","newRep","Discover","axios","get","headers","Authorization","patch","delete","Post","setPost"],"mappings":"uLAiLeA,EA1KK,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,UAAgB,EASLC,mBARd,CAChBC,SAAU,GACVC,OAAQ,GACRC,QAAS,GACTC,QAAS,GACTC,MAAO,GACPC,OAAQ,KAP2B,mBAS9BC,EAT8B,KASpBC,EAToB,KAU7BP,EAAsDM,EAAtDN,SAAUC,EAA4CK,EAA5CL,OAAQC,EAAoCI,EAApCJ,QAASC,EAA2BG,EAA3BH,QAASC,EAAkBE,EAAlBF,MAAOC,EAAWC,EAAXD,OAVd,EAYTN,mBAAS,IAZA,mBAY9BS,EAZ8B,KAYtBC,EAZsB,OAcbC,aAAY,SAACC,GAAD,OAAWA,KAAvCC,EAd6B,EAc7BA,KAAMC,EAduB,EAcvBA,MACRC,EAAWC,cAEjBC,qBAAU,WACRT,EAAYK,EAAKK,QAChB,CAACL,EAAKK,OAET,IAaMC,EAAc,SAACC,GAAO,IAAD,EACDA,EAAEC,OAAlBC,EADiB,EACjBA,KAAMC,EADW,EACXA,MACdf,EAAY,2BAAKD,GAAN,kBAAiBe,EAAOC,MASrC,OACE,sBAAKC,UAAU,eAAf,UACE,wBACEA,UAAU,2BACVC,QAAS,kBAAM1B,GAAU,IAF3B,0BAOA,uBAAM2B,SAfW,SAACN,GACpBA,EAAEO,iBACFZ,EAASa,YAAkB,CAAErB,WAAUE,SAAQI,UAC/Cd,GAAU,IAYR,UACE,sBAAKyB,UAAU,cAAf,UACE,qBACEK,IAAKpB,EAASqB,IAAIC,gBAAgBtB,GAAUI,EAAKK,KAAKT,OACtDuB,IAAI,SACJC,MAAO,CAAEC,OAAQpB,EAAQ,YAAc,eAEzC,iCACE,mBAAGU,UAAU,kBACb,mDACA,uBACEW,KAAK,OACLb,KAAK,OACLc,GAAG,UACHC,OAAO,UACPC,SAhDS,SAAClB,GACpB,IAAMmB,EAAOnB,EAAEC,OAAOmB,MAAM,GAEtBC,EAAMC,YAAWH,GACvB,GAAIE,EACF,OAAO1B,EAAS,CACdoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAOL,KAGtB/B,EAAU6B,YA2CN,sBAAKf,UAAU,aAAf,UACE,uBAAOuB,QAAQ,WAAf,+CACA,sBAAKvB,UAAU,oBAAf,UACE,uBACEW,KAAK,OACLX,UAAU,eACVY,GAAG,WACHd,KAAK,WACLC,MAAOtB,EACPqC,SAAUnB,IAEZ,wBACEK,UAAU,gCACVS,MAAO,CACLe,IAAK,MACLC,MAAO,MACPC,UAAW,oBALf,UAQGjD,EAASkD,OARZ,eAaJ,sBAAK3B,UAAU,aAAf,UACE,uBAAOuB,QAAQ,SAAf,+CACA,uBACEZ,KAAK,OACLb,KAAK,SACLC,MAAOrB,EACPsB,UAAU,eACVc,SAAUnB,OAId,sBAAKK,UAAU,aAAf,UACE,uBAAOuB,QAAQ,UAAf,oCACA,uBACEZ,KAAK,OACLb,KAAK,UACLC,MAAOpB,EACPqB,UAAU,eACVc,SAAUnB,OAId,sBAAKK,UAAU,aAAf,UACE,uBAAOuB,QAAQ,UAAf,qBACA,uBACEZ,KAAK,OACLb,KAAK,UACLC,MAAOnB,EACPoB,UAAU,eACVc,SAAUnB,OAId,sBAAKK,UAAU,aAAf,UACE,uBAAOuB,QAAQ,QAAf,kCACA,0BACEzB,KAAK,QACLC,MAAOlB,EACP+C,KAAK,KACLC,KAAK,IACL7B,UAAU,eACVc,SAAUnB,IAGZ,wBAAOK,UAAU,iCAAjB,UACGnB,EAAM8C,OADT,aAKF,uBAAOJ,QAAQ,SAAf,+BACA,qBAAKvB,UAAU,gCAAf,SACE,yBACEF,KAAK,SACLc,GAAG,SACHb,MAAOjB,EACPkB,UAAU,gCACVc,SAAUnB,EALZ,UAOE,wBAAQI,MAAM,OAAd,iBACA,wBAAQA,MAAM,SAAd,qBACA,wBAAQA,MAAM,QAAd,0BAIJ,wBAAQC,UAAU,qBAAqBW,KAAK,SAA5C,6B,gBCxIOmB,EA5BG,SAAC,GAAiC,IAA/BC,EAA8B,EAA9BA,MAAOC,EAAuB,EAAvBA,iBAClB3C,EAASF,aAAY,SAACC,GAAD,OAAWA,KAAhCC,KACR,OACE,qBAAKW,UAAU,SAAf,SACE,sBAAKA,UAAU,aAAf,UACE,oBAAIA,UAAU,cAAd,yCACA,uBAEA,qBAAKA,UAAU,iBAAf,SACG+B,EAAME,KAAI,SAACvC,GAAD,OACT,cAACwC,EAAA,EAAD,CAEExC,KAAMA,EACNsC,iBAAkBA,EAHpB,SAKG3C,EAAKK,KAAKyC,MAAQzC,EAAKyC,KAAO,cAACC,EAAA,EAAD,CAAW1C,KAAMA,KAJ3CA,EAAKyC,UAShB,qBAAKnC,UAAU,QAAQC,QAAS,kBAAM+B,GAAiB,IAAvD,wBCQOK,EA5BG,SAAC,GAAiC,IAA/BN,EAA8B,EAA9BA,MAAOO,EAAuB,EAAvBA,iBAClBjD,EAASF,aAAY,SAACC,GAAD,OAAWA,KAAhCC,KACR,OACE,qBAAKW,UAAU,SAAf,SACE,sBAAKA,UAAU,aAAf,UACE,oBAAIA,UAAU,cAAd,mCACA,uBAEA,qBAAKA,UAAU,iBAAf,SACG+B,EAAME,KAAI,SAACvC,GAAD,OACT,cAACwC,EAAA,EAAD,CAEExC,KAAMA,EACN4C,iBAAkBA,EAHpB,SAKGjD,EAAKK,KAAKyC,MAAQzC,EAAKyC,KAAO,cAACC,EAAA,EAAD,CAAW1C,KAAMA,KAJ3CA,EAAKyC,UAShB,qBAAKnC,UAAU,QAAQC,QAAS,kBAAMqC,GAAiB,IAAvD,wBC6EOC,EA7FF,SAAC,GAAqC,IAAnC3B,EAAkC,EAAlCA,GAAIvB,EAA8B,EAA9BA,KAAMmD,EAAwB,EAAxBA,QAASjD,EAAe,EAAfA,SAAe,EAChBf,mBAAS,IADO,mBACzCO,EADyC,KAC/BC,EAD+B,OAEpBR,oBAAS,GAFW,mBAEzCiE,EAFyC,KAEjClE,EAFiC,OAINC,oBAAS,GAJH,mBAIzCkE,EAJyC,KAI1BV,EAJ0B,OAKNxD,oBAAS,GALH,mBAKzCmE,EALyC,KAK1BL,EAL0B,KAwBhD,OAjBA7C,qBAAU,WACR,GAAImB,IAAOvB,EAAKK,KAAKyC,IACnBnD,EAAY,CAACK,EAAKK,WACb,CACL,IAAMkD,EAAUJ,EAAQT,MAAMrB,QAAO,SAAChB,GAAD,OAAUA,EAAKyC,MAAQvB,KAC5D5B,EAAY4D,MAEb,CAAChC,EAAIvB,EAAME,EAAUiD,EAAQT,QAEhCtC,qBAAU,WAENF,EADEmD,GAAiBC,GAAiBF,EAC3B,CAAE9B,KAAMQ,IAAY0B,MAAOxB,SAAS,GAEpC,CAAEV,KAAMQ,IAAY0B,MAAOxB,SAAS,MAE9C,CAACqB,EAAeC,EAAeF,EAAQlD,IAGxC,qBAAKS,UAAU,OAAf,SACGjB,EAASkD,KAAI,SAACvC,GAAD,OACZ,sBAAKM,UAAU,iBAAf,UACE,cAAC8C,EAAA,EAAD,CAAQzC,IAAKX,EAAKT,OAAQ8D,KAAK,kBAE/B,sBAAK/C,UAAU,eAAf,UACE,sBAAKA,UAAU,qBAAf,UAEE,6BAAKN,EAAKsD,WAETtD,EAAKyC,MAAQ9C,EAAKK,KAAKyC,IACtB,wBAAQnC,UAAU,uBAAuBC,QAAS,kBAAM1B,GAAU,IAAlE,8CAIA,cAAC6D,EAAA,EAAD,CAAW1C,KAAMA,OAkBrB,sBAAKM,UAAU,aAAf,UACE,uBAAMA,UAAU,OAAOC,QAAS,kBAAM+B,GAAiB,IAAvD,UACGtC,EAAKuD,UAAUtB,OADlB,kCAGA,uBAAM3B,UAAU,OAAOC,QAAS,kBAAMqC,GAAiB,IAAvD,UACG5C,EAAKwD,UAAUvB,OADlB,+BAKF,+BACGjC,EAAKjB,SADR,IACkB,sBAAMuB,UAAU,cAAhB,SAA+BN,EAAKhB,YAEtD,mBAAGsB,UAAU,MAAb,SAAoBN,EAAKf,UACzB,oBAAIqB,UAAU,MAAd,SAAqBN,EAAKyD,QAC1B,mBAAGC,KAAM1D,EAAKd,QAASiB,OAAO,SAASwD,IAAI,aAA3C,SACG3D,EAAKd,UAER,4BAAIc,EAAKb,WAGV4D,GAAU,cAAC,EAAD,CAAalE,UAAWA,IAGlCmE,GACC,cAAC,EAAD,CAAWX,MAAOrC,EAAKuD,UAAWjB,iBAAkBA,IAErDW,GACC,cAAC,EAAD,CAAWZ,MAAOrC,EAAKwD,UAAWZ,iBAAkBA,MA1DnB5C,EAAKyC,W,sDCWnCmB,EAxCD,SAAC,GAAmC,IAAlCjE,EAAiC,EAAjCA,KAAMuB,EAA2B,EAA3BA,GAAIrB,EAAuB,EAAvBA,SAAUiD,EAAa,EAAbA,QAAa,EACnBhE,mBAAS,IADU,mBACtC+E,EADsC,KAC/BC,EAD+B,OAEjBhF,mBAAS,GAFQ,mBAEtCiF,EAFsC,KAE9BC,EAF8B,OAGrBlF,mBAAS,GAHY,mBAGtCmF,EAHsC,KAGhCC,EAHgC,OAIrBpF,oBAAS,GAJY,mBAItCqF,EAJsC,KAIhCC,EAJgC,KAM7CrE,qBAAU,WACN+C,EAAQe,MAAMQ,SAAQ,SAAAC,GACfA,EAAK7B,MAAQvB,IACZ4C,EAASQ,EAAKT,OACdG,EAAUM,EAAKP,QACfG,EAAQI,EAAKL,YAGvB,CAACnB,EAAQe,MAAO3C,IAElB,IAAMqD,EAAc,uCAAG,8BAAAC,EAAA,6DACnBJ,GAAQ,GADW,SAEDK,YAAW,cAAD,OAAevD,EAAf,kBAAkC,EAAP+C,GAAYtE,EAAK+E,OAFrD,OAEbC,EAFa,OAGbzB,EAHa,2BAGCyB,EAAIL,MAHL,IAGWL,KAAMA,EAAO,EAAGxB,IAAKvB,IACnDrB,EAAS,CAACoB,KAAM2D,IAAcC,YAAalD,QAASuB,IACpDkB,GAAQ,GALW,2CAAH,qDAQpB,OACI,gCACI,cAACU,EAAA,EAAD,CAAWjB,MAAOA,EAAOE,OAAQA,IAG7BI,GAAQ,qBAAKxD,IAAKoE,IAAUjE,IAAI,UAAUR,UAAU,oBAIxD,cAAC0E,EAAA,EAAD,CAAajB,OAAQA,EAAQE,KAAMA,EACnCE,KAAMA,EAAMI,eAAgBA,QCYzBU,EA9CD,SAAC,GAAsB,IAArBtF,EAAoB,EAApBA,KAAME,EAAc,EAAdA,SAAc,EACEf,mBAAS,IADX,mBACzBoG,EADyB,KACdC,EADc,OAEJrG,mBAAS,GAFL,mBAEzBiF,EAFyB,KAEjBC,EAFiB,OAGRlF,mBAAS,GAHD,mBAGzBmF,EAHyB,KAGnBC,EAHmB,OAIRpF,oBAAS,GAJD,mBAIzBqF,EAJyB,KAInBC,EAJmB,KAMhCrE,qBAAU,WAYN,OAXAqE,GAAQ,GACRK,YAAW,eAAgB9E,EAAK+E,OAC/BU,MAAK,SAAAT,GACFQ,EAAaR,EAAIL,KAAKY,WACtBlB,EAAUW,EAAIL,KAAKP,QACnBK,GAAQ,MAEXiB,OAAM,SAAA9D,GACH1B,EAAS,CAACoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAOL,EAAI+D,SAAShB,KAAKiB,UAGnE,kBAAMJ,EAAa,OAC5B,CAACxF,EAAK+E,MAAO7E,IAEf,IAAM0E,EAAc,uCAAG,4BAAAC,EAAA,6DACnBJ,GAAQ,GADW,SAEDK,YAAW,sBAAD,OAA8B,EAAPR,GAAYtE,EAAK+E,OAFjD,OAEbC,EAFa,OAGnBQ,EAAaR,EAAIL,KAAKY,WACtBlB,EAAUW,EAAIL,KAAKP,QACnBG,EAAQD,EAAO,GACfG,GAAQ,GANW,2CAAH,qDASpB,OACI,gCACI,cAACU,EAAA,EAAD,CAAWjB,MAAOqB,EAAWnB,OAAQA,IAGjCI,GAAQ,qBAAKxD,IAAKoE,IAAUjE,IAAI,UAAUR,UAAU,oBAIxD,cAAC0E,EAAA,EAAD,CAAajB,OAAQA,EAAQE,KAAMA,EACnCE,KAAMA,EAAMI,eAAgBA,Q,QCOzBiB,UA3CC,WAAO,IAAD,EACM/F,aAAY,SAACC,GAAD,OAAWA,KAAzCoD,EADY,EACZA,QAASnD,EADG,EACHA,KACXE,EAAWC,cAEToB,EAAOuE,cAAPvE,GAJY,EAKUpC,oBAAS,GALnB,mBAKb4G,EALa,KAKJC,EALI,KAapB,OANA5F,qBAAU,WACJ+C,EAAQ8C,IAAIC,OAAM,SAACC,GAAD,OAAUA,IAAS5E,MACvCrB,EAASkG,YAAgB,CAAE7E,KAAIvB,YAEhC,CAACuB,EAAIvB,EAAME,EAAUiD,EAAQ8C,MAG9B,sBAAKtF,UAAU,UAAf,UACE,cAAC,EAAD,CAAMX,KAAMA,EAAMmD,QAASA,EAASjD,SAAUA,EAAUqB,GAAIA,IAE3DvB,EAAKK,KAAKyC,MAAQvB,GACjB,sBAAKZ,UAAU,cAAf,UACE,wBAAQA,UAAWoF,EAAU,GAAK,SAAUnF,QAAS,kBAAMoF,GAAW,IAAtE,8BAGA,wBAAQrF,UAAWoF,EAAU,SAAW,GAAInF,QAAS,kBAAMoF,GAAW,IAAtE,oCAMH7C,EAAQkD,QACP,qBAAK1F,UAAU,kBAAkBK,IAAKoE,IAAUjE,IAAI,YAEpD,mCACG4E,EACC,cAAC,EAAD,CAAO/F,KAAMA,EAAME,SAAUA,IAE7B,cAAC,EAAD,CAAOF,KAAMA,EAAMmD,QAASA,EAASjD,SAAUA,EAAUqB,GAAIA,W,sJCpB1D+E,EAxBD,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACf,OACE,gCACE,+BACGC,SAASD,EAAQ,MAAME,WAAWnE,OAAS,EACxC,IAAMkE,SAASD,EAAQ,MACvBC,SAASD,EAAQ,QAEvB,qCAEA,+BACGC,SAASD,EAAQ,IAAIE,WAAWnE,OAAS,EACtC,IAAMkE,SAASD,EAAQ,IACvBC,SAASD,EAAQ,MAEvB,qCAEA,gCACIA,EAAQ,IAAIE,WAAWnE,OAAS,EAAI,IAAOiE,EAAQ,GAAM,IAAOA,EAAQ,GAAM,UC2EzEG,EAxFI,SAAC,GAAgC,IAA9BrG,EAA6B,EAA7BA,KAAMuF,EAAuB,EAAvBA,IAAK3F,EAAkB,EAAlBA,MAAO0E,EAAW,EAAXA,KAC9B3E,EAASF,aAAY,SAACC,GAAD,OAAWA,KAAhCC,KACFE,EAAWC,cAUjB,OACE,qCACE,sBAAKQ,UAAU,aAAf,UACE,cAAC8C,EAAA,EAAD,CAAQzC,IAAKX,EAAKT,OAAQ8D,KAAK,iBAC/B,+BAAOrD,EAAKsD,cAGd,sBAAKhD,UAAU,cAAf,UACGN,EAAKyC,MAAQ9C,EAAKK,KAAKyC,KACtB,mBACEnC,UAAU,2BACVC,QAnBmB,WACtB+D,GAEDgC,OAAOC,QAAQ,oDACjB1G,EAAS2G,YAAe,CAAEjB,MAAKjB,OAAM3E,aAmBnC,gCACG4F,EAAIkB,MACH,qBACEnG,UAAU,YACVS,MAAO,CAAEC,OAAQpB,EAAQ,YAAc,aAFzC,SAIG2F,EAAIkB,OAGRlB,EAAImB,MAAMnE,KAAI,SAACuD,EAAMa,GAAP,OACb,8BACGb,EAAKc,IAAIC,MAAM,UACZC,YAAUhB,EAAKc,IAAKhH,GACpBmH,YAAUjB,EAAKc,IAAKhH,IAHhB+G,SAQbpB,EAAIyB,MACH,yBACE1G,UAAU,qCACVS,MAAO,CAAEkG,WAAY,OAAQC,aAAc,QAF7C,UAIE,sBACE5G,UAAU,uCACVS,MAAO,CACLoG,SAAU,SACVC,MAA0B,IAAnB7B,EAAIyB,KAAKK,MAAc,UAAY,QAC1CrG,OAAQpB,EAAQ,YAAc,aALlC,SAQsB,IAAnB2F,EAAIyB,KAAKK,MACN9B,EAAIyB,KAAKM,MACP,eACA,iBACF/B,EAAIyB,KAAKM,MACT,qBACA,SAGN,sBAAKhH,UAAU,YAAf,UACE,6BAAKiF,EAAIyB,KAAKM,MAAQ,aAAe,eACrC,gCACG/B,EAAIyB,KAAKK,MAAQ,EAChB,cAAC,EAAD,CAAOnB,MAAOX,EAAIyB,KAAKK,QAEvB,IAAIE,KAAKhC,EAAIiC,WAAWC,gCAQpC,qBAAKnH,UAAU,YAAf,SACG,IAAIiH,KAAKhC,EAAIiC,WAAWE,uB,+BC0NlBC,EAlSG,WAAO,IAAD,EACyBlI,aAAY,SAACC,GAAD,OAAWA,KAA9DC,EADc,EACdA,KAAMiI,EADQ,EACRA,QAAShI,EADD,EACCA,MAAOiI,EADR,EACQA,OAAQC,EADhB,EACgBA,KAChCjI,EAAWC,cAEToB,EAAOuE,cAAPvE,GAJc,EAKEpC,mBAAS,IALX,mBAKfkB,EALe,KAKT+H,EALS,OAMEjJ,mBAAS,IANX,mBAMf2H,EANe,KAMTuB,EANS,OAOIlJ,mBAAS,IAPb,mBAOf4H,EAPe,KAORuB,EAPQ,OAQYnJ,oBAAS,GARrB,mBAQfoJ,EARe,KAQJC,EARI,KAUhBC,EAAaC,mBACbC,EAAUD,mBAXM,EAaEvJ,mBAAS,IAbX,mBAafwF,EAbe,KAaTiE,EAbS,OAcMzJ,mBAAS,GAdf,mBAcfiF,EAde,KAcPC,EAdO,OAeElF,mBAAS,GAfX,mBAefmF,EAfe,KAeTC,EAfS,QAgBcpF,mBAAS,GAhBvB,qBAgBf0J,GAhBe,MAgBHC,GAhBG,MAkBhBC,GAAUC,cAEhB5I,qBAAU,WACR,IAAMmD,EAAU0E,EAAQtD,KAAKsE,MAAK,SAAC9C,GAAD,OAAUA,EAAKrD,MAAQvB,KACrDgC,IACFqF,EAAQrF,EAAQ2F,UAChB7E,EAAUd,EAAQa,QAClBG,EAAQhB,EAAQe,SAEjB,CAAC2D,EAAQtD,KAAMpD,IAElBnB,qBAAU,WACR,GAAImB,GAAM0G,EAAQvF,MAAMJ,OAAS,EAAG,CAClC6G,YAAW,WACTV,EAAWW,QAAQC,eAAe,CAAEC,SAAU,SAAUC,MAAO,UAC9D,IAEH,IAAMC,EAAUvB,EAAQvF,MAAMuG,MAAK,SAAC5I,GAAD,OAAUA,EAAKyC,MAAQvB,KACtDiI,GAASpB,EAAQoB,MAEtB,CAACvB,EAAQvF,MAAOnB,IAEnB,IAyBMkI,GAAY,uCAAG,WAAOlJ,GAAP,iBAAAsE,EAAA,yDACnBtE,EAAEO,iBACGgG,EAAK4C,QAA2B,IAAjB3C,EAAMzE,OAFP,oDAGnB+F,EAAQ,IACRC,EAAS,IACTE,GAAa,GAETmB,EAAS,KACT5C,EAAMzE,OAAS,GARA,kCAQkBsH,YAAY7C,GAR9B,QAQG4C,EARH,sBAUb/D,EAAM,CACViE,OAAQ7J,EAAKK,KAAKyC,IAClBgH,UAAWvI,EACXuF,OACAC,MAAO4C,EACP9B,WAAW,IAAID,MAAOmC,eAGxBvB,GAAa,GAlBM,UAmBbtI,EAAS8J,YAAW,CAAEpE,MAAK5F,OAAMkI,YAnBpB,QAoBfO,EAAWW,SACbX,EAAWW,QAAQC,eAAe,CAAEC,SAAU,SAAUC,MAAO,QArB9C,4CAAH,sDAyBlBnJ,qBAAU,YACa,uCAAG,sBAAAyE,EAAA,0DAClBoD,EAAQtD,KAAKuB,OAAM,SAACC,GAAD,OAAUA,EAAKrD,MAAQvB,KADxB,gCAEdrB,EAAS+J,YAAY,CAAEjK,OAAMuB,QAFf,OAGpB4H,YAAW,WACTV,EAAWW,QAAQC,eAAe,CAChCC,SAAU,SACVC,MAAO,UAER,IARiB,2CAAH,qDAWrBW,KACC,CAAC3I,EAAIrB,EAAUF,EAAMiI,EAAQtD,OAGhCvE,qBAAU,WACS,IAAI+J,sBACnB,SAACC,GACKA,EAAQ,GAAGC,gBACbvB,IAAc,SAACwB,GAAD,OAAOA,EAAI,OAG7B,CACEC,UAAW,KAINC,QAAQ7B,EAAQS,WACxB,CAACN,KAEJ1I,qBAAU,WACJyI,GAAa,GACXzE,GAAiB,EAAPE,IACZpE,EAASuK,YAAiB,CAAEzK,OAAMuB,KAAI+C,KAAMA,EAAO,KACnDwE,GAAc,MAIjB,CAACD,KAEJ,IAQM6B,GAAS,SAAC,GAAe,IAAb/C,EAAY,EAAZA,MACR7E,EAAoCzC,EAApCyC,IAAKlD,EAA+BS,EAA/BT,OAAQ+D,EAAuBtD,EAAvBsD,SAAUvE,EAAaiB,EAAbjB,SAEzBwG,EAAM,CACViE,OAAQ7J,EAAKK,KAAKyC,IAClBgH,UAAWhH,EACXlD,SACA+D,WACAvE,WACAuI,SAEFzH,EAAS,CAAEoB,KAAMQ,IAAY6I,KAAM3I,QAAS4D,KAGxCgF,GAAW,SAAC,GAAe,IAAbjD,EAAY,EAAZA,MAAY,EACc3H,EAAKK,KAAzCyC,EADsB,EACtBA,IAAKlD,EADiB,EACjBA,OAAQ+D,EADS,EACTA,SAAUvE,EADD,EACCA,SAEzBwG,EAAM,CACViE,OAAQ/G,EACRgH,UAAWzJ,EAAKyC,IAChBlD,SACA+D,WACAvE,WACAuI,SAGEQ,EAAK0C,OAAMjF,EAAIkF,OAAS3C,EAAKrF,KAEjCoF,EAAO6C,KAAK,WAAYnF,IAa1B,OACE,qCACE,qBAAKjF,UAAU,iBAAiBS,MAAO,CAAE4J,OAAQ,WAAjD,SACmB,IAAhB3K,EAAKiC,QACJ,cAACO,EAAA,EAAD,CAAUxC,KAAMA,EAAhB,SACE,gCACE,mBAAGM,UAAU,mBAAmBC,QAhBpB,WACtB8J,GAAO,CAAE/C,OAAO,IAChBiD,GAAS,CAAEjD,OAAO,OAgBR,mBAAGhH,UAAU,oBAAoBC,QAbrB,WACtB8J,GAAO,CAAE/C,OAAO,IAChBiD,GAAS,CAAEjD,OAAO,OAaR,mBACEhH,UAAU,2BACVC,QA7DmB,WAC/B,GAAI+F,OAAOC,QAAQ,oDAEjB,OADA1G,EAAS+K,YAAmB,CAAEjL,OAAMuB,QAC7BwH,GAAQmC,KAAK,sBAiEpB,qBACEvK,UAAU,iBACVS,MAAO,CAAE+J,OAAQpE,EAAMzE,OAAS,EAAI,qBAAuB,IAF7D,SAIE,sBAAK3B,UAAU,eAAeyK,IAAK3C,EAAnC,UACE,wBAAQrH,MAAO,CAAEiK,UAAW,QAASC,QAAS,GAAKF,IAAKzC,EAAxD,yBAIChE,EAAK/B,KAAI,SAACgD,EAAKoB,GAAN,OACR,gCACGpB,EAAIiE,SAAW7J,EAAKK,KAAKyC,KACxB,qBAAKnC,UAAU,yBAAf,SACE,cAAC,EAAD,CAAYN,KAAMA,EAAMuF,IAAKA,EAAK3F,MAAOA,MAI5C2F,EAAIiE,SAAW7J,EAAKK,KAAKyC,KACxB,qBAAKnC,UAAU,uBAAf,SACE,cAAC,EAAD,CACEN,KAAML,EAAKK,KACXuF,IAAKA,EACL3F,MAAOA,EACP0E,KAAMA,QAbJqC,MAoBXuB,GACC,qBAAK5H,UAAU,uBAAf,SACE,qBAAKK,IAAKoE,IAAUjE,IAAI,mBAMhC,qBACER,UAAU,aACVS,MAAO,CAAEmK,QAASxE,EAAMzE,OAAS,EAAI,OAAS,QAFhD,SAIGyE,EAAMnE,KAAI,SAACuD,EAAMa,GAAP,OACT,sBAAiBzF,GAAG,aAApB,UACG4E,EAAK7E,KAAK4F,MAAM,UACbC,YAAUlG,IAAIC,gBAAgBiF,GAAOlG,GACrCmH,YAAUnG,IAAIC,gBAAgBiF,GAAOlG,GACzC,sBAAMW,QAAS,kBA3LC,SAACoG,GACzB,IAAM2C,EAAM,YAAO5C,GACnB4C,EAAO6B,OAAOxE,EAAO,GACrBsB,EAASqB,GAwLoB8B,CAAkBzE,IAAvC,oBAJQA,QASd,uBAAMrG,UAAU,aAAaE,SAAU4I,GAAvC,UACE,uBACEnI,KAAK,OACLoK,YAAY,6BACZhL,MAAOoG,EACPrF,SAAU,SAAClB,GAAD,OAAO8H,EAAQ9H,EAAEC,OAAOE,QAClCU,MAAO,CACLC,OAAQpB,EAAQ,YAAc,YAC9BqH,WAAYrH,EAAQ,UAAY,GAChCwH,MAAOxH,EAAQ,QAAU,MAI7B,cAAC0L,EAAA,EAAD,CAAOC,WAAYvD,EAASwD,QAAS/E,EAAM7G,MAAOA,IAElD,sBAAKU,UAAU,cAAf,UACE,mBAAGA,UAAU,6BACb,uBACEW,KAAK,OACLb,KAAK,OACLc,GAAG,OACHuK,UAAQ,EACRtK,OAAO,kBACPC,SA1OgB,SAAClB,GACzB,IAAMoB,EAAK,YAAOpB,EAAEC,OAAOmB,OACvBC,EAAM,GACNmK,EAAW,GAEfpK,EAAM+C,SAAQ,SAAChD,GACb,OAAKA,EAEDA,EAAKgC,KAAO,QACN9B,EAAM,6CAGTmK,EAASb,KAAKxJ,GANFE,EAAM,6CASvBA,GAAK1B,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEC,MAAOL,KAC/D0G,EAAS,GAAD,mBAAKvB,GAAUgF,UA8NnB,wBACEzK,KAAK,SACLX,UAAU,iBACVqL,WAAUlF,GAAQC,EAAMzE,OAAS,GAHnC,yBCrRO2J,UAdM,WACnB,OACE,sBAAKtL,UAAU,iBAAf,UACE,qBAAKA,UAAU,uCAAf,SACE,cAACuL,EAAA,EAAD,MAGF,qBAAKvL,UAAU,gBAAf,SACE,cAAC,EAAD,W,2bCPKwL,EAAa,CACxBC,YAAa,cACbC,aAAc,eACdC,UAAW,YACXpH,YAAa,cACbqH,SAAU,WACVC,YAAa,eAGFC,EACX,SAAC,GAAD,IAAGZ,EAAH,EAAGA,QAASa,EAAZ,EAAYA,OAAQ1M,EAApB,EAAoBA,KAAMkI,EAA1B,EAA0BA,OAA1B,8CACA,WAAOhI,GAAP,mBAAA2E,EAAA,yDACMkC,EAAQ,GADd,SAGI7G,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEqE,SAAS,OACpDqG,EAAOpK,OAAS,GAJxB,gCAIyCsH,YAAY8C,GAJrD,OAI2B3F,EAJ3B,8BAMsB4F,YAAY,QAAS,CAAEd,UAASa,OAAQ3F,GAAS/G,EAAK+E,OAN5E,OAMUC,EANV,OAQI9E,EAAS,CACPoB,KAAM6K,EAAWC,YACjBpK,QAAQ,2BAAMgD,EAAIL,KAAKiI,SAAhB,IAAyBvM,KAAML,EAAKK,SAG7CH,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEqE,SAAS,KAGlDT,EAAM,CACVrE,GAAIyD,EAAIL,KAAKiI,QAAQ9J,IACrBgE,KAAM,qDACN+F,WAAY7H,EAAIL,KAAKiI,QAAQvM,KAAKuD,UAClCqD,IAAI,SAAD,OAAWjC,EAAIL,KAAKiI,QAAQ9J,KAC/B+I,UACAiB,MAAO/F,EAAM,GAAGE,KAGlB/G,EAAS6M,YAAa,CAAEnH,MAAK5F,OAAMkI,YAzBvC,kDA2BIhI,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OA7B1C,0DADA,uDAmCWoH,EAAW,SAACjI,GAAD,8CAAW,WAAO7E,GAAP,eAAA2E,EAAA,sEAE/B3E,EAAS,CAAEoB,KAAM6K,EAAWE,aAAcrK,SAAS,IAFpB,SAGb8C,YAAW,QAASC,GAHP,OAGzBC,EAHyB,OAK/B9E,EAAS,CACPoB,KAAM6K,EAAWG,UACjBtK,QAAQ,2BAAMgD,EAAIL,MAAX,IAAiBL,KAAM,MAGhCpE,EAAS,CAAEoB,KAAM6K,EAAWE,aAAcrK,SAAS,IAVpB,gDAY/B9B,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OAdP,yDAAX,uDAmBXqH,EACX,SAAC,GAAD,IAAGpB,EAAH,EAAGA,QAASa,EAAZ,EAAYA,OAAQ1M,EAApB,EAAoBA,KAAMkN,EAA1B,EAA0BA,OAA1B,8CACA,WAAOhN,GAAP,qBAAA2E,EAAA,yDACMkC,EAAQ,GACNoG,EAAYT,EAAOrL,QAAO,SAAC+L,GAAD,OAAUA,EAAInG,OACxCoG,EAAYX,EAAOrL,QAAO,SAAC+L,GAAD,OAASA,EAAInG,OAG3CiG,EAAOrB,UAAYA,GACE,IAArBsB,EAAU7K,QACV+K,EAAU/K,SAAW4K,EAAOR,OAAOpK,OARvC,6DAaIpC,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEqE,SAAS,OACpD8G,EAAU7K,OAAS,GAd3B,kCAc4CsH,YAAYuD,GAdxD,QAc8BpG,EAd9B,gCAgBsBuG,YAAa,QAAD,OACpBJ,EAAOpK,KACf,CACE+I,UACAa,OAAO,GAAD,mBAAMW,GAAN,YAAoBtG,KAE5B/G,EAAK+E,OAtBX,QAgBUC,EAhBV,OAyBI9E,EAAS,CAAEoB,KAAM6K,EAAWjH,YAAalD,QAASgD,EAAIL,KAAKiI,UAE3D1M,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEuL,QAASvI,EAAIL,KAAKiB,OA3BrE,kDA6BI1F,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OA/B1C,0DADA,uDAqCW4H,EACX,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAMzN,EAAT,EAASA,KAAMkI,EAAf,EAAeA,OAAf,8CACA,WAAOhI,GAAP,iBAAA2E,EAAA,6DACQ+H,EADR,2BACuBa,GADvB,IAC6BC,MAAM,GAAD,mBAAMD,EAAKC,OAAX,CAAkB1N,EAAKK,SACvDH,EAAS,CAAEoB,KAAM6K,EAAWjH,YAAalD,QAAS4K,IAElD1E,EAAO6C,KAAK,WAAY6B,GAJ1B,kBAOUU,YAAa,QAAD,OAASG,EAAK3K,IAAd,SAA0B,KAAM9C,EAAK+E,OAP3D,OAUUa,EAAM,CACVrE,GAAIvB,EAAKK,KAAKyC,IACdgE,KAAM,oDACN+F,WAAY,CAACY,EAAKpN,KAAKyC,KACvBmE,IAAI,SAAD,OAAWwG,EAAK3K,KACnB+I,QAAS4B,EAAK5B,QACdiB,MAAOW,EAAKf,OAAO,GAAGzF,KAGxB/G,EAAS6M,YAAa,CAAEnH,MAAK5F,OAAMkI,YAnBvC,kDAqBIhI,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OAvB1C,0DADA,uDA6BW+H,EACX,SAAC,GAAD,IAAGF,EAAH,EAAGA,KAAMzN,EAAT,EAASA,KAAMkI,EAAf,EAAeA,OAAf,8CACA,WAAOhI,GAAP,iBAAA2E,EAAA,6DACQ+H,EADR,2BAEOa,GAFP,IAGIC,MAAOD,EAAKC,MAAMrM,QAAO,SAACuM,GAAD,OAAUA,EAAK9K,MAAQ9C,EAAKK,KAAKyC,SAE5D5C,EAAS,CAAEoB,KAAM6K,EAAWjH,YAAalD,QAAS4K,IAElD1E,EAAO6C,KAAK,aAAc6B,GAP5B,kBAUUU,YAAa,QAAD,OAASG,EAAK3K,IAAd,WAA4B,KAAM9C,EAAK+E,OAV7D,OAaUa,EAAM,CACVrE,GAAIvB,EAAKK,KAAKyC,IACdgE,KAAM,oDACN+F,WAAY,CAACY,EAAKpN,KAAKyC,KACvBmE,IAAI,SAAD,OAAWwG,EAAK3K,MAErB5C,EAAS2N,YAAa,CAAEjI,MAAK5F,OAAMkI,YAnBvC,kDAqBIhI,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OAvB1C,0DADA,uDA6BWkI,EACX,SAAC,GAAD,IAAGC,EAAH,EAAGA,WAAYxM,EAAf,EAAeA,GAAIvB,EAAnB,EAAmBA,KAAnB,8CACA,WAAOE,GAAP,eAAA2E,EAAA,0DACMkJ,EAAW7H,OAAM,SAACuH,GAAD,OAAUA,EAAK3K,MAAQvB,KAD9C,0CAGwBuD,YAAW,QAAD,OAASvD,GAAMvB,EAAK+E,OAHtD,OAGYC,EAHZ,OAIM9E,EAAS,CAAEoB,KAAM6K,EAAWI,SAAUvK,QAASgD,EAAIL,KAAK8I,OAJ9D,gDAMMvN,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OAR5C,yDADA,uDAeWoI,EACX,SAAC,GAAD,IAAGP,EAAH,EAAGA,KAAMzN,EAAT,EAASA,KAAMkI,EAAf,EAAeA,OAAf,8CACA,WAAOhI,GAAP,iBAAA2E,EAAA,6DACE3E,EAAS,CAAEoB,KAAM6K,EAAWK,YAAaxK,QAASyL,IADpD,kBAIsBQ,YAAc,QAAD,OAASR,EAAK3K,KAAO9C,EAAK+E,OAJ7D,OAIUC,EAJV,OAOUY,EAAM,CACVrE,GAAIkM,EAAK3K,IACTgE,KAAM,qDACN+F,WAAY7H,EAAIL,KAAKiI,QAAQvM,KAAKuD,UAClCqD,IAAI,SAAD,OAAWwG,EAAK3K,MAErB5C,EAAS2N,YAAa,CAAEjI,MAAK5F,OAAMkI,YAbvC,gDAeIhI,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OAjB1C,yDADA,uDAuBWsI,EACX,SAAC,GAAD,IAAGT,EAAH,EAAGA,KAAMzN,EAAT,EAASA,KAAT,8CACA,WAAOE,GAAP,eAAA2E,EAAA,6DACQ2E,EADR,2BACuBxJ,EAAKK,MAD5B,IACkC8N,MAAM,GAAD,mBAAMnO,EAAKK,KAAK8N,OAAhB,CAAuBV,EAAK3K,QACjE5C,EAAS,CAAEoB,KAAMQ,IAAYsM,KAAMpM,QAAQ,2BAAMhC,GAAP,IAAaK,KAAMmJ,MAF/D,kBAKU8D,YAAa,YAAD,OAAaG,EAAK3K,KAAO,KAAM9C,EAAK+E,OAL1D,uDAOI7E,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OAT1C,yDADA,uDAeWyI,EACX,SAAC,GAAD,IAAGZ,EAAH,EAAGA,KAAMzN,EAAT,EAASA,KAAT,8CACA,WAAOE,GAAP,eAAA2E,EAAA,6DACQ2E,EADR,2BAEOxJ,EAAKK,MAFZ,IAGI8N,MAAOnO,EAAKK,KAAK8N,MAAM9M,QAAO,SAACE,GAAD,OAAQA,IAAOkM,EAAK3K,SAEpD5C,EAAS,CAAEoB,KAAMQ,IAAYsM,KAAMpM,QAAQ,2BAAMhC,GAAP,IAAaK,KAAMmJ,MAL/D,kBAQU8D,YAAa,cAAD,OAAeG,EAAK3K,KAAO,KAAM9C,EAAK+E,OAR5D,uDAUI7E,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OAZ1C,yDADA,wD,0CChOF,IAAIhD,EAAM,CACT,aAAc,GACd,gBAAiB,GACjB,mBAAoB,GACpB,sBAAuB,GACvB,SAAU,GACV,YAAa,GACb,UAAW,GACX,aAAc,GACd,YAAa,GACb,aAAc,GACd,iBAAkB,IAClB,oBAAqB,IACrB,kBAAmB,GACnB,qBAAsB,GACtB,cAAe,GACf,iBAAkB,GAClB,iBAAkB,IAClB,oBAAqB,IACrB,aAAc,GACd,gBAAiB,GACjB,kBAAmB,GACnB,qBAAsB,IAIvB,SAAS0L,EAAeC,GACvB,IAAIhN,EAAKiN,EAAsBD,GAC/B,OAAOE,EAAoBlN,GAE5B,SAASiN,EAAsBD,GAC9B,IAAIE,EAAoBC,EAAE9L,EAAK2L,GAAM,CACpC,IAAIhO,EAAI,IAAIoO,MAAM,uBAAyBJ,EAAM,KAEjD,MADAhO,EAAEqO,KAAO,mBACHrO,EAEP,OAAOqC,EAAI2L,GAEZD,EAAeO,KAAO,WACrB,OAAOC,OAAOD,KAAKjM,IAEpB0L,EAAeS,QAAUP,EACzBQ,EAAOC,QAAUX,EACjBA,EAAe/M,GAAK,K,4RCxCP2N,EAAe,CAC1BC,aAAc,eACdC,cAAe,gBACfC,cAAe,gBACfC,cAAe,gBACfC,aAAc,eACdC,oBAAqB,uBAGVzC,EACX,SAAC,GAAD,IAAGnH,EAAH,EAAGA,IAAK5F,EAAR,EAAQA,KAAMkI,EAAd,EAAcA,OAAd,8CACA,WAAOhI,GAAP,eAAA2E,EAAA,+EAEsB8H,YAAY,SAAU/G,EAAK5F,EAAK+E,OAFtD,OAEUC,EAFV,OAIIkD,EAAO6C,KAAK,eAAZ,2BACK/F,EAAIL,KAAK8K,QADd,IAEEpP,KAAM,CACJsD,SAAU3D,EAAKK,KAAKsD,SACpB/D,OAAQI,EAAKK,KAAKT,WAR1B,gDAYIM,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OAZ5E,yDADA,uDAiBWiI,EACX,SAAC,GAAD,IAAGjI,EAAH,EAAGA,IAAK5F,EAAR,EAAQA,KAAMkI,EAAd,EAAcA,OAAd,8CACA,WAAOhI,GAAP,SAAA2E,EAAA,+EAEUoJ,YAAc,UAAD,OAAWrI,EAAIrE,GAAf,gBAAyBqE,EAAIqB,KAAOjH,EAAK+E,OAFhE,OAIImD,EAAO6C,KAAK,eAAgBnF,GAJhC,+CAMI1F,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OAN5E,wDADA,uDAWW8J,EAAc,SAAC3K,GAAD,8CAAW,WAAO7E,GAAP,eAAA2E,EAAA,+EAEhBC,YAAW,WAAYC,GAFP,OAE5BC,EAF4B,OAIlC9E,EAAS,CAAEoB,KAAM4N,EAAaC,aAAcnN,QAASgD,EAAIL,KAAKgL,WAJ5B,gDAMlCzP,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OANtC,yDAAX,uDAUdgK,EACX,SAAC,GAAD,IAAGhK,EAAH,EAAGA,IAAK5F,EAAR,EAAQA,KAAR,8CACA,WAAOE,GAAP,SAAA2E,EAAA,6DACE3E,EAAS,CAAEoB,KAAM4N,EAAaI,cAAetN,QAAQ,2BAAM4D,GAAP,IAAYiK,QAAQ,MAD1E,kBAGUvC,YAAa,iBAAD,OAAkB1H,EAAI9C,KAAO,KAAM9C,EAAK+E,OAH9D,sDAKI7E,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OAL5E,wDADA,uDAUWkK,EAAoB,SAAC/K,GAAD,8CAAW,WAAO7E,GAAP,SAAA2E,EAAA,6DAC1C3E,EAAS,CAAEoB,KAAM4N,EAAaM,oBAAqBxN,QAAS,KADlB,kBAGlCiM,YAAc,kBAAmBlJ,GAHC,sDAKxC7E,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OALhC,wDAAX,wD,8TC5DpBmK,EAAa,CACxBC,SAAU,WACVC,YAAa,cACbC,kBAAmB,oBACnBC,aAAc,eACdC,gBAAiB,kBACjBC,gBAAiB,kBACjBC,oBAAqB,sBACrBC,qBAAsB,wBAGXvG,EACX,SAAC,GAAD,IAAGpE,EAAH,EAAGA,IAAK5F,EAAR,EAAQA,KAAMkI,EAAd,EAAcA,OAAd,8CACA,WAAOhI,GAAP,uBAAA2E,EAAA,6DACE3E,EAAS,CAAEoB,KAAMyO,EAAWE,YAAajO,QAAS4D,IADpD,EAG8C5F,EAAKK,KAAzCyC,EAHV,EAGUA,IAAKlD,EAHf,EAGeA,OAAQR,EAHvB,EAGuBA,SAAUuE,EAHjC,EAGiCA,SAC/BuE,EAAO6C,KAAK,aAAZ,2BAA+BnF,GAA/B,IAAoCvF,KAAM,CAAEyC,MAAKlD,SAAQR,WAAUuE,eAJrE,kBAOUgJ,YAAY,UAAW/G,EAAK5F,EAAK+E,OAP3C,uDASI7E,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OAT5E,yDADA,uDAcW4K,EACX,SAAC,GAAD,IAAGxQ,EAAH,EAAGA,KAAH,IAASsE,YAAT,MAAgB,EAAhB,gDACA,WAAOpE,GAAP,iBAAA2E,EAAA,+EAEsBC,YAAW,uBAAD,OAA+B,EAAPR,GAAYtE,EAAK+E,OAFzE,OAEUC,EAFV,OAIQ2E,EAAS,GACb3E,EAAIL,KAAK8L,cAAc/L,SAAQ,SAACyB,GAC9BA,EAAK0G,WAAWnI,SAAQ,SAACgM,GACnBA,EAAG5N,MAAQ9C,EAAKK,KAAKyC,KACvB6G,EAAOuB,KAAP,2BAAiBwF,GAAjB,IAAqB5J,KAAMX,EAAKW,KAAMC,MAAOZ,EAAKY,MAAOM,KAAMlB,EAAKkB,cAK1EnH,EAAS,CACPoB,KAAMyO,EAAWG,kBACjBlO,QAAS,CAAE2H,SAAQvF,OAAQY,EAAIL,KAAKP,UAf1C,gDAkBIlE,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OAlB5E,yDADA,uDAuBWqE,EACX,SAAC,GAAD,IAAGjK,EAAH,EAAGA,KAAMuB,EAAT,EAASA,GAAT,IAAa+C,YAAb,MAAoB,EAApB,gDACA,WAAOpE,GAAP,iBAAA2E,EAAA,+EAEsBC,YAAW,WAAD,OAAYvD,EAAZ,kBAA+B,EAAP+C,GAAYtE,EAAK+E,OAFzE,OAEUC,EAFV,OAGUzB,EAHV,2BAGyByB,EAAIL,MAH7B,IAGmCuE,SAAUlE,EAAIL,KAAKuE,SAASyH,YAE3DzQ,EAAS,CAAEoB,KAAMyO,EAAWI,aAAcnO,QAAQ,2BAAMuB,GAAP,IAAgBT,IAAKvB,EAAI+C,WAL9E,gDAOIpE,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OAP5E,yDADA,uDAYW6E,EACX,SAAC,GAAD,IAAGzK,EAAH,EAAGA,KAAMuB,EAAT,EAASA,GAAT,IAAa+C,YAAb,MAAoB,EAApB,gDACA,WAAOpE,GAAP,iBAAA2E,EAAA,+EAEsBC,YAAW,WAAD,OAAYvD,EAAZ,kBAA+B,EAAP+C,GAAYtE,EAAK+E,OAFzE,OAEUC,EAFV,OAGUzB,EAHV,2BAGyByB,EAAIL,MAH7B,IAGmCuE,SAAUlE,EAAIL,KAAKuE,SAASyH,YAE3DzQ,EAAS,CAAEoB,KAAMyO,EAAWK,gBAAiBpO,QAAQ,2BAAMuB,GAAP,IAAgBT,IAAKvB,EAAI+C,WALjF,gDAOIpE,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OAP5E,yDADA,uDAYWiB,EACX,SAAC,GAAD,IAAGjB,EAAH,EAAGA,IAAKjB,EAAR,EAAQA,KAAM3E,EAAd,EAAcA,KAAd,8CACA,WAAOE,GAAP,eAAA2E,EAAA,6DACQtB,EAAUqN,YAAWjM,EAAMiB,EAAI9C,KACrC5C,EAAS,CAAEoB,KAAMyO,EAAWM,gBAAiBrO,QAAS,CAAEuB,UAAST,IAAK8C,EAAIkE,aAF5E,kBAIUmE,YAAc,WAAD,OAAYrI,EAAI9C,KAAO9C,EAAK+E,OAJnD,uDAMI7E,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OAN5E,yDADA,uDAWWqF,EACX,SAAC,GAAD,IAAGjL,EAAH,EAAGA,KAAMuB,EAAT,EAASA,GAAT,8CACA,WAAOrB,GAAP,SAAA2E,EAAA,6DACE3E,EAAS,CAAEoB,KAAMyO,EAAWO,oBAAqBtO,QAAST,IAD5D,kBAGU0M,YAAc,gBAAD,OAAiB1M,GAAMvB,EAAK+E,OAHnD,sDAKI7E,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OAL5E,wDADA,wD,gCC5Fa,QAA0B,qC,kBCAzC,SAASiL,EAAoBtC,GAC5B,IAAIhO,EAAI,IAAIoO,MAAM,uBAAyBJ,EAAM,KAEjD,MADAhO,EAAEqO,KAAO,mBACHrO,EAEPsQ,EAAoBhC,KAAO,WAAa,MAAO,IAC/CgC,EAAoB9B,QAAU8B,EAC9B7B,EAAOC,QAAU4B,EACjBA,EAAoBtP,GAAK,K,yDCQVkC,IAbA,SAAC,GAAmB,IAAjBzC,EAAgB,EAAhBA,IAAK0C,EAAW,EAAXA,KACbzD,EAAUH,aAAY,SAACC,GAAD,OAAWA,KAAjCE,MAER,OACE,qBACEe,IAAKA,EACLG,IAAI,SACJR,UAAW+C,EACXtC,MAAO,CAAEC,OAAO,GAAD,OAAKpB,EAAQ,YAAc,kB,6GCIjC6Q,EAbE,WACf,OACE,qBAAKnQ,UAAU,oBAAoBS,MAAO,CAAE2P,UAAW,sBAAvD,SACE,oBACEpQ,UAAU,mCACVS,MAAO,CAAEe,IAAK,MAAO6O,KAAM,MAAO3O,UAAW,yBAF/C,iC,OC2BS4O,EAjBI,WAAO,IAAD,EACFnL,cAAbxB,EADe,EACfA,KAAM/C,EADS,EACTA,GAGV2P,EAAW,GAUf,OAZiBpR,aAAY,SAACC,GAAD,OAAWA,KAAhCC,KAIC+E,QAELmM,EADE3P,EACM,UAAM+C,EAAN,SAEA,UAAMA,IApBC,SAAC4M,GAGpB,IACE,OAAOC,IAAMC,cAHSC,OAAQ,YAAYH,IAAYI,SAItD,MAAO1P,GACP,OAAO,cAAC,EAAD,KAkBF2P,CAAaL,I,OCrBPM,EANO,SAACC,GAGrB,OAFmBC,aAAaC,QAAQ,cAEpB,cAAC,IAAD,eAAWF,IAAY,cAAC,IAAD,CAAUG,GAAG,O,+CCY3CC,EAfC,WACZ,OACI,qBAAKlR,UAAU,iDACfS,MAAO,CAACkG,WAAY,QAASG,MAAO,QAAStF,IAAK,EAAG6O,KAAM,EAAGc,OAAQ,IADtE,SAGI,sBAAKC,MAAM,MAAM5G,OAAO,MAAM6G,QAAQ,YAAtC,UACI,yBAASC,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAC5CC,OAAO,oBACP,sBAAMD,KAAK,OAAOE,EAAE,IAAIC,EAAE,KAA1B,2BCWDC,EAnBD,SAAC,GAAgC,IAA/B3M,EAA8B,EAA9BA,IAAK4M,EAAyB,EAAzBA,WAAYC,EAAa,EAAbA,QAC7B,OACI,sBAAK9R,UAAS,+CAA0C8R,GACxDrR,MAAO,CAACe,IAAK,MAAOC,MAAO,MAAOsQ,SAAU,QAASZ,OAAQ,IAD7D,UAEI,sBAAKnR,UAAS,kCAA6B8R,GAA3C,UACI,wBAAQ9R,UAAU,qBAAlB,SAAwCiF,EAAI+M,QAC5C,wBAAQhS,UAAU,6BAClBiS,eAAa,QAAQxR,MAAO,CAACyR,QAAS,QACtCjS,QAAS4R,EAFT,qBAMJ,qBAAK7R,UAAU,aAAf,SACKiF,EAAIkN,WCmBNC,EA3BA,WAAO,IACZC,EAAUlT,aAAY,SAACC,GAAD,OAAWA,KAAjCiT,MACF9S,EAAWC,cAEjB,OACE,gCACG6S,EAAM3M,SAAW,cAAC,EAAD,IAEjB2M,EAAM/Q,OACL,cAAC,EAAD,CACE2D,IAAK,CAAE+M,MAAO,WAAOG,KAAME,EAAM/Q,OACjCuQ,WAAY,kBAAMtS,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,MAC/DyQ,QAAQ,cAIXO,EAAMzF,SACL,cAAC,EAAD,CACE3H,IAAK,CAAE+M,MAAO,mBAAcG,KAAME,EAAMzF,SACxCiF,WAAY,kBAAMtS,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,MAC/DyQ,QAAQ,mB,gDCwEHQ,EA3FK,WAAO,IAAD,EACCnT,aAAY,SAACC,GAAD,OAAWA,KAAxCC,EADgB,EAChBA,KAAMyP,EADU,EACVA,OACRvP,EAAWC,cAMX+S,EAAc,WAClBhT,EAAS,CAAEoB,KAAM4N,IAAaK,aAAcvN,SAAUyN,EAAO0D,SAY/D,OACE,sBAAK/R,MAAO,CAAEsR,SAAU,SAAxB,UACE,sBAAK/R,UAAU,yDAAf,UACE,iDACC8O,EAAO0D,MACN,mBACExS,UAAU,0BACVS,MAAO,CAAEoG,SAAU,SAAUwD,OAAQ,WACrCpK,QAASsS,IAGX,mBACEvS,UAAU,gCACVS,MAAO,CAAEoG,SAAU,SAAUwD,OAAQ,WACrCpK,QAASsS,OAIf,oBAAIvS,UAAU,SAEU,IAAvB8O,EAAO9K,KAAKrC,QAAgB,qBAAKtB,ICjDzB,qoLDiDwCG,IAAI,WAAWR,UAAU,UAE1E,qBAAKS,MAAO,CAAEgS,UAAW,sBAAuBC,SAAU,QAA1D,SACG5D,EAAO9K,KAAK/B,KAAI,SAACgD,EAAKoB,GAAN,OACf,sBAAiBrG,UAAU,YAA3B,UACE,eAAC,IAAD,CACEiR,GAAE,UAAKhM,EAAIqB,KACXtG,UAAU,sCACVC,QAAS,kBA7CA,SAACgF,GACpB1F,EAAS0P,YAAa,CAAEhK,MAAK5F,UA4CJsT,CAAa1N,IAH9B,UAKE,cAACnC,EAAA,EAAD,CAAQzC,IAAK4E,EAAIvF,KAAKT,OAAQ8D,KAAK,eAEnC,sBAAK/C,UAAU,iBAAf,UACE,gCACE,wBAAQA,UAAU,OAAlB,SAA0BiF,EAAIvF,KAAKsD,WACnC,+BAAOiC,EAAIkB,UAEZlB,EAAIiG,SAAW,kCAAQjG,EAAIiG,QAAQ0H,MAAM,EAAG,IAA7B,YAGjB3N,EAAIkH,OACH,qBAAK1L,MAAO,CAAE2Q,MAAO,QAArB,SACGnM,EAAIkH,MAAM5F,MAAM,UACf,uBAAOlG,IAAK4E,EAAIkH,MAAOiF,MAAM,SAE7B,cAACtO,EAAA,EAAD,CAAQzC,IAAK4E,EAAIkH,MAAOpJ,KAAK,uBAKrC,wBAAO/C,UAAU,iDAAjB,UACG6S,IAAO5N,EAAIiC,WAAW4L,WACrB7N,EAAIiK,QAAU,mBAAGlP,UAAU,oCA5BvBqG,QAkCd,oBAAIrG,UAAU,SACd,qBACEA,UAAU,8BACVS,MAAO,CAAE4J,OAAQ,WACjBpK,QAvEkB,WACtB,IAAM+I,EAAS8F,EAAO9K,KAAKtD,QAAO,SAAC8E,GAAD,OAA0B,IAAhBA,EAAK0J,UACjD,OAAsB,IAAlBlG,EAAOrH,QAEPqE,OAAOC,QAAP,yBAAyB+C,EAAOrH,OAAhC,0FAF4BpC,EAAS4P,YAAkB9P,EAAK+E,aAEhE,GAgEE,yC,QEgDS2O,EAlIQ,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,sBAA4B,EACrB7T,aAAY,SAACC,GAAD,OAAWA,KAA9CC,EAD4C,EAC5CA,KAAMgT,EADsC,EACtCA,MAAO/S,EAD+B,EAC/BA,MACfC,EAAWC,cACX4I,EAAUC,cAHoC,EAWd7J,oBAAS,GAXK,mBAW7CyU,EAX6C,KAWhCC,EAXgC,OAYd1U,oBAAS,GAZK,mBAY7C2U,EAZ6C,KAYhCC,EAZgC,OAahB5U,oBAAS,GAbO,mBAa7C6U,EAb6C,KAajCC,EAbiC,OAe5B9U,mBAXH,CACnB2E,MAAO,GACPoQ,YAAa,GACbC,YAAa,GACbC,eAAgB,KARkC,mBAe7CzP,EAf6C,KAevCiE,EAfuC,KAiB5C9E,EAAoDa,EAApDb,MAAOoQ,EAA6CvP,EAA7CuP,YAAaC,EAAgCxP,EAAhCwP,YAAaC,EAAmBzP,EAAnByP,eACzChU,qBAAU,WACJJ,EAAK+E,OAAOgE,EAAQmC,KAAK,OAC5B,CAAClL,EAAK+E,MAAOgE,IAEhB,IAAMsL,EAAoB,SAAC9T,GAAO,IAAD,EACPA,EAAEC,OAAlBC,EADuB,EACvBA,KAAMC,EADiB,EACjBA,MACdkI,EAAQ,2BAAKjE,GAAN,kBAAalE,EAAOC,MAO7B,OACE,sBAAKC,UAAU,eAAf,UACE,wBAAQA,UAAU,2BAA2BC,QAAS,kBAAM+S,GAAsB,IAAlF,0BAIA,uBAAM9S,SAXW,SAACN,GACpBA,EAAEO,iBACFZ,EAASoU,YAAe3P,KAStB,UACE,qBAAKhE,UAAU,cAAf,SACE,qBACEK,IAAKhB,EAAKK,KAAKT,OACfuB,IAAI,SACJC,MAAO,CAAEC,OAAQpB,EAAQ,YAAc,iBAG3C,sBAAKU,UAAU,aAAf,UACE,uBAAOuB,QAAQ,qBAAf,kDACA,sBAAKvB,UAAU,oBAAf,UACE,uBACEW,KAAM,QACNX,UAAU,eACVY,GAAG,qBACHE,SAAU4S,EACV3T,MAAOoD,EACPrD,KAAK,QACLW,MAAO,CAAEkG,WAAW,GAAD,OAAK0L,EAAMlP,MAAQ,YAAc,OAEtD,gCAAQkP,EAAMlP,MAAQkP,EAAMlP,MAAQ,WAIxC,sBAAKnD,UAAU,aAAf,UACE,uBAAOuB,QAAQ,cAAf,kDACA,sBAAKvB,UAAU,oBAAf,UACE,uBACEW,KAAMsS,EAAc,OAAS,WAC7BjT,UAAU,eACVY,GAAG,wBACHE,SAAU4S,EACV3T,MAAOwT,EACPzT,KAAK,cACLW,MAAO,CAAEkG,WAAW,GAAD,OAAK0L,EAAMkB,YAAc,YAAc,OAE5D,uBAAOtT,QAAS,kBAAMiT,GAAgBD,IAAtC,SACGA,EAAc,OAAS,YAG5B,uBAAOjT,UAAU,wBAAjB,SACGqS,EAAMkB,YAAclB,EAAMkB,YAAc,QAG7C,sBAAKvT,UAAU,aAAf,UACE,uBAAOuB,QAAQ,cAAf,mDACA,sBAAKvB,UAAU,oBAAf,UACE,uBACEW,KAAMwS,EAAc,OAAS,WAC7BnT,UAAU,eACVY,GAAG,wBACHE,SAAU4S,EACV3T,MAAOyT,EACP1T,KAAK,cACLW,MAAO,CAAEkG,WAAW,GAAD,OAAK0L,EAAMmB,YAAc,YAAc,OAE5D,uBAAOvT,QAAS,kBAAMmT,GAAgBD,IAAtC,SACGA,EAAc,OAAS,YAG5B,uBAAOnT,UAAU,wBAAjB,SACGqS,EAAMmB,YAAcnB,EAAMmB,YAAc,QAG7C,sBAAKxT,UAAU,aAAf,UACE,uBAAOuB,QAAQ,iBAAf,mDACA,sBAAKvB,UAAU,oBAAf,UACE,uBACEW,KAAM0S,EAAa,OAAS,WAC5BrT,UAAU,eACVY,GAAG,wBACHE,SAAU4S,EACV3T,MAAO0T,EACP3T,KAAK,iBACLW,MAAO,CACLkG,WAAW,GAAD,OAAK0L,EAAMoB,eAAiB,YAAc,OAGxD,uBAAOxT,QAAS,kBAAMqT,GAAeD,IAArC,SAAmDA,EAAa,OAAS,YAE3E,uBAAOrT,UAAU,wBAAjB,SACGqS,EAAMoB,eAAiBpB,EAAMoB,eAAiB,QAInD,wBAAQzT,UAAU,qBAAqBW,KAAK,SAA5C,6BCbOiT,EA1GF,WACX,IADiB,EAMmCpV,oBAAS,GAN5C,mBAMVqV,EANU,KAMUb,EANV,OAOe7T,aAAY,SAACC,GAAD,OAAWA,KAA/CC,EAPS,EAOTA,KAAMC,EAPG,EAOHA,MAAOwP,EAPJ,EAOIA,OACfvP,EAAWC,cACTsU,EAAaC,cAAbD,SAEFE,EAAW,SAACC,GAChB,GAAIA,IAAOH,EAAU,MAAO,UAG9B,OACE,sBAAK9T,UAAU,OAAf,UACE,qBAAIA,UAAU,sBAAd,UAhBa,CACf,CAAEkU,MAAO,OAAQC,KAAM,OAAQC,KAAM,KACrC,CAAEF,MAAO,UAAWC,KAAM,UAAWC,KAAM,YAC3C,CAAEF,MAAO,WAAYC,KAAM,UAAWC,KAAM,cAc9BnS,KAAI,SAACoS,EAAMhO,GAAP,OACZ,oBAAIrG,UAAS,wBAAmBgU,EAASK,EAAKD,OAA9C,SACE,cAAC,IAAD,CAAMpU,UAAU,WAAWiR,GAAIoD,EAAKD,KAApC,SACE,sBAAMpU,UAAU,iBAAhB,SAAkCqU,EAAKF,UAFiB9N,MAO9D,qBAAIrG,UAAU,oBAAoBS,MAAO,CAAEkK,QAAS,GAApD,UACE,uBACE3K,UAAU,6BACVY,GAAG,iBACH0T,KAAK,SACLC,cAAY,WACZC,gBAAc,OACdC,gBAAc,QANhB,UAQE,sBACEzU,UAAU,iBACVS,MAAO,CAAEqG,MAAOgI,EAAO9K,KAAKrC,OAAS,EAAI,UAAY,IAFvD,2BAOA,sBAAM3B,UAAU,gBAAhB,SAAiC8O,EAAO9K,KAAKrC,YAG/C,qBACE3B,UAAU,gBACV0U,kBAAgB,iBAChBjU,MAAO,CAAEiB,UAAW,oBAHtB,SAKE,cAAC,EAAD,SAIJ,qBAAI1B,UAAU,oBAAoBS,MAAO,CAAEkK,QAAS,GAApD,UACE,sBACE3K,UAAU,2BACVY,GAAG,iBACH0T,KAAK,SACLC,cAAY,WACZC,gBAAc,OACdC,gBAAc,QANhB,SAQE,cAAC3R,EAAA,EAAD,CAAQzC,IAAKhB,EAAKK,KAAKT,OAAQ8D,KAAK,oBAGtC,sBAAK/C,UAAU,gBAAgB0U,kBAAgB,iBAA/C,UACE,cAAC,IAAD,CAAM1U,UAAU,gBAAgBiR,GAAE,mBAAc5R,EAAKK,KAAKyC,KAA1D,0BAIA,uBACEZ,QAAQ,QACRvB,UAAU,gBACVC,QAAS,kBACPV,EAAS,CACPoB,KAAMQ,IAAYwT,MAClBtT,SAAU/B,KANhB,SAUGA,EAAQ,yBAAmB,4BAG9B,uBAEEU,UAAU,gBACVC,QAAS,WACP+S,GAAsB,IAJ1B,8CAUA,qBAAKhT,UAAU,qBACf,cAAC,IAAD,CAAMA,UAAU,gBAAgBiR,GAAG,IAAIhR,QAAS,kBAAMV,EAASqV,gBAA/D,+CAMLf,GAAsB,cAAC,EAAD,CAAgBb,sBAAuBA,Q,8CCjCrD6B,EAtEA,WAAO,IAAD,EACSrW,mBAAS,IADlB,mBACZsW,EADY,KACJC,EADI,OAEOvW,mBAAS,IAFhB,mBAEZuD,EAFY,KAELiT,EAFK,KAIX3V,EAASF,aAAY,SAACC,GAAD,OAAWA,KAAhCC,KACFE,EAAWC,cALE,EAMKhB,oBAAS,GANd,mBAMZqF,EANY,KAMNC,EANM,KAQbmR,EAAY,uCAAG,WAAOrV,GAAP,eAAAsE,EAAA,yDACnBtE,EAAEO,iBACG2U,EAFc,iEAKjBhR,GAAQ,GALS,SAMCK,YAAW,mBAAD,OAAoB2Q,GAAUzV,EAAK+E,OAN9C,OAMXC,EANW,OAOjB2Q,EAAS3Q,EAAIL,KAAKjC,OAClB+B,GAAQ,GARS,kDAUjBvE,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OAZrB,0DAAH,sDAiBZiQ,EAAc,WAClBH,EAAU,IACVC,EAAS,KAGX,OACE,uBAAMhV,UAAU,cAAcE,SAAU+U,EAAxC,UACE,uBACEtU,KAAK,OACLb,KAAK,SACLC,MAAO+U,EACPlU,GAAG,SACHoR,MAAM,mBACNlR,SAAU,SAAClB,GAAD,OAAOmV,EAAUnV,EAAEC,OAAOE,MAAMoV,cAAcC,QAAQ,KAAM,QAGxE,sBAAKpV,UAAU,cAAcS,MAAO,CAAEkK,QAASmK,EAAS,EAAI,IAA5D,UACE,sBAAM9U,UAAU,iBAAhB,oBACA,uDAGF,qBACEA,UAAU,eACVC,QAASiV,EACTzU,MAAO,CAAEkK,QAA0B,IAAjB5I,EAAMJ,OAAe,EAAI,GAH7C,kBAQA,wBAAQhB,KAAK,SAASF,MAAO,CAAEmK,QAAS,QAAxC,8BAIC/G,GAAQ,qBAAK7D,UAAU,UAAUK,IAAKoE,IAAUjE,IAAI,YAErD,qBAAKR,UAAU,QAAf,SACG8U,GACC/S,EAAME,KAAI,SAACvC,GAAD,OACR,cAACwC,EAAA,EAAD,CAAyBxC,KAAMA,EAAM2V,OAAO,SAASH,YAAaA,GAAnDxV,EAAKyC,cCzCjBmT,EAxBA,WACb,OACE,qBAAKtV,UAAU,kBAAf,SACE,sBACEA,UAAU,wFADZ,UAIE,cAAC,IAAD,CAAMiR,GAAG,IAAIjR,UAAU,OAAvB,SACE,oBACEA,UAAU,sCACVC,QAAS,kBAAM+F,OAAOuP,SAAS,CAAE/T,IAAK,KAFxC,yBAQF,cAAC,EAAD,IAEA,cAAC,EAAD,U,+BC6LOgU,EA7MK,WAAO,IAAD,EACgBrW,aAAY,SAACC,GAAD,OAAWA,KAAvDC,EADgB,EAChBA,KAAMC,EADU,EACVA,MAAOiN,EADG,EACHA,OAAQhF,EADL,EACKA,OACvBhI,EAAWC,cAFO,EAIMhB,mBAAS,IAJf,mBAIjB0M,EAJiB,KAIRD,EAJQ,OAKIzM,mBAAS,IALb,mBAKjBuN,EALiB,KAKT0J,EALS,OAOIjX,oBAAS,GAPb,mBAOjBkX,EAPiB,KAOTC,EAPS,KAQlBC,EAAW7N,mBACX8N,EAAY9N,mBATM,EAUIvJ,mBAAS,IAVb,mBAUjBsX,EAViB,KAUTC,EAVS,KAkGxB,OAPAtW,qBAAU,WACJ8M,EAAO9J,SACTwI,EAAWsB,EAAOrB,SAClBuK,EAAUlJ,EAAOR,WAElB,CAACQ,IAGF,qBAAKvM,UAAU,eAAf,SACE,uBAAME,SA7BW,SAACN,GAEpB,GADAA,EAAEO,iBACoB,IAAlB4L,EAAOpK,OACT,OAAOpC,EAAS,CACdoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,qDAGlBiL,EAAO9J,OACTlD,EAAS+M,YAAW,CAAEpB,UAASa,SAAQ1M,OAAMkN,YAE7ChN,EAASuM,YAAW,CAAEZ,UAASa,SAAQ1M,OAAMkI,YAG/C0D,EAAW,IACXwK,EAAU,IACNK,GAAQA,EAAOE,OACnBzW,EAAS,CAAEoB,KAAMQ,IAAY8U,OAAQ5U,SAAS,KAY5C,UACE,sBAAKrB,UAAU,gBAAf,UACE,oBAAIA,UAAU,MAAd,uCACA,sBACEC,QAAS,kBACPV,EAAS,CACPoB,KAAMQ,IAAY8U,OAClB5U,SAAS,KAJf,qBAYF,sBAAKrB,UAAU,cAAf,UACE,0BACEF,KAAK,UACLC,MAAOmL,EACPH,YAAW,UAAK1L,EAAKK,KAAKsD,SAAf,yCACXlC,SAAU,SAAClB,GAAD,OAAOqL,EAAWrL,EAAEC,OAAOE,QACrCU,MAAO,CACLC,OAAQpB,EAAQ,YAAc,YAC9BwH,MAAOxH,EAAQ,QAAU,OACzBqH,WAAYrH,EAAQ,kBAAoB,MAI5C,sBAAKU,UAAU,SAAf,UACE,qBAAKA,UAAU,cACf,cAACgL,EAAA,EAAD,CAAOC,WAAYA,EAAYC,QAASA,EAAS5L,MAAOA,OAG1D,qBAAKU,UAAU,cAAf,SACG+L,EAAO9J,KAAI,SAACwK,EAAKpG,GAAN,OACV,sBAAiBzF,GAAG,WAApB,UACG6L,EAAIyJ,OACHzP,YAAUgG,EAAIyJ,OAAQ5W,GACpBmN,EAAInG,IACN,mCACGmG,EAAInG,IAAIC,MAAM,UACXC,YAAUiG,EAAInG,IAAKhH,GACnBmH,YAAUgG,EAAInG,IAAKhH,KAGzB,mCACGmN,EAAI9L,KAAK4F,MAAM,UACZC,YAAUlG,IAAIC,gBAAgBkM,GAAMnN,GACpCmH,YAAUnG,IAAIC,gBAAgBkM,GAAMnN,KAG5C,sBAAMW,QAAS,kBAxHR,SAACoG,GACpB,IAAM2C,EAAM,YAAO+C,GACnB/C,EAAO6B,OAAOxE,EAAO,GACrBoP,EAAUzM,GAqHuBmN,CAAa9P,IAAlC,oBAhBQA,QAqBbqP,GACC,sBAAK1V,UAAU,2BAAf,UACE,uBACEoW,UAAQ,EACRC,OAAK,EACL5L,IAAKmL,EACLxE,MAAM,OACN5G,OAAO,OACP/J,MAAO,CAAEC,OAAQpB,EAAQ,YAAc,eAGzC,sBAAMW,QArGO,WACvB6V,EAAOE,OACPL,GAAU,IAmGA,kBACA,wBAAQlL,IAAKoL,EAAWpV,MAAO,CAAEmK,QAAS,aAI9C,qBAAK5K,UAAU,eAAf,SACG0V,EACC,mBAAG1V,UAAU,gBAAgBC,QAzHnB,WACpB,IAAMmR,EAAQwE,EAASnN,QAAQ6N,YACzB9L,EAASoL,EAASnN,QAAQ8N,aAEhCV,EAAUpN,QAAQ+N,aAAa,QAASpF,GACxCyE,EAAUpN,QAAQ+N,aAAa,SAAUhM,GAE7BqL,EAAUpN,QAAQgO,WAAW,MACrCC,UAAUd,EAASnN,QAAS,EAAG,EAAG2I,EAAO5G,GAC7C,IAAIlK,EAAMuV,EAAUpN,QAAQkO,YAC5BlB,EAAU,GAAD,mBAAK1J,GAAL,CAAa,CAAEmK,OAAQ5V,SAiHtB,qCACE,mBAAGN,UAAU,gBAAgBC,QA5ItB,WACnB0V,GAAU,GACNiB,UAAUC,cAAgBD,UAAUC,aAAaC,cACnDF,UAAUC,aACPC,aAAa,CAAE9P,OAAO,IACtBlC,MAAK,SAACiS,GACLnB,EAASnN,QAAQuO,UAAYD,EAC7BnB,EAASnN,QAAQwO,OAEjB,IAAMC,EAAQH,EAAYI,YAC1BpB,EAAUmB,EAAM,OAEjBnS,OAAM,SAAC9D,GAAD,OAASmW,QAAQC,IAAIpW,SAkIpB,sBAAKjB,UAAU,cAAf,UACE,mBAAGA,UAAU,iBACb,uBACEW,KAAK,OACLb,KAAK,OACLc,GAAG,OACHuK,UAAQ,EACRtK,OAAO,kBACPC,SA/KS,SAAClB,GAC1B,IAAMoB,EAAK,YAAOpB,EAAEC,OAAOmB,OACvBC,EAAM,GACNqW,EAAY,GAEhBtW,EAAM+C,SAAQ,SAAChD,GACb,OAAKA,EAEDA,EAAKgC,KAAO,QACN9B,EAAM,6CAGTqW,EAAU/M,KAAKxJ,GANHE,EAAM,8CASvBA,GAAK1B,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEC,MAAOL,KAC/DwU,EAAU,GAAD,mBAAK1J,GAAWuL,kBAuKrB,qBAAKtX,UAAU,gBAAf,SACE,wBAAQA,UAAU,0BAA0BW,KAAK,SAAjD,oC,kCC3MK,MAA0B,4CC4L1B4W,EAtKM,WAAO,IAAD,EACsBpY,aAAY,SAACC,GAAD,OAAWA,KAA9DC,EADiB,EACjBA,KAAMkI,EADW,EACXA,OAAQuH,EADG,EACHA,OAAQ0I,EADL,EACKA,OAAQ9Q,EADb,EACaA,KAChCnH,EAAWC,cAGXiY,EAAW1P,mBAwJjB,OArJAtI,qBAAU,WACR8H,EAAO6C,KAAK,WAAY/K,EAAKK,QAC5B,CAAC6H,EAAQlI,EAAKK,OAGjBD,qBAAU,WAKR,OAJA8H,EAAOmQ,GAAG,gBAAgB,SAACzL,GACzB1M,EAAS,CAAEoB,KAAM6K,IAAWjH,YAAalD,QAAS4K,OAG7C,kBAAM1E,EAAOoQ,IAAI,mBACvB,CAACpQ,EAAQhI,IAEZE,qBAAU,WAKR,OAJA8H,EAAOmQ,GAAG,kBAAkB,SAACzL,GAC3B1M,EAAS,CAAEoB,KAAM6K,IAAWjH,YAAalD,QAAS4K,OAG7C,kBAAM1E,EAAOoQ,IAAI,qBACvB,CAACpQ,EAAQhI,IAGZE,qBAAU,WAKR,OAJA8H,EAAOmQ,GAAG,yBAAyB,SAACzL,GAClC1M,EAAS,CAAEoB,KAAM6K,IAAWjH,YAAalD,QAAS4K,OAG7C,kBAAM1E,EAAOoQ,IAAI,4BACvB,CAACpQ,EAAQhI,IAEZE,qBAAU,WAKR,OAJA8H,EAAOmQ,GAAG,yBAAyB,SAACzL,GAClC1M,EAAS,CAAEoB,KAAM6K,IAAWjH,YAAalD,QAAS4K,OAG7C,kBAAM1E,EAAOoQ,IAAI,4BACvB,CAACpQ,EAAQhI,IAGZE,qBAAU,WAKR,OAJA8H,EAAOmQ,GAAG,kBAAkB,SAAC7O,GAC3BtJ,EAAS,CAAEoB,KAAMQ,IAAYsM,KAAMpM,QAAQ,2BAAMhC,GAAP,IAAaK,KAAMmJ,SAGxD,kBAAMtB,EAAOoQ,IAAI,qBACvB,CAACpQ,EAAQhI,EAAUF,IAEtBI,qBAAU,WAKR,OAJA8H,EAAOmQ,GAAG,oBAAoB,SAAC7O,GAC7BtJ,EAAS,CAAEoB,KAAMQ,IAAYsM,KAAMpM,QAAQ,2BAAMhC,GAAP,IAAaK,KAAMmJ,SAGxD,kBAAMtB,EAAOoQ,IAAI,uBACvB,CAACpQ,EAAQhI,EAAUF,IAGtBI,qBAAU,WAQR,OAPA8H,EAAOmQ,GAAG,wBAAwB,SAACzS,GA9Eb,IAACkN,EAAMgC,EAAM7N,EA+EjC/G,EAAS,CAAEoB,KAAM4N,IAAaE,cAAepN,QAAS4D,IAElD6J,EAAO0D,OAAOiF,EAAShP,QAAQwO,OAjFd9E,EAkFHlN,EAAIvF,KAAKsD,SAAW,IAAMiC,EAAIkB,KAlFrBgO,EAkF2BlP,EAAIvF,KAAKT,OAlF9BqH,EAkFsCrB,EAAIqB,IA7EvE,IAAIsR,aA6EwE,YAjFtE,CACZzF,OACAgC,SAIA0D,QAAU,SAACjY,GACXA,EAAEO,iBACF6F,OAAOkE,KAAK5D,EAAK,cA4EV,kBAAMiB,EAAOoQ,IAAI,2BACvB,CAACpQ,EAAQhI,EAAUuP,EAAO0D,QAE7B/S,qBAAU,WAKR,OAJA8H,EAAOmQ,GAAG,wBAAwB,SAACzS,GACjC1F,EAAS,CAAEoB,KAAM4N,IAAaG,cAAerN,QAAS4D,OAGjD,kBAAMsC,EAAOoQ,IAAI,2BACvB,CAACpQ,EAAQhI,IAGZE,qBAAU,WAcR,OAbA8H,EAAOmQ,GAAG,sBAAsB,SAACzS,GAC/B1F,EAAS,CAAEoB,KAAMyO,IAAWE,YAAajO,QAAS4D,IAElD1F,EAAS,CACPoB,KAAMyO,IAAWC,SACjBhO,QAAQ,2BACH4D,EAAIvF,MADF,IAELyG,KAAMlB,EAAIkB,KACVC,MAAOnB,EAAImB,aAKV,kBAAMmB,EAAOoQ,IAAI,yBACvB,CAACpQ,EAAQhI,IAGZE,qBAAU,WACR8H,EAAO6C,KAAK,kBAAmB/K,EAAKK,QACnC,CAAC6H,EAAQlI,EAAKK,OAEjBD,qBAAU,WASR,OARA8H,EAAOmQ,GAAG,uBAAuB,SAAC1T,GAChCA,EAAKD,SAAQ,SAACyB,GACPgS,EAAOM,SAAStS,EAAK5E,KACxBrB,EAAS,CAAEoB,KAAMQ,IAAY4W,OAAQ1W,QAASmE,EAAK5E,WAKlD,kBAAM2G,EAAOoQ,IAAI,0BACvB,CAACpQ,EAAQhI,EAAUiY,IAEtB/X,qBAAU,WAOR,OANA8H,EAAOmQ,GAAG,2BAA2B,SAAC9W,GAC/B4W,EAAOM,SAASlX,IACnBrB,EAAS,CAAEoB,KAAMQ,IAAY4W,OAAQ1W,QAAST,OAI3C,kBAAM2G,EAAOoQ,IAAI,8BACvB,CAACpQ,EAAQhI,EAAUiY,IAGtB/X,qBAAU,WAKR,OAJA8H,EAAOmQ,GAAG,oBAAoB,SAAC9W,GAC7BrB,EAAS,CAAEoB,KAAMQ,IAAY6W,QAAS3W,QAAST,OAG1C,kBAAM2G,EAAOoQ,IAAI,uBACvB,CAACpQ,EAAQhI,IAGZE,qBAAU,WAKR,OAJA8H,EAAOmQ,GAAG,oBAAoB,SAAC1T,GAC7BzE,EAAS,CAAEoB,KAAMQ,IAAY6I,KAAM3I,QAAS2C,OAGvC,kBAAMuD,EAAOoQ,IAAI,uBACvB,CAACpQ,EAAQhI,IAEZE,qBAAU,WAQR,OAPA8H,EAAOmQ,GAAG,YAAY,SAAC1T,GACrBzE,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAM,GAAD,OAAKoF,EAAK1D,SAAV,mBAIb,kBAAMuE,EAAOoQ,IAAI,eACvB,CAACpQ,EAAQhI,EAAUmH,IAGpB,mCACE,uBAAOuR,UAAQ,EAACxN,IAAKgN,EAAUhX,MAAO,CAAEmK,QAAS,QAAjD,SACE,wBAAQvK,IAAK6X,EAAWvX,KAAK,mBCtLtB,MAA0B,qCC6R1BwX,GAtRG,WAAO,IAAD,EACsBhZ,aAAY,SAACC,GAAD,OAAWA,KAA3DsH,EADc,EACdA,KAAMrH,EADQ,EACRA,KAAMmI,EADE,EACFA,KAAMD,EADJ,EACIA,OAAQjI,EADZ,EACYA,MAC5BC,EAAWC,cAFK,EAIIhB,mBAAS,GAJb,mBAIf4Z,EAJe,KAIRC,EAJQ,OAKE7Z,mBAAS,GALX,mBAKf8Z,EALe,KAKTC,EALS,OAMM/Z,mBAAS,GANf,mBAMfga,EANe,KAMPC,EANO,OAOIja,mBAAS,GAPb,mBAOfoH,EAPe,KAOR8S,EAPQ,OASMla,oBAAS,GATf,mBASfma,EATe,KASPC,EATO,KAUhBC,EAAW9Q,mBACX+Q,EAAa/Q,mBAXG,EAYMvJ,mBAAS,MAZf,mBAYfsX,EAZe,KAYPC,EAZO,OAaQvX,mBAAS,MAbjB,mBAafua,EAbe,KAaNC,EAbM,KAgBtBvZ,qBAAU,WAOR,OANgB,SAAVwZ,IACJP,GAAS,SAACQ,GAAD,OAAOA,EAAI,KACpB1Q,WAAWyQ,EAAS,KAEtBA,GAEO,kBAAMP,EAAS,MACrB,IAEHjZ,qBAAU,WACRgZ,EAAU7S,EAAQ,IAClB2S,EAAQ1S,SAASD,EAAQ,KACzByS,EAASxS,SAASD,EAAQ,SACzB,CAACA,IAGJ,IAAMuT,EAAiBC,uBACrB,SAAC1S,EAAMK,EAAOsS,GACZ,GAAI3S,EAAKyC,YAAc9J,EAAKK,KAAKyC,KAAOkX,EAAY,CAClD,IAAMpU,EAAM,CACViE,OAAQxC,EAAKwC,OACbC,UAAWzC,EAAKyC,UAChBhD,KAAM,GACNC,MAAO,GACPM,KAAM,CAAEM,MAAON,EAAKM,MAAOD,SAC3BG,WAAW,IAAID,MAAOmC,eAExB7J,EAAS8J,YAAW,CAAEpE,MAAK5F,OAAMkI,eAGrC,CAAClI,EAAME,EAAUgI,IAGb+R,EAAgB,WACpBxD,GAAUA,EAAO/R,SAAQ,SAACmT,GAAD,OAAWA,EAAMlB,UACtC+C,GAASA,EAAQQ,QACrB,IAAIxS,EAAQ4R,EAAS/S,EAAQ,EAC7B2B,EAAO6C,KAAK,UAAZ,2BAA4B1D,GAA5B,IAAkCK,WAElCoS,EAAezS,EAAMK,GACrBxH,EAAS,CAAEoB,KAAMQ,IAAY6I,KAAM3I,QAAS,QAG9C5B,qBAAU,WACR,IAAIkZ,EAEG,CACL,IAAMa,EAAQhR,YAAW,WACvBjB,EAAO6C,KAAK,UAAZ,2BAA4B1D,GAA5B,IAAkCK,MAAO,KACzCoS,EAAezS,EAAM,GACrBnH,EAAS,CAAEoB,KAAMQ,IAAY6I,KAAM3I,QAAS,SAC3C,MAEH,OAAO,kBAAMoY,aAAaD,IAR1Bd,EAAS,KAUV,CAACnZ,EAAUoZ,EAAQjS,EAAMa,EAAQ4R,IAEpC1Z,qBAAU,WAQR,OAPA8H,EAAOmQ,GAAG,mBAAmB,SAAC1T,GAC5B8R,GAAUA,EAAO/R,SAAQ,SAACmT,GAAD,OAAWA,EAAMlB,UACtC+C,GAASA,EAAQQ,QACrBJ,EAAenV,EAAMA,EAAK+C,OAC1BxH,EAAS,CAAEoB,KAAMQ,IAAY6I,KAAM3I,QAAS,UAGvC,kBAAMkG,EAAOoQ,IAAI,sBACvB,CAACpQ,EAAQhI,EAAUuW,EAAQqD,EAAgBJ,IAG9C,IAAMW,EAAa,SAAC1S,GAClB,IAAM2S,EAAS,CAAEC,OAAO,EAAM5S,SAC9B,OAAO4P,UAAUC,aAAaC,aAAa6C,IAGvCE,EAAa,SAACC,EAAKpE,GACvB,IAAI1O,EAAQ8S,EACZ9S,EAAMgQ,UAAYtB,EAClB1O,EAAMiQ,QAIF8C,EAAe,WACnBL,EAAWhT,EAAKM,OAAOlC,MAAK,SAAC4Q,GAC3BmE,EAAWhB,EAASpQ,QAASiN,GAC7B,IAAMwB,EAAQxB,EAAOyB,YACrBpB,EAAUmB,GAEV,IAAM6B,EAAUvR,EAAKd,KAAKA,EAAKyD,OAAQuL,GACvCqD,EAAQrB,GAAG,UAAU,SAAUsC,GAC7BH,EAAWf,EAAWrQ,QAASuR,MAEjCpB,GAAU,GACVI,EAAWD,OAIftZ,qBAAU,WAmBR,OAlBA+H,EAAKkQ,GAAG,QAAQ,SAACqB,GACfW,EAAWhT,EAAKM,OAAOlC,MAAK,SAAC4Q,GACvBmD,EAASpQ,SACXoR,EAAWhB,EAASpQ,QAASiN,GAE/B,IAAMwB,EAAQxB,EAAOyB,YACrBpB,EAAUmB,GAEV6B,EAAQJ,OAAOjD,GACfqD,EAAQrB,GAAG,UAAU,SAAUsC,GACzBlB,EAAWrQ,SACboR,EAAWf,EAAWrQ,QAASuR,MAGnCpB,GAAU,GACVI,EAAWD,SAGR,kBAAMvR,EAAKyS,eAAe,WAChC,CAACzS,EAAMd,EAAKM,QAGfvH,qBAAU,WAeR,OAdA8H,EAAOmQ,GAAG,oBAAoB,WAC5B5B,GAAUA,EAAO/R,SAAQ,SAACmT,GAAD,OAAWA,EAAMlB,UACtC+C,GAASA,EAAQQ,QAErBJ,EAAezS,EADHiS,EAAS/S,EAAQ,GACD,GAE5BrG,EAAS,CAAEoB,KAAMQ,IAAY6I,KAAM3I,QAAS,OAE5C9B,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAM,OAAD,OAASoF,EAAK1D,SAAd,qBAIb,kBAAMuE,EAAOoQ,IAAI,uBACvB,CAACpQ,EAAQuO,EAAQvW,EAAUmH,EAAMyS,EAAgBR,EAAQ/S,EAAOmT,IAGnE,IAIMmB,EAAa,SAACC,GAClBA,EAASC,QACTD,EAASE,YAAc,GAczB,OAXA5a,qBAAU,WACR,IAAI0a,EAAW,IAAIG,MAAMC,GAOzB,OANI5B,EACFuB,EAAWC,GAZG,SAACA,GACjBA,EAASlD,OAaPuD,CAAUL,GAGL,kBAAMD,EAAWC,MACvB,CAACxB,IAGF,sBAAK3Y,UAAU,aAAf,UACE,sBACEA,UAAU,WACVS,MAAO,CACLmK,QAAS+N,GAAUjS,EAAKM,MAAQ,OAAS,QAH7C,UAME,sBAAKhH,UAAU,cAAcS,MAAO,CAAEga,QAAS,UAA/C,UACE,cAAC3X,EAAA,EAAD,CAAQzC,IAAKqG,EAAKzH,OAAQ8D,KAAK,kBAC/B,6BAAK2D,EAAK1D,WACV,6BAAK0D,EAAKjI,WAETka,EACC,gCACE,+BAAOP,EAAMtS,WAAWnE,OAAS,EAAI,IAAMyW,EAAQA,IACnD,qCACA,+BAAOE,EAAKxS,WAAWnE,OAAS,EAAI,IAAM2W,EAAOA,IACjD,qCACA,+BACGE,EAAO1S,WAAWnE,OAAS,EAAI,IAAM6W,EAASA,OAInD,8BACG9R,EAAKM,MACJ,+DAEA,+DAMN2R,GACA,sBAAK3Y,UAAU,QAAf,UACE,gCAAQsY,EAAKxS,WAAWnE,OAAS,EAAI,IAAM2W,EAAOA,IAClD,sCACA,gCACGE,EAAO1S,WAAWnE,OAAS,EAAI,IAAM6W,EAASA,OAKrD,sBAAKxY,UAAU,YAAf,UACE,wBACEA,UAAU,6BACVC,QAASqZ,EAFX,sBAOC5S,EAAKyC,YAAc9J,EAAKK,KAAKyC,MAAQwW,GACpC,mCACGjS,EAAKM,MACJ,wBACEhH,UAAU,8BACVC,QAAS8Z,EAFX,sBAOA,wBACE/Z,UAAU,8BACVC,QAAS8Z,EAFX,0BAYV,sBACE/Z,UAAU,aACVS,MAAO,CACLkK,QAASgO,GAAUjS,EAAKM,MAAQ,IAAM,IACtCtG,OAAQpB,EAAQ,YAAc,aAJlC,UAOE,uBAAOmL,IAAKoO,EAAU7Y,UAAU,YAAY0a,aAAW,EAACrE,OAAK,IAC7D,uBAAO5L,IAAKqO,EAAY9Y,UAAU,cAAc0a,aAAW,IAE3D,sBAAK1a,UAAU,aAAf,UACE,+BAAOoY,EAAMtS,WAAWnE,OAAS,EAAI,IAAMyW,EAAQA,IACnD,qCACA,+BAAOE,EAAKxS,WAAWnE,OAAS,EAAI,IAAM2W,EAAOA,IACjD,qCACA,+BAAOE,EAAO1S,WAAWnE,OAAS,EAAI,IAAM6W,EAASA,OAGvD,wBACExY,UAAU,sCACVC,QAASqZ,EAFX,6B,qBC9KOqB,OAtEf,WAAgB,IAAD,EACyBxb,aAAY,SAACC,GAAD,OAAWA,KAArDC,EADK,EACLA,KAAMkN,EADD,EACCA,OAAQqO,EADT,EACSA,MAAOlU,EADhB,EACgBA,KACrBmU,EAAaxb,EAAbwb,SAEFtb,EAAWC,cAuCjB,OArCAC,qBAAU,WACRF,EAASub,eAET,IAAMvT,EAASwT,MAEf,OADAxb,EAAS,CAAEoB,KAAMQ,IAAY6Z,OAAQ3Z,QAASkG,IACvC,kBAAMA,EAAOgS,WACnB,CAACha,IAEJE,qBAAU,WACJJ,EAAK+E,QACP7E,EAAS8M,YAAShN,EAAK+E,QACvB7E,EAAS0b,YAAe5b,EAAK+E,QAC7B7E,EAASwP,YAAY1P,EAAK+E,WAE3B,CAAC7E,EAAUF,EAAK+E,QAEnB3E,qBAAU,WACF,iBAAkBuG,OAEe,YAA5B4R,aAAasD,YACe,WAA5BtD,aAAasD,YACtBtD,aAAauD,oBAAoBrW,MAAK,SAAUoW,OAHhD7I,MAAM,wDAQP,IAEH5S,qBAAU,WACR,IAAM2b,EAAU,IAAIC,UAAKC,EAAW,CAClClH,KAAM,IACNmH,QAAQ,IAGVhc,EAAS,CAAEoB,KAAMQ,IAAYqa,KAAMna,QAAS+Z,MAC3C,CAAC7b,IAGF,eAAC,IAAD,WACE,cAACkc,EAAD,IAEA,uBAAO9a,KAAK,WAAWC,GAAG,UAC1B,qBAAKZ,UAAS,eAAUuM,GAAUqO,IAAU,QAA5C,SACE,sBAAK5a,UAAU,OAAf,UAEGX,EAAK+E,OAAS,cAAC,EAAD,IACdmI,GAAU,cAAC,EAAD,IACVlN,EAAK+E,OAAS,cAAC,EAAD,IACdsC,GAAQ,cAAC,GAAD,IAET,cAAC,IAAD,CAAOgV,OAAK,EAACtH,KAAK,IAAIuH,UAAWtc,EAAK+E,MAAQwX,UAAOC,YACrD,cAAC,IAAD,CAAOH,OAAK,EAACtH,KAAK,YAAYuH,UAAWd,EAAW1K,EAAW2L,YAC/D,cAAC,IAAD,CAAOJ,OAAK,EAACtH,KAAK,mBAAmBuH,UAAWd,EAAW1K,EAAW4L,YACtE,cAAC,IAAD,CAAOL,OAAK,EAACtH,KAAK,gBAAgBuH,UAAWd,EAAW1K,EAAW6L,YAGnE,cAAC,EAAD,CAAeN,OAAK,EAACtH,KAAK,SAASuH,UAAWrL,IAC9C,cAAC,EAAD,CAAeoL,OAAK,EAACtH,KAAK,aAAauH,UAAWrL,aCjF7C2L,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBrX,MAAK,YAAkD,IAA/CsX,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,mBCLRO,GAAe,GAWNC,GATK,WAAmC,IAAlCtd,EAAiC,uDAAzBqd,GAAcE,EAAW,uCACpD,OAAQA,EAAOhc,MACb,KAAKQ,IAAYsM,KACf,OAAOkP,EAAOtb,QAChB,QACE,OAAOjC,ICPPqd,GAAe,GAWNG,GATM,WAAmC,IAAlCxd,EAAiC,uDAAzBqd,GAAcE,EAAW,uCACrD,OAAQA,EAAOhc,MACb,KAAKQ,IAAYC,MACf,OAAOub,EAAOtb,QAChB,QACE,OAAOjC,ICIEyd,GATM,WAAmC,IAAlCzd,EAAiC,wDAAXud,EAAW,uCACrD,OAAQA,EAAOhc,MACb,KAAKQ,IAAYwT,MACf,OAAOgI,EAAOtb,QAChB,QACE,OAAOjC,I,SCNPqd,GAAe,CACnB/W,SAAS,EACTJ,IAAK,GACLvD,MAAO,GACPwB,MAAO,IA6CMuZ,GA1CQ,WAAmC,IAAlC1d,EAAiC,uDAAzBqd,GAAcE,EAAW,uCACvD,OAAQA,EAAOhc,MACb,KAAK2D,KAAcyY,QACjB,OAAO,2BACF3d,GADL,IAEEsG,QAASiX,EAAOtb,UAEpB,KAAKiD,KAAc0Y,SACjB,OAAO,2BACF5d,GADL,IAEE2C,MAAM,GAAD,mBAAM3C,EAAM2C,OAAZ,CAAmB4a,EAAOtb,QAAQ3B,SAE3C,KAAK4E,KAAc2Y,OAKnB,KAAK3Y,KAAc4Y,SACjB,OAAO,2BACF9d,GADL,IAEE2C,MAAOob,YAAS/d,EAAM2C,MAAO4a,EAAOtb,QAAQc,IAAKwa,EAAOtb,WAE5D,KAAKiD,KAAc8Y,OACjB,OAAO,2BACFhe,GADL,IAEEkG,IAAI,GAAD,mBAAMlG,EAAMkG,KAAZ,CAAiBqX,EAAOtb,YAE/B,KAAKiD,KAAcqH,UACjB,OAAO,2BACFvM,GADL,IAEEmE,MAAM,GAAD,mBAAMnE,EAAMmE,OAAZ,CAAmBoZ,EAAOtb,YAEnC,KAAKiD,KAAcC,YACjB,OAAO,2BACFnF,GADL,IAEEmE,MAAO4Z,YAAS/d,EAAMmE,MAAOoZ,EAAOtb,QAAQc,IAAKwa,EAAOtb,WAE5D,QACE,OAAOjC,ICrCEie,GATO,WAA4B,IAA3Bje,EAA0B,wDAAXud,EAAW,uCAC/C,OAAQA,EAAOhc,MACb,KAAKQ,IAAY8U,OACf,OAAO0G,EAAOtb,QAChB,QACE,OAAOjC,ICJPqd,GAAe,CACnB/W,SAAS,EACTnC,MAAO,GACPE,OAAQ,EACRE,KAAM,GAqCO2Z,GAlCK,WAAmC,IAAlCle,EAAiC,uDAAzBqd,GAAcE,EAAW,uCACpD,OAAQA,EAAOhc,MACb,KAAK6K,IAAWC,YACd,OAAO,2BACFrM,GADL,IAEEmE,MAAM,CAAEoZ,EAAOtb,SAAV,mBAAsBjC,EAAMmE,UAErC,KAAKiI,IAAWE,aACd,OAAO,2BACFtM,GADL,IAEEsG,QAASiX,EAAOtb,UAEpB,KAAKmK,IAAWG,UACd,OAAO,2BACFvM,GADL,IAEEmE,MAAOoZ,EAAOtb,QAAQkC,MACtBE,OAAQkZ,EAAOtb,QAAQoC,OACvBE,KAAMgZ,EAAOtb,QAAQsC,OAEzB,KAAK6H,IAAWjH,YACd,OAAO,2BACFnF,GADL,IAEEmE,MAAO4Z,YAAS/d,EAAMmE,MAAOoZ,EAAOtb,QAAQc,IAAKwa,EAAOtb,WAE5D,KAAKmK,IAAWK,YACd,OAAO,2BACFzM,GADL,IAEEmE,MAAO0M,YAAW7Q,EAAMmE,MAAOoZ,EAAOtb,QAAQc,OAElD,QACE,OAAO/C,IC3BEme,GATM,WAAmC,IAAlCne,EAAiC,wDAAXud,EAAW,uCACrD,OAAQA,EAAOhc,MACb,KAAKQ,IAAY0B,MACf,OAAO8Z,EAAOtb,QAChB,QACE,OAAOjC,ICKEoe,GAXW,WAAyB,IAAxBpe,EAAuB,uDAAf,GAAIud,EAAW,uCAChD,OAAQA,EAAOhc,MACb,KAAK6K,IAAWI,SACd,MAAM,GAAN,mBAAWxM,GAAX,CAAkBud,EAAOtb,UAC3B,KAAKmK,IAAWjH,YACd,OAAO4Y,YAAS/d,EAAOud,EAAOtb,QAAQc,IAAKwa,EAAOtb,SACpD,QACE,OAAOjC,I,SCRPqd,GAAe,CACnB/W,SAAS,EACTnC,MAAO,GACPE,OAAQ,EACRE,KAAM,EACN8Z,WAAW,GA6BEC,GA1BS,WAAmC,IAAlCte,EAAiC,uDAAzBqd,GAAcE,EAAW,uCACxD,OAAQA,EAAOhc,MACb,KAAKgd,KAAeZ,QAClB,OAAO,2BACF3d,GADL,IAEEsG,QAASiX,EAAOtb,UAEpB,KAAKsc,KAAehS,UAClB,OAAO,2BACFvM,GADL,IAEEmE,MAAOoZ,EAAOtb,QAAQkC,MACtBE,OAAQkZ,EAAOtb,QAAQoC,OACvBga,WAAW,IAEf,KAAKE,KAAepZ,YAClB,OAAO,2BACFnF,GADL,IAEEmE,MAAOoZ,EAAOtb,QAAQkC,MACtBE,OAAQkZ,EAAOtb,QAAQoC,OACvBE,KAAMvE,EAAMuE,KAAO,IAEvB,QACE,OAAOvE,IC9BPqd,GAAe,CACnB/W,SAAS,EACT3D,MAAO,IAoBM6b,GAjBY,WAAmC,IAAlCxe,EAAiC,uDAAzBqd,GAAcE,EAAW,uCAC3D,OAAQA,EAAOhc,MACb,KAAKkd,IAAad,QAChB,OAAO,2BACF3d,GADL,IAEEsG,QAASiX,EAAOtb,UAEpB,KAAKwc,IAAaC,UAChB,OAAO,2BACF1e,GADL,IAEE2C,MAAO4a,EAAOtb,QAAQU,QAE1B,QACE,OAAO3C,ICTE2e,GATO,WAAyB,IAAxB3e,EAAuB,uDAAf,GAAIud,EAAW,uCAC5C,OAAQA,EAAOhc,MACb,KAAKQ,IAAY6Z,OACf,OAAO2B,EAAOtb,QAChB,QACE,OAAOjC,ICJPqd,GAAe,CACnB/W,SAAS,EACT1B,KAAM,GACNwO,OAAO,GA0CMwL,GAvCO,WAAmC,IAAlC5e,EAAiC,uDAAzBqd,GAAcE,EAAW,uCACtD,OAAQA,EAAOhc,MACb,KAAK4N,IAAaC,aAChB,OAAO,2BACFpP,GADL,IAEE4E,KAAM2Y,EAAOtb,UAEjB,KAAKkN,IAAaE,cAChB,OAAO,2BACFrP,GADL,IAEE4E,KAAK,CAAE2Y,EAAOtb,SAAV,mBAAsBjC,EAAM4E,SAEpC,KAAKuK,IAAaG,cAChB,OAAO,2BACFtP,GADL,IAEE4E,KAAM5E,EAAM4E,KAAKtD,QACf,SAAC8E,GAAD,OAAUA,EAAK5E,KAAO+b,EAAOtb,QAAQT,IAAM4E,EAAKc,MAAQqW,EAAOtb,QAAQiF,SAG7E,KAAKiI,IAAaI,cAChB,OAAO,2BACFvP,GADL,IAEE4E,KAAMmZ,YAAS/d,EAAM4E,KAAM2Y,EAAOtb,QAAQc,IAAKwa,EAAOtb,WAE1D,KAAKkN,IAAaK,aAChB,OAAO,2BACFxP,GADL,IAEEoT,MAAOmK,EAAOtb,UAElB,KAAKkN,IAAaM,oBAChB,OAAO,2BACFzP,GADL,IAEE4E,KAAM2Y,EAAOtb,UAEjB,QACE,OAAOjC,ICzCPqd,GAAe,CACnB1a,MAAO,GACPkc,YAAa,EACbja,KAAM,GACNyZ,WAAW,GA8EES,GA3EQ,WAAmC,IAAlC9e,EAAiC,uDAAzBqd,GAAcE,EAAW,uCACvD,OAAQA,EAAOhc,MACb,KAAKyO,IAAWC,SACd,OAAIjQ,EAAM2C,MAAMwD,OAAM,SAACC,GAAD,OAAUA,EAAKrD,MAAQwa,EAAOtb,QAAQc,OACnD,2BACF/C,GADL,IAEE2C,MAAM,CAAE4a,EAAOtb,SAAV,mBAAsBjC,EAAM2C,UAG9B3C,EACT,KAAKgQ,IAAWE,YACd,OAAO,2BACFlQ,GADL,IAEE4E,KAAM5E,EAAM4E,KAAK/B,KAAI,SAACuD,GAAD,OACnBA,EAAKrD,MAAQwa,EAAOtb,QAAQ8H,WAAa3D,EAAKrD,MAAQwa,EAAOtb,QAAQ6H,OAArE,2BAES1D,GAFT,IAGM+C,SAAS,GAAD,mBAAM/C,EAAK+C,UAAX,CAAqBoU,EAAOtb,UACpCoC,OAAQ+B,EAAK/B,OAAS,IAExB+B,KAENzD,MAAO3C,EAAM2C,MAAME,KAAI,SAACvC,GAAD,OACrBA,EAAKyC,MAAQwa,EAAOtb,QAAQ8H,WAAazJ,EAAKyC,MAAQwa,EAAOtb,QAAQ6H,OAArE,2BAESxJ,GAFT,IAGMyG,KAAMwW,EAAOtb,QAAQ8E,KACrBC,MAAOuW,EAAOtb,QAAQ+E,MACtBM,KAAMiW,EAAOtb,QAAQqF,OAEvBhH,OAGV,KAAK0P,IAAWG,kBACd,OAAO,2BACFnQ,GADL,IAEE2C,MAAO4a,EAAOtb,QAAQ2H,OACtBiV,YAAatB,EAAOtb,QAAQoC,OAC5Bga,WAAW,IAEf,KAAKrO,IAAWI,aACd,OAAO,2BACFpQ,GADL,IAEE4E,KAAK,GAAD,mBAAM5E,EAAM4E,MAAZ,CAAkB2Y,EAAOtb,YAEjC,KAAK+N,IAAWK,gBACd,OAAO,2BACFrQ,GADL,IAEE4E,KAAMmZ,YAAS/d,EAAM4E,KAAM2Y,EAAOtb,QAAQc,IAAKwa,EAAOtb,WAE1D,KAAK+N,IAAWM,gBACd,OAAO,2BACFtQ,GADL,IAEE4E,KAAM5E,EAAM4E,KAAK/B,KAAI,SAACuD,GAAD,OACnBA,EAAKrD,MAAQwa,EAAOtb,QAAQc,IAA5B,2BAAuCqD,GAAvC,IAA6C+C,SAAUoU,EAAOtb,QAAQuB,UAAY4C,OAGxF,KAAK4J,IAAWO,oBACd,OAAO,2BACFvQ,GADL,IAEE2C,MAAOkO,YAAW7Q,EAAM2C,MAAO4a,EAAOtb,SACtC2C,KAAMiM,YAAW7Q,EAAM4E,KAAM2Y,EAAOtb,WAExC,KAAK+N,IAAWQ,qBACd,OAAO,2BACFxQ,GADL,IAEE2C,MAAO3C,EAAM2C,MAAME,KAAI,SAACvC,GAAD,OACrBid,EAAOtb,QAAQyW,SAASpY,EAAKyC,KAA7B,2BAAyCzC,GAAzC,IAA+C8X,QAAQ,IAAvD,2BAAqE9X,GAArE,IAA2E8X,QAAQ,SAGzF,QACE,OAAOpY,ICpEE+e,GAXO,WAAyB,IAAxB/e,EAAuB,uDAAf,GAAIud,EAAW,uCAC5C,OAAQA,EAAOhc,MACb,KAAKQ,IAAY4W,OACf,MAAM,GAAN,mBAAW3Y,GAAX,CAAkBud,EAAOtb,UAC3B,KAAKF,IAAY6W,QACf,OAAO5Y,EAAMsB,QAAO,SAAC8E,GAAD,OAAUA,IAASmX,EAAOtb,WAChD,QACE,OAAOjC,ICEEgf,GATK,WAA2B,IAA1Bhf,EAAyB,uDAAjB,KAAMud,EAAW,uCAC5C,OAAQA,EAAOhc,MACb,KAAKQ,IAAY6I,KACf,OAAO2S,EAAOtb,QAChB,QACE,OAAOjC,ICIEif,GATK,WAA2B,IAA1Bjf,EAAyB,uDAAjB,KAAMud,EAAW,uCAC5C,OAAQA,EAAOhc,MACb,KAAKQ,IAAYqa,KACf,OAAOmB,EAAOtb,QAChB,QACE,OAAOjC,ICWEkf,8BAAgB,CAC7Bjf,QACAgT,SACA/S,SACAkD,WACA+J,UACAgS,aACA3D,SACAxN,cACAoR,YACAC,eACAlX,UACAuH,UACAxH,WACAkQ,UACA9Q,QACAc,U,UC1BIkX,GAAQC,uBAAYC,GAAaC,+BAAoBC,2BAAgBC,QAM5DC,GAJM,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACtB,OAAO,cAAC,IAAD,CAAUP,MAAOA,GAAjB,SAAyBO,KCJlCC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,UACE,cAAC,GAAD,QAGJC,SAASC,eAAe,SAM1BrD,M,iRCda3X,EAAgB,CAC3ByY,QAAS,kBACTC,SAAU,mBACVC,OAAQ,SACRC,SAAU,WACVE,OAAQ,iBACRzR,UAAW,oBACXpH,YAAa,uBAGFkB,EACX,SAAC,GAAD,IAAG7E,EAAH,EAAGA,GAAIvB,EAAP,EAAOA,KAAP,8CACA,WAAOE,GAAP,qBAAA2E,EAAA,6DACE3E,EAAS,CAAEoB,KAAM2D,EAAc8Y,OAAQ/b,QAAST,IADlD,SAIIrB,EAAS,CAAEoB,KAAM2D,EAAcyY,QAAS1b,SAAS,IAC3CgD,EAAMF,YAAW,SAAD,OAAUvD,GAAMvB,EAAK+E,OACrCmb,EAAOpb,YAAW,eAAD,OAAgBvD,GAAMvB,EAAK+E,OANtD,SAQwBC,EARxB,cAQUtC,EARV,iBASwBwd,EATxB,QASUhc,EATV,OAWIhE,EAAS,CACPoB,KAAM2D,EAAc0Y,SACpB3b,QAASU,EAAMiC,OAGjBzE,EAAS,CACPoB,KAAM2D,EAAcqH,UACpBtK,QAAQ,2BAAMkC,EAAMS,MAAb,IAAmB7B,IAAKvB,EAAI+C,KAAM,MAG3CpE,EAAS,CAAEoB,KAAM2D,EAAcyY,QAAS1b,SAAS,IArBrD,kDAuBI9B,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OAzB1C,0DADA,uDA+BW7E,EACX,SAAC,GAAD,IAAGrB,EAAH,EAAGA,SAAUE,EAAb,EAAaA,OAAQI,EAArB,EAAqBA,KAArB,8CACA,WAAOE,GAAP,iBAAA2E,EAAA,yDACOnF,EAASN,SADhB,yCAEWc,EAAS,CACdoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,+EAJxB,YAOMvC,EAASN,SAASkD,OAAS,IAPjC,yCAQWpC,EAAS,CACdoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,4BAVxB,YAaMvC,EAASF,MAAM8C,OAAS,KAb9B,yCAcWpC,EAAS,CACdoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,sDAhBxB,mBAqBI/B,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEqE,SAAS,MAEpDzG,EAvBR,kCAuB8BgK,YAAY,CAAChK,IAvB3C,QAuBgBmH,EAvBhB,gCAyBsBuG,YAChB,OAD4B,YAAC,eAGxB5N,GAHuB,IAI1BE,OAAQA,EAASmH,EAAM,GAAGE,IAAMjH,EAAKK,KAAKT,SAE5CI,EAAK+E,OA/BX,QAyBUC,EAzBV,OAkCI9E,EAAS,CACPoB,KAAMQ,IAAYsM,KAClBpM,QAAQ,2BACHhC,GADE,IAELK,KAAK,uCACAL,EAAKK,MACLX,GAFD,IAGFE,OAAQA,EAASmH,EAAM,GAAGE,IAAMjH,EAAKK,KAAKT,aAKhDM,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEuL,QAASvI,EAAIL,KAAKiB,OA9CrE,kDAgDI1F,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OAlD1C,0DADA,uDAwDWua,EACX,SAAC,GAAD,IAAGzd,EAAH,EAAGA,MAAOrC,EAAV,EAAUA,KAAML,EAAhB,EAAgBA,KAAMkI,EAAtB,EAAsBA,OAAtB,8CACA,WAAOhI,GAAP,mBAAA2E,EAAA,6DAGMnC,EAAMwD,OAAM,SAACC,GAAD,OAAUA,EAAKrD,MAAQzC,EAAKyC,OAC1C0G,EAAO,2BAAQnJ,GAAR,IAAcuD,UAAU,GAAD,mBAAMvD,EAAKuD,WAAX,CAAsB5D,EAAKK,SAEzDqC,EAAMgC,SAAQ,SAACyB,GACTA,EAAKrD,MAAQzC,EAAKyC,MACpB0G,EAAO,2BAAQrD,GAAR,IAAcvC,UAAU,GAAD,mBAAMuC,EAAKvC,WAAX,CAAsB5D,EAAKK,aAK/DH,EAAS,CAAEoB,KAAM2D,EAAc2Y,OAAQ5b,QAASwH,IAEhDtJ,EAAS,CACPoB,KAAMQ,IAAYsM,KAClBpM,QAAQ,2BACHhC,GADE,IAELK,KAAK,2BAAML,EAAKK,MAAZ,IAAkBwD,UAAU,GAAD,mBAAM7D,EAAKK,KAAKwD,WAAhB,CAA2B2F,UAnBhE,kBAwBsB8D,YAAa,QAAD,OAASjN,EAAKyC,IAAd,WAA4B,KAAM9C,EAAK+E,OAxBzE,OAwBUC,EAxBV,OAyBIkD,EAAO6C,KAAK,SAAU/F,EAAIL,KAAK6E,SAGzB5D,EAAM,CACVrE,GAAIvB,EAAKK,KAAKyC,IACdgE,KAAM,+CACN+F,WAAY,CAACrD,EAAQ1G,KACrBmE,IAAI,YAAD,OAAcjH,EAAKK,KAAKyC,MAG7B5C,EAAS6M,YAAa,CAAEnH,MAAK5F,OAAMkI,YAnCvC,kDAqCIhI,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OAvC1C,0DADA,uDA6CWwa,EACX,SAAC,GAAD,IAAG1d,EAAH,EAAGA,MAAOrC,EAAV,EAAUA,KAAML,EAAhB,EAAgBA,KAAMkI,EAAtB,EAAsBA,OAAtB,8CACA,WAAOhI,GAAP,mBAAA2E,EAAA,6DAGMnC,EAAMwD,OAAM,SAACC,GAAD,OAAUA,EAAKrD,MAAQzC,EAAKyC,OAC1C0G,EAAO,2BACFnJ,GADE,IAELuD,UAAWgN,YAAWvQ,EAAKuD,UAAW5D,EAAKK,KAAKyC,OAGlDJ,EAAMgC,SAAQ,SAACyB,GACTA,EAAKrD,MAAQzC,EAAKyC,MACpB0G,EAAO,2BACFrD,GADE,IAELvC,UAAWgN,YAAWzK,EAAKvC,UAAW5D,EAAKK,KAAKyC,WAMxD5C,EAAS,CAAEoB,KAAM2D,EAAc4Y,SAAU7b,QAASwH,IAElDtJ,EAAS,CACPoB,KAAMQ,IAAYsM,KAClBpM,QAAQ,2BACHhC,GADE,IAELK,KAAK,2BACAL,EAAKK,MADN,IAEFwD,UAAW+M,YAAW5Q,EAAKK,KAAKwD,UAAW2F,EAAQ1G,WA3B3D,kBAiCsBwK,YAAa,QAAD,OAASjN,EAAKyC,IAAd,aAA8B,KAAM9C,EAAK+E,OAjC3E,OAiCUC,EAjCV,OAkCIkD,EAAO6C,KAAK,WAAY/F,EAAIL,KAAK6E,SAG3B5D,EAAM,CACVrE,GAAIvB,EAAKK,KAAKyC,IACdgE,KAAM,+CACN+F,WAAY,CAACrD,EAAQ1G,KACrBmE,IAAI,YAAD,OAAcjH,EAAKK,KAAKyC,MAG7B5C,EAAS2N,YAAa,CAAEjI,MAAK5F,OAAMkI,YA5CvC,kDA8CIhI,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OAhD1C,0DADA,wD,yECjFa/C,IAjEE,SAAC,GAQX,IAPL+c,EAOI,EAPJA,SACAvf,EAMI,EANJA,KACA2V,EAKI,EALJA,OACAH,EAII,EAJJA,YACAlT,EAGI,EAHJA,iBACAM,EAEI,EAFJA,iBACA2C,EACI,EADJA,IAEQ3F,EAAUH,aAAY,SAACC,GAAD,OAAWA,KAAjCE,MAiCR,OACE,sBAAKU,UAAS,sEAAiEqV,GAA/E,UACE,8BACE,eAAC,IAAD,CACEpE,GAAE,mBAAcvR,EAAKyC,KACrBlC,QApCe,WACjBiV,GAAaA,IACblT,GAAkBA,GAAiB,GACnCM,GAAkBA,GAAiB,IAkCjCtC,UAAU,4BAHZ,UAKE,cAAC,IAAD,CAAQK,IAAKX,EAAKT,OAAQ8D,KAAK,eAE/B,sBAAK/C,UAAU,OAAOS,MAAO,CAAEiB,UAAW,oBAA1C,UACE,sBAAM1B,UAAU,UAAhB,SAA2BN,EAAKsD,WAEhC,uBAAOvC,MAAO,CAAEkK,QAAS,IAAzB,SAAiC1F,EAtC3B,SAACvF,GACf,OACE,qCACE,qBAAKe,MAAO,CAAEC,OAAQpB,EAAQ,YAAc,aAA5C,SAA4DI,EAAKyG,OAChEzG,EAAK0G,MAAMzE,OAAS,GACnB,gCACGjC,EAAK0G,MAAMzE,OADd,IACsB,mBAAG3B,UAAU,oBAIpCN,EAAKgH,MACJ,sBAAM1G,UAAU,iBAAhB,SACuB,IAApBN,EAAKgH,KAAKK,MACPrH,EAAKgH,KAAKM,MACR,eACA,iBACFtH,EAAKgH,KAAKM,MACV,qBACA,YAoBmC0Y,CAAQhgB,GAAQA,EAAKjB,mBAKjEwgB,O,qRCrBQU,MA5CD,SAAC,GAA0D,IAAxDlhB,EAAuD,EAAvDA,SAAUuE,EAA6C,EAA7CA,SAAUG,EAAmC,EAAnCA,MAAOyc,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,YAC9C5e,EAAM,GA8BZ,OA5BKxC,EAEMA,EAASkD,OAAS,KAC3BV,EAAIxC,SAAW,mFAFfwC,EAAIxC,SAAW,2EAKZuE,EAEMA,EAASoS,QAAQ,KAAM,IAAIzT,OAAS,KAC7CV,EAAI+B,SAAW,iFAFf/B,EAAI+B,SAAW,yEAKZG,EAsBP,SAAuBA,GAIrB,MADE,4JACQ2c,KAAK3c,GAxBH4c,CAAc5c,KACxBlC,EAAIkC,MAAQ,yDAFZlC,EAAIkC,MAAQ,+CAKTyc,EAEMA,EAASje,OAAS,IAC3BV,EAAI2e,SAAW,yEAFf3e,EAAI2e,SAAW,4DAKbA,IAAaC,IACf5e,EAAI4e,YAAc,mDAGb,CACLG,OAAQ/e,EACRgf,UAAW9R,OAAOD,KAAKjN,GAAKU,SC7BnBue,EAAQ,SAAClc,GAAD,8CAAU,WAAOzE,GAAP,eAAA2E,EAAA,sEAE3B3E,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEqE,SAAS,KAF7B,SAGTsG,YAAY,QAAShI,GAHZ,OAGrBK,EAHqB,OAI3B9E,EAAS,CACPoB,KAAMQ,IAAYsM,KAClBpM,QAAS,CACP+C,MAAOC,EAAIL,KAAKmc,aAChBzgB,KAAM2E,EAAIL,KAAKtE,QAInBqR,aAAaqP,QAAQ,cAAc,GACnC7gB,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CACPuL,QAASvI,EAAIL,KAAKiB,OAhBK,kDAoB3B1F,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CACPC,MAAO,KAAI0D,SAAShB,KAAKiB,OAvBF,0DAAV,uDA6BR6V,EAAe,yDAAM,WAAOvb,GAAP,eAAA2E,EAAA,0DACb6M,aAAaC,QAAQ,cADR,wBAG9BzR,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEqE,SAAS,KAH1B,kBAMVsG,YAAY,iBANF,OAMtB3H,EANsB,OAO5B9E,EAAS,CACPoB,KAAMQ,IAAYsM,KAClBpM,QAAS,CACP+C,MAAOC,EAAIL,KAAKmc,aAChBzgB,KAAM2E,EAAIL,KAAKtE,QAInBH,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,KAfjB,kDAiB5B9B,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CACPC,MAAO,KAAI0D,SAAShB,KAAKiB,OApBD,0DAAN,uDA2Bfob,EAAW,SAACrc,GAAD,8CAAU,WAAOzE,GAAP,iBAAA2E,EAAA,4DAC1Boc,EAAQX,EAAM3b,IACVic,UAAY,GAFU,yCAEA1gB,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAASif,EAAMN,UAFnD,uBAK9BzgB,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEqE,SAAS,KAL1B,SAOZsG,YAAY,WAAYhI,GAPZ,OAOxBK,EAPwB,OAQ9B9E,EAAS,CACPoB,KAAMQ,IAAYsM,KAClBpM,QAAS,CACP+C,MAAOC,EAAIL,KAAKmc,aAChBzgB,KAAM2E,EAAIL,KAAKtE,QAInBqR,aAAaqP,QAAQ,cAAc,GACnC7gB,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CACPuL,QAASvI,EAAIL,KAAKiB,OApBQ,kDAwB9B1F,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CACPC,MAAO,KAAI0D,SAAShB,KAAKiB,OA3BC,0DAAV,uDAgCXsb,EAAiB,SAACvc,GAAD,8CAAU,WAAOzE,GAAP,eAAA2E,EAAA,sEAEpC3E,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEqE,SAAS,KAFpB,SAGlBsG,YAAY,SAAUhI,GAHJ,OAG9BK,EAH8B,OAKpC9E,EAAS,CACPoB,KAAMQ,IAAYsM,KAClBpM,QAAS,CACP+C,MAAOC,EAAIL,KAAKmc,aAChBzgB,KAAM2E,EAAIL,KAAKtE,QAInBH,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CACPuL,QAASvI,EAAIL,KAAKiB,OAhBc,gDAoBpC1F,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CACPC,MAAO,KAAI0D,SAAShB,KAAKiB,OAvBO,yDAAV,uDA2DjB0O,EAAiB,SAAC3P,GAAD,8CAAU,WAAOzE,GAAP,eAAA2E,EAAA,sEAEpC3E,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEqE,SAAS,KAFpB,SAGlBsG,YAAY,kBAAmBhI,GAHb,OAG9BK,EAH8B,OAKpC9E,EAAS,CACPoB,KAAMQ,IAAYsM,KAClBpM,QAAS,CACP+C,MAAOC,EAAIL,KAAKmc,aAChBzgB,KAAM2E,EAAIL,KAAKtE,QAInBH,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CACPuL,QAASvI,EAAIL,KAAKiB,OAhBc,gDAoBpC1F,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CACPC,MAAO,KAAI0D,SAAShB,KAAKiB,OAvBO,yDAAV,uDA6BjB2P,EAAS,yDAAM,WAAOrV,GAAP,SAAA2E,EAAA,sEAExB6M,aAAayP,WAAW,cAFA,SAGlBxU,YAAY,UAHM,OAIxBhG,OAAOya,SAASrd,KAAO,IAJC,gDAMxB7D,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CACPC,MAAO,KAAI0D,SAAShB,KAAKiB,OATL,yDAAN,wD,+BCpLtB,sGAAO,IAAM9D,EAAc,CACzBsM,KAAM,OACNrM,MAAO,QACPuT,MAAO,QACPsB,OAAQ,SACRpT,MAAO,QACPmY,OAAQ,SACRjD,OAAQ,SACRC,QAAS,UACThO,KAAM,OACNwR,KAAM,QAGK2B,EAAW,SAACnZ,EAAMpD,EAAIkM,GAEjC,OADgB9I,EAAK/B,KAAI,SAACuD,GAAD,OAAWA,EAAKrD,MAAQvB,EAAKkM,EAAOtH,MAIlDyK,EAAa,SAACjM,EAAMpD,GAE/B,OADgBoD,EAAKtD,QAAO,SAAC8E,GAAD,OAAUA,EAAKrD,MAAQvB,O,+GCnBxC6F,EAAY,SAACpG,EAAKf,GAC7B,OACE,qBACEe,IAAKA,EACLG,IAAI,SACJR,UAAU,gBACVS,MAAO,CAAEC,OAAQpB,EAAQ,YAAc,gBAKhCkH,EAAY,SAACnG,EAAKf,GAC7B,OACE,uBACE2Y,UAAQ,EACR5X,IAAKA,EACLG,IAAI,SACJR,UAAU,gBACVS,MAAO,CAAEC,OAAQpB,EAAQ,YAAc,iB,wIClBhC4B,EAAa,SAACH,GACzB,IAAIE,EAAM,GACV,OAAKF,GAEDA,EAAKgC,KAAO,UAEd9B,EAAM,8CAEU,eAAdF,EAAKJ,MAAuC,cAAdI,EAAKJ,OAAsBM,EAAM,2EAE5DA,GARkB,2CAWdgI,EAAW,uCAAG,WAAO8C,GAAP,2BAAA7H,EAAA,sDACrBwc,EAAS,GADY,cAEN3U,GAFM,gEAEdvG,EAFc,QAGjBmb,EAAW,IAAIC,SAEjBpb,EAAK0Q,OACPyK,EAASE,OAAO,OAAQrb,EAAK0Q,QAE7ByK,EAASE,OAAO,OAAQrb,GAG1Bmb,EAASE,OAAO,gBAAiB,YACjCF,EAASE,OAAO,aAAc,iBAZP,UAcLC,MAAM,uDAAwD,CAC9EC,OAAQ,OACR5O,KAAMwO,IAhBe,eAcjBtc,EAdiB,iBAmBJA,EAAI2c,OAnBA,QAmBjBhd,EAnBiB,OAoBvB0c,EAAOnW,KAAK,CAAE0W,UAAWjd,EAAKid,UAAW3a,IAAKtC,EAAKkd,aApB5B,wKAsBlBR,GAtBkB,gEAAH,uD,gDCGThc,IAdK,SAAC,GAA4C,IAA1CjB,EAAyC,EAAzCA,OAAQE,EAAiC,EAAjCA,KAAME,EAA2B,EAA3BA,KAAMI,EAAqB,EAArBA,eACzC,OACE,mCACGR,EAAS,GAAKE,EAAO,GAClB,IACCE,GACC,wBAAQ7D,UAAU,+BAA+BC,QAASgE,EAA1D,6B,+FC4CG7B,IAhDG,SAAC,GAAc,IAAZ1C,EAAW,EAAXA,KAAW,EACElB,oBAAS,GADX,mBACvB2iB,EADuB,KACbC,EADa,OAGIjiB,aAAY,SAACC,GAAD,OAAWA,KAAjDC,EAHsB,EAGtBA,KAAMmD,EAHgB,EAGhBA,QAAS+E,EAHO,EAGPA,OACjBhI,EAAWC,cAJa,EAMNhB,oBAAS,GANH,mBAMvBqF,EANuB,KAMjBC,EANiB,KAQ9BrE,qBAAU,WAIR,OAHIJ,EAAKK,KAAKwD,UAAUoF,MAAK,SAAC9C,GAAD,OAAUA,EAAKrD,MAAQzC,EAAKyC,QACvDif,GAAY,GAEP,kBAAMA,GAAY,MACxB,CAAC/hB,EAAKK,KAAKwD,UAAWxD,EAAKyC,MAE9B,IAAMkf,EAAY,uCAAG,sBAAAnd,EAAA,0DACfL,EADe,wDAGnBud,GAAY,GACZtd,GAAQ,GAJW,SAKbvE,EAASigB,YAAO,CAAEzd,MAAOS,EAAQT,MAAOrC,OAAML,OAAMkI,YALvC,OAMnBzD,GAAQ,GANW,2CAAH,qDASZwd,EAAc,uCAAG,sBAAApd,EAAA,0DACjBL,EADiB,wDAGrBud,GAAY,GACZtd,GAAQ,GAJa,SAKfvE,EAASkgB,YAAS,CAAE1d,MAAOS,EAAQT,MAAOrC,OAAML,OAAMkI,YALvC,OAMrBzD,GAAQ,GANa,2CAAH,qDASpB,OACE,mCACGqd,EACC,wBAAQnhB,UAAU,yBAAyBC,QAASqhB,EAApD,iCAIA,wBAAQthB,UAAU,uBAAuBC,QAASohB,EAAlD,6B,6ICzCKxD,EAAe,CAC1Bd,QAAS,iBACTe,UAAW,oBAGA7C,EAAiB,SAAC7W,GAAD,8CAAW,WAAO7E,GAAP,eAAA2E,EAAA,sEAErC3E,EAAS,CAAEoB,KAAMkd,EAAad,QAAS1b,SAAS,IAFX,SAInB8C,YAAW,kBAAmBC,GAJX,OAI/BC,EAJ+B,OAKrC9E,EAAS,CAAEoB,KAAMkd,EAAaC,UAAWzc,QAASgD,EAAIL,OAEtDzE,EAAS,CAAEoB,KAAMkd,EAAad,QAAS1b,SAAS,IAPX,gDASrC9B,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OATnC,yDAAX,wD,6ICLjB0Y,EAAiB,CAC5BZ,QAAS,mBACTpR,UAAW,qBACXpH,YAAa,wBAGFgd,EAAmB,SAACnd,GAAD,8CAAW,WAAO7E,GAAP,eAAA2E,EAAA,sEAEvC3E,EAAS,CAAEoB,KAAMgd,EAAeZ,QAAS1b,SAAS,IAFX,SAIrB8C,YAAW,gBAAiBC,GAJP,OAIjCC,EAJiC,OAKvC9E,EAAS,CAAEoB,KAAMgd,EAAehS,UAAWtK,QAASgD,EAAIL,OAExDzE,EAAS,CAAEoB,KAAMgd,EAAeZ,QAAS1b,SAAS,IAPX,gDASvC9B,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OATjC,yDAAX,wD,iEC+BjBT,IApCG,SAAC,GAAuB,IAArBjB,EAAoB,EAApBA,MAAOE,EAAa,EAAbA,OAClBnE,EAAUH,aAAY,SAACC,GAAD,OAAWA,KAAjCE,MAER,OAAe,IAAXmE,EAAqB,oBAAIzD,UAAU,0BAAd,kDAGvB,qBAAKA,UAAU,aAAf,SACGuD,EAAMtB,KAAI,SAAC6K,GAAD,OACT,cAAC,IAAD,CAAqBmE,GAAE,gBAAWnE,EAAK3K,KAAvC,SACE,sBAAKnC,UAAU,qBAAf,UACG8M,EAAKf,OAAO,GAAGzF,IAAIC,MAAM,UACxB,uBACE0R,UAAQ,EACR5X,IAAKyM,EAAKf,OAAO,GAAGzF,IACpB9F,IAAKsM,EAAKf,OAAO,GAAGzF,IACpB7F,MAAO,CAAEC,OAAQpB,EAAQ,YAAc,eAGzC,qBACEe,IAAKyM,EAAKf,OAAO,GAAGzF,IACpB9F,IAAKsM,EAAKf,OAAO,GAAGzF,IACpB7F,MAAO,CAAEC,OAAQpB,EAAQ,YAAc,eAI3C,sBAAKU,UAAU,kBAAf,UACE,mBAAGA,UAAU,cAAb,SAA4B8M,EAAKC,MAAMpL,SACvC,mBAAG3B,UAAU,kBAAb,SAAgC8M,EAAK0U,SAAS7f,gBAnBzCmL,EAAK3K,Y,gDC+CT6I,IAzDD,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,WAAYC,EAAqB,EAArBA,QAAS5L,EAAY,EAAZA,MA4BpC,OACE,sBACEU,UAAU,oBACVS,MAAO,CAAEkK,QAAS,EAAGjK,OAAQpB,EAAQ,YAAc,aAFrD,UAIE,sBACEU,UAAU,kCACVY,GAAG,iBACH0T,KAAK,SACLC,cAAY,WACZC,gBAAc,OACdC,gBAAc,QANhB,SAQE,sBAAMhU,MAAO,CAAEkK,QAAS,IAAxB,4BAGF,qBAAK3K,UAAU,gBAAgB0U,kBAAgB,iBAA/C,SACE,qBAAK1U,UAAU,YAAf,SA5CY,CAChB,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,gBAqBiBiC,KAAI,SAACkS,GAAD,OACb,sBAAiBlU,QAAS,kBAAMgL,EAAWC,EAAUiJ,IAArD,SACGA,GADQA,e,iEC1BRsN,UApBC,WACd,OACE,sBAAKzhB,UAAU,iBAAf,UACE,qBAAKA,UAAU,6BAAf,SACE,cAAC,IAAD,MAGF,qBAAKA,UAAU,2BAAf,SACE,sBACEA,UAAU,wEADZ,UAIE,mBAAGA,UAAU,4BAA4BS,MAAO,CAAEoG,SAAU,UAC5D,mD,sGCoDK6a,UA/DQ,WAAO,IAAD,EACHviB,aAAY,SAACC,GAAD,OAAWA,KAAvCC,EADmB,EACnBA,KAAMgT,EADa,EACbA,MACR9S,EAAWC,cACX4I,EAAUC,cAHW,EAQH7J,mBAJH,CACnB2E,MAAO,KALkB,mBAQpBa,EARoB,KAQdiE,EARc,KAUnB9E,EAAUa,EAAVb,MACR1D,qBAAU,WACJJ,EAAK+E,OAAOgE,EAAQmC,KAAK,OAC5B,CAAClL,EAAK+E,MAAOgE,IAYhB,OACE,qBAAKpI,UAAU,YAAf,SACE,uBAAME,SARW,SAACN,GACpBA,EAAEO,iBAEFZ,EAASghB,YAAevc,KAKtB,UACE,oBAAIhE,UAAU,kCAAd,0BAEA,sBAAKA,UAAU,aAAf,UACE,oBAAIA,UAAU,kCAAd,0CAEA,uBAAOuB,QAAQ,qBAAf,mBACA,uBACEZ,KAAK,QACLX,UAAU,eACVY,GAAG,qBACHd,KAAK,QACLgB,SAxBgB,SAAClB,GAAO,IAAD,EACPA,EAAEC,OAAlBC,EADuB,EACvBA,KAAMC,EADiB,EACjBA,MACdkI,EAAQ,2BAAKjE,GAAN,kBAAalE,EAAOC,MAuBnBA,MAAOoD,EACP1C,MAAO,CAAEkG,WAAW,GAAD,OAAK0L,EAAMlP,MAAQ,YAAc,OAGtD,uBAAOnD,UAAU,wBAAjB,SACGqS,EAAMlP,MAAQkP,EAAMlP,MAAQ,QAGjC,wBAAQxC,KAAK,SAASX,UAAU,qBAAhC,2C,8GCuCO6b,UAvFD,WACZ,IADkB,EAEcrd,mBADX,CAAE2E,MAAO,GAAIyc,SAAU,KAD1B,mBAEX7gB,EAFW,KAEDC,EAFC,KAGVmE,EAAoBpE,EAApBoE,MAAOyc,EAAa7gB,EAAb6gB,SAHG,EAKcphB,oBAAS,GALvB,mBAKXmjB,EALW,KAKDC,EALC,KAOVviB,EAASF,aAAY,SAACC,GAAD,OAAWA,KAAhCC,KACFE,EAAWC,cACX4I,EAAUC,cAEhB5I,qBAAU,WACJJ,EAAK+E,OAAOgE,EAAQmC,KAAK,OAC5B,CAAClL,EAAK+E,MAAOgE,IAEhB,IAAMsL,EAAoB,SAAC9T,GAAO,IAAD,EACPA,EAAEC,OAAlBC,EADuB,EACvBA,KAAMC,EADiB,EACjBA,MACdf,EAAY,2BAAKD,GAAN,kBAAiBe,EAAOC,MAQrC,OACE,qBAAKC,UAAU,YAAf,SACE,uBAAME,SAPW,SAACN,GACpBA,EAAEO,iBACFZ,EAAS2gB,YAAMnhB,KAKb,UACE,oBAAIiB,UAAU,kCAAd,uBAEA,sBAAKA,UAAU,aAAf,UACE,uBAAOuB,QAAQ,qBAAf,mBACA,uBACEZ,KAAK,QACLX,UAAU,eACVY,GAAG,qBACHd,KAAK,QACL+hB,mBAAiB,YACjB/gB,SAAU4S,EACV3T,MAAOoD,IAGT,uBAAOvC,GAAG,YAAYZ,UAAU,uBAAhC,sHAKF,sBAAKA,UAAU,aAAf,UACE,uBAAOuB,QAAQ,wBAAf,gCAEA,sBAAKvB,UAAU,OAAf,UACE,uBACEW,KAAMghB,EAAW,OAAS,WAC1B3hB,UAAU,eACVY,GAAG,wBACHE,SAAU4S,EACV3T,MAAO6f,EACP9f,KAAK,aAGP,uBAAOG,QAAS,kBAAM2hB,GAAaD,IAAnC,SAA+CA,EAAW,OAAS,eAIvE,wBACEhhB,KAAK,SACLX,UAAU,qBACVqL,UAAUlI,IAASyc,EAHrB,sCAQA,cAAC,IAAD,CAAM3O,GAAG,mBAAmBxQ,MAAO,CAAEqG,MAAO,WAA5C,yCAIA,oBAAG9G,UAAU,OAAb,wDACyB,IACvB,cAAC,IAAD,CAAMiR,GAAG,YAAYxQ,MAAO,CAAEqG,MAAO,WAArC,mD,8GC8GKgV,UA5LE,WAAO,IAAD,EACG3c,aAAY,SAACC,GAAD,OAAWA,KAAvCC,EADa,EACbA,KAAMgT,EADO,EACPA,MACR9S,EAAWC,cACX4I,EAAUC,cAHK,EAaW7J,mBARX,CACnBC,SAAU,GACVuE,SAAU,GACVG,MAAO,GACPyc,SAAU,GACVC,YAAa,GACb/gB,OAAQ,SAXW,mBAadC,EAbc,KAaJC,EAbI,KAcbP,EAAqDM,EAArDN,SAAUuE,EAA2CjE,EAA3CiE,SAAUG,EAAiCpE,EAAjCoE,MAAOyc,EAA0B7gB,EAA1B6gB,SAAUC,EAAgB9gB,EAAhB8gB,YAdxB,EAgBWrhB,oBAAS,GAhBpB,mBAgBdmjB,EAhBc,KAgBJC,EAhBI,OAiBepjB,oBAAS,GAjBxB,mBAiBd6U,EAjBc,KAiBFC,EAjBE,KAmBrB7T,qBAAU,WACJJ,EAAK+E,OAAOgE,EAAQmC,KAAK,OAC5B,CAAClL,EAAK+E,MAAOgE,IAEhB,IAAMsL,EAAoB,SAAC9T,GAAO,IAAD,EACPA,EAAEC,OAAlBC,EADuB,EACvBA,KAAMC,EADiB,EACjBA,MACdf,EAAY,2BAAKD,GAAN,kBAAiBe,EAAOC,MAQrC,OACE,qBAAKC,UAAU,YAAf,SACE,uBAAME,SAPW,SAACN,GACpBA,EAAEO,iBACFZ,EAAS8gB,YAASthB,KAKhB,UACE,oBAAIiB,UAAU,kCAAd,0BAEA,sBAAKA,UAAU,aAAf,UACE,uBAAOuB,QAAQ,WAAf,+CACA,uBACEZ,KAAK,OACLX,UAAU,eACVY,GAAG,WACHd,KAAK,WACLgB,SAAU4S,EACV3T,MAAOtB,EACPgC,MAAO,CAAEkG,WAAW,GAAD,OAAK0L,EAAM5T,SAAW,YAAc,OAGzD,uBAAOuB,UAAU,wBAAjB,SACGqS,EAAM5T,SAAW4T,EAAM5T,SAAW,QAIvC,sBAAKuB,UAAU,aAAf,UACE,uBAAOuB,QAAQ,WAAf,6CACA,uBACEZ,KAAK,OACLX,UAAU,eACVY,GAAG,WACHd,KAAK,WACLgB,SAAU4S,EACV3T,MAAOiD,EAASmS,cAAcC,QAAQ,KAAM,IAC5C3U,MAAO,CAAEkG,WAAW,GAAD,OAAK0L,EAAMrP,SAAW,YAAc,OAGzD,uBAAOhD,UAAU,wBAAjB,SACGqS,EAAMrP,SAAWqP,EAAMrP,SAAW,QAIvC,sBAAKhD,UAAU,aAAf,UACE,uBAAOuB,QAAQ,qBAAf,mBACA,uBACEZ,KAAK,QACLX,UAAU,eACVY,GAAG,qBACHd,KAAK,QACLgB,SAAU4S,EACV3T,MAAOoD,EACP1C,MAAO,CAAEkG,WAAW,GAAD,OAAK0L,EAAMlP,MAAQ,YAAc,OAGtD,uBAAOnD,UAAU,wBAAjB,SACGqS,EAAMlP,MAAQkP,EAAMlP,MAAQ,QAIjC,sBAAKnD,UAAU,aAAf,UACE,uBAAOuB,QAAQ,wBAAf,gCAEA,sBAAKvB,UAAU,OAAf,UACE,uBACEW,KAAMghB,EAAW,OAAS,WAC1B3hB,UAAU,eACVY,GAAG,wBACHE,SAAU4S,EACV3T,MAAO6f,EACP9f,KAAK,WACLW,MAAO,CAAEkG,WAAW,GAAD,OAAK0L,EAAMuN,SAAW,YAAc,OAGzD,uBAAO3f,QAAS,kBAAM2hB,GAAaD,IAAnC,SACGA,EAAW,OAAS,YAIzB,uBAAO3hB,UAAU,wBAAjB,SACGqS,EAAMuN,SAAWvN,EAAMuN,SAAW,QAIvC,sBAAK5f,UAAU,aAAf,UACE,uBAAOuB,QAAQ,cAAf,mDAEA,sBAAKvB,UAAU,OAAf,UACE,uBACEW,KAAM0S,EAAa,OAAS,WAC5BrT,UAAU,eACVY,GAAG,cACHE,SAAU4S,EACV3T,MAAO8f,EACP/f,KAAK,cACLW,MAAO,CAAEkG,WAAW,GAAD,OAAK0L,EAAMwN,YAAc,YAAc,OAG5D,uBAAO5f,QAAS,kBAAMqT,GAAeD,IAArC,SACGA,EAAa,OAAS,YAI3B,uBAAOrT,UAAU,wBAAjB,SACGqS,EAAMwN,YAAcxN,EAAMwN,YAAc,QAI7C,sBAAK7f,UAAU,wCAAf,UACE,wBAAOuB,QAAQ,OAAf,iBACO,IACL,uBACEZ,KAAK,QACLC,GAAG,OACHd,KAAK,SACLC,MAAM,OACN+hB,gBAAc,EACdhhB,SAAU4S,OAId,wBAAOnS,QAAQ,SAAf,qBACM,IACJ,uBACEZ,KAAK,QACLC,GAAG,SACHd,KAAK,SACLC,MAAM,SACNe,SAAU4S,OAId,wBAAOnS,QAAQ,QAAf,qBACQ,IACN,uBACEZ,KAAK,QACLC,GAAG,QACHd,KAAK,SACLC,MAAM,QACNe,SAAU4S,UAKhB,wBAAQ/S,KAAK,SAASX,UAAU,qBAAhC,kCAIA,oBAAGA,UAAU,OAAb,yDACuB,IACrB,cAAC,IAAD,CAAMiR,GAAG,IAAIxQ,MAAO,CAAEqG,MAAO,WAA7B,uD,+ECjKKib,EAlBA,WAAO,IACZ1iB,EAASF,aAAY,SAACC,GAAD,OAAWA,KAAhCC,KACFE,EAAWC,cAEjB,OACE,sBAAKQ,UAAU,qBAAf,UACE,cAAC8C,EAAA,EAAD,CAAQzC,IAAKhB,EAAKK,KAAKT,OAAQ8D,KAAK,eAEpC,yBACE/C,UAAU,sBACVC,QAAS,kBAAMV,EAAS,CAAEoB,KAAMQ,IAAY8U,OAAQ5U,SAAS,KAF/D,UAIGhC,EAAKK,KAAKsD,SAJb,iE,4ECkCSM,EArCD,WAAO,IAAD,EACmBnE,aAAY,SAAAC,GAAK,OAAIA,KAAhDmf,EADQ,EACRA,UAAWlf,EADH,EACGA,KAAMC,EADT,EACSA,MACnBC,EAAWC,cAFD,EAIQhB,oBAAS,GAJjB,mBAITqF,EAJS,KAIHC,EAJG,KAMVG,EAAc,uCAAG,4BAAAC,EAAA,6DACnBJ,GAAQ,GADW,SAEDK,YAAW,eAAD,OAAiC,EAAjBoa,EAAU5a,MAAYtE,EAAK+E,OAFpD,OAEbC,EAFa,OAInB9E,EAAS,CACLoB,KAAM6K,IAAWG,UACjBtK,QAAQ,2BAAKgD,EAAIL,MAAV,IAAgBL,KAAM4a,EAAU5a,KAAO,MAGlDG,GAAQ,GATW,2CAAH,qDAYpB,OACI,sBAAK9D,UAAU,QAAf,UAEQue,EAAUhb,MAAMtB,KAAI,SAAA6K,GAAI,OACpB,cAACkV,EAAA,EAAD,CAAyBlV,KAAMA,EAAMxN,MAAOA,GAA7BwN,EAAK3K,QAKxB0B,GAAQ,qBAAKxD,IAAKoE,IAAUjE,IAAI,UAAUR,UAAU,oBAIxD,cAAC0E,EAAA,EAAD,CAAajB,OAAQ8a,EAAU9a,OAAQE,KAAM4a,EAAU5a,KACvDE,KAAMA,EAAMI,eAAgBA,Q,wBCczBge,EAhDM,WAAO,IAAD,EACK9iB,aAAY,SAACC,GAAD,OAAWA,KAA7CC,EADiB,EACjBA,KAAMof,EADW,EACXA,YACRlf,EAAWC,cAEjB,OACE,sBAAKQ,UAAU,OAAf,UACE,cAACkC,EAAA,EAAD,CAAUxC,KAAML,EAAKK,OAErB,sBAAKM,UAAU,yDAAf,UACE,oBAAIA,UAAU,cAAd,yCACEye,EAAY/Y,SACZ,mBACE1F,UAAU,cACVS,MAAO,CAAE4J,OAAQ,WACjBpK,QAAS,kBAAMV,EAAS0b,YAAe5b,EAAK+E,cAKjDqa,EAAY/Y,QACX,qBAAKrF,IAAKoE,IAAUjE,IAAI,UAAUR,UAAU,yBAE5C,qBAAKA,UAAU,cAAf,SACGye,EAAY1c,MAAME,KAAI,SAACvC,GAAD,OACrB,cAACwC,EAAA,EAAD,CAAyBxC,KAAMA,EAA/B,SACE,cAAC0C,EAAA,EAAD,CAAW1C,KAAMA,KADJA,EAAKyC,UAO1B,sBAAK1B,MAAO,CAAEkK,QAAS,IAAO3K,UAAU,OAAxC,UACE,mBACEoD,KAAK,0DACLvD,OAAO,SACPwD,IAAI,aACJ5C,MAAO,CAAEyhB,UAAW,aAJtB,6BAQA,uBAAOliB,UAAU,UAAjB,gEAEA,gFCzCJmiB,EAAS,EAuCEvG,UArCF,WAAO,IACV2C,EAAcpf,aAAY,SAACC,GAAD,OAAWA,KAArCmf,UAeR,OAbAvY,OAAOoc,iBAAiB,UAAU,WAChC,GAAiC,MAA7Bpc,OAAOya,SAAS3M,SAElB,OADAqO,EAASnc,OAAOqc,eAKpB5iB,qBAAU,WACR+I,YAAW,WACTxC,OAAOuP,SAAS,CAAE/T,IAAK2gB,EAAQxZ,SAAU,aACxC,OACF,IAGD,sBAAK3I,UAAU,gBAAf,UACE,sBAAKA,UAAU,WAAf,UACE,cAAC,EAAD,IAECue,EAAU7Y,QACT,qBAAKrF,IAAKoE,IAAUjE,IAAI,UAAUR,UAAU,oBACrB,IAArBue,EAAU9a,QAA2C,IAA3B8a,EAAUhb,MAAM5B,OAC5C,oBAAI3B,UAAU,cAAd,kDAEA,cAAC,EAAD,OAIJ,qBAAKA,UAAU,WAAf,SACE,cAAC,EAAD,W,mICvBOsiB,EAnBI,SAAC,GAA+B,IAA7B1C,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,YACxB5e,EAAM,GAYZ,OAVK2e,EAEMA,EAASje,OAAS,IAC3BV,EAAI2e,SAAW,yEAFf3e,EAAI2e,SAAW,4DAKbA,IAAaC,IACf5e,EAAI4e,YAAc,mDAGb,CACLG,OAAQ/e,EACRgf,UAAW9R,OAAOD,KAAKjN,GAAKU,SC2GjB4gB,UAhHf,WAA0B,IAChBne,EAAUe,cAAVf,MADe,EAECjF,aAAY,SAACC,GAAD,OAAWA,KAAvCC,EAFe,EAEfA,KAAMgT,EAFS,EAETA,MAERjK,EAAUC,cAJO,EAUS7J,oBAAS,GAVlB,mBAUhBmjB,EAVgB,KAUNC,EAVM,OAWapjB,oBAAS,GAXtB,mBAWhB6U,EAXgB,KAWJC,EAXI,OAaC9U,mBARH,CACnBohB,SAAU,GACVC,YAAa,KAPQ,mBAahB7b,EAbgB,KAaViE,EAbU,KAef2X,EAA0B5b,EAA1B4b,SAAUC,EAAgB7b,EAAhB6b,YAClBpgB,qBAAU,WACJJ,EAAK+E,OAAOgE,EAAQmC,KAAK,OAC5B,CAAClL,EAAK+E,MAAOgE,IAEhB,IAAMsL,EAAoB,SAAC9T,GAAO,IAAD,IACPA,EAAEC,OAAlBC,EADuB,EACvBA,KAAMC,EADiB,EACjBA,MACdkI,EAAQ,2BAAKjE,GAAN,uBAAalE,EAAOC,GAApB,oBAAgC,IAAhC,wBAA6C,IAA7C,MAEH+I,EAAY,uCAAG,WAAOvJ,GAAP,iBAAA2E,EAAA,4DAEboc,EAAQgC,EAAWte,IACfic,UAAY,GAHH,yCAIV1gB,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAASif,EAAMN,UAJzC,gCAMChU,YAAY,QAAShI,EAAMI,GAN5B,OAMXC,EANW,OAOjB4D,EAAQ,eAAKjE,IACbzE,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CACPuL,QAASvI,EAAIL,KAAKiB,OAXL,kDAejB1F,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CACPC,MAAO,KAAI0D,SAAShB,KAAKiB,OAlBZ,0DAAH,sDA0BlB,OACE,qBAAKjF,UAAU,YAAf,SACE,uBAAME,SAAU4I,EAAhB,UACE,oBAAI9I,UAAU,kCAAd,0BAEA,sBAAKA,UAAU,aAAf,UACE,oBAAIA,UAAU,kCAAd,uDAEA,uBAAOuB,QAAQ,wBAAf,gCAEA,sBAAKvB,UAAU,OAAf,UACE,uBACEW,KAAMghB,EAAW,OAAS,WAC1B3hB,UAAU,eACVY,GAAG,wBACHE,SAAU4S,EACV3T,MAAO6f,EACP9f,KAAK,WACLW,MAAO,CAAEkG,WAAW,GAAD,OAAK0L,EAAMuN,SAAW,YAAc,OAGzD,uBAAO3f,QAAS,kBAAM2hB,GAAaD,IAAnC,SACGA,EAAW,OAAS,YAIzB,uBAAO3hB,UAAU,wBAAjB,SACGqS,EAAMuN,SAAWvN,EAAMuN,SAAW,QAIvC,sBAAK5f,UAAU,aAAf,UACE,uBAAOuB,QAAQ,cAAf,mDAEA,sBAAKvB,UAAU,OAAf,UACE,uBACEW,KAAM0S,EAAa,OAAS,WAC5BrT,UAAU,eACVY,GAAG,cACHE,SAAU4S,EACV3T,MAAO8f,EACP/f,KAAK,cACLW,MAAO,CAAEkG,WAAW,GAAD,OAAK0L,EAAMwN,YAAc,YAAc,OAG5D,uBAAO5f,QAAS,kBAAMqT,GAAeD,IAArC,SACGA,EAAa,OAAS,YAI3B,uBAAOrT,UAAU,wBAAjB,SACGqS,EAAMwN,YAAcxN,EAAMwN,YAAc,QAG7C,wBAAQlf,KAAK,SAASX,UAAU,qBAAhC,qC,oICiCOuL,IAxIE,WAAO,IAAD,EACapM,aAAY,SAACC,GAAD,OAAWA,KAAjDC,EADa,EACbA,KAAMiI,EADO,EACPA,QAASkQ,EADF,EACEA,OACjBjY,EAAWC,cAFI,EAIOhB,mBAAS,IAJhB,mBAIdsW,EAJc,KAINC,EAJM,OAKiBvW,mBAAS,IAL1B,mBAKdgkB,EALc,KAKDC,EALC,KAOfra,EAAUC,cACRzH,EAAOuE,cAAPvE,GAEFoH,EAAUD,mBAVK,EAWGvJ,mBAAS,GAXZ,mBAWdmF,EAXc,KAWRC,EAXQ,KAafqR,EAAY,uCAAG,WAAOrV,GAAP,eAAAsE,EAAA,yDACnBtE,EAAEO,iBACG2U,EAFc,yCAEC2N,EAAe,KAFhB,gCAKCte,YAAW,mBAAD,OAAoB2Q,GAAUzV,EAAK+E,OAL9C,OAKXC,EALW,OAMjBoe,EAAepe,EAAIL,KAAKjC,OANP,kDAQjBxC,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OAVrB,0DAAH,sDAeZyd,EAAgB,SAAChjB,GAQrB,OAPAqV,EAAU,IACV0N,EAAe,IACfljB,EAAS,CACPoB,KAAMyO,IAAWC,SACjBhO,QAAQ,2BAAM3B,GAAP,IAAayG,KAAM,GAAIC,MAAO,OAEvC7G,EAAS,CAAEoB,KAAMyO,IAAWQ,qBAAsBvO,QAASmW,IACpDpP,EAAQmC,KAAR,mBAAyB7K,EAAKyC,OAGjC6R,EAAW,SAACtU,GAChB,OAAIkB,IAAOlB,EAAKyC,IAAY,SACrB,IAqCT,OAlCA1C,qBAAU,WACJ6H,EAAQmW,WACZle,EAASsQ,YAAiB,CAAExQ,YAC3B,CAACE,EAAUF,EAAMiI,EAAQmW,YAG5Bhe,qBAAU,WACS,IAAI+J,sBACnB,SAACC,GACKA,EAAQ,GAAGC,gBACb9F,GAAQ,SAAC+F,GAAD,OAAOA,EAAI,OAGvB,CACEC,UAAW,KAINC,QAAQ7B,EAAQS,WACxB,CAAC7E,IAEJnE,qBAAU,WACJ6H,EAAQ2W,aAA4B,GAAZta,EAAO,IAAUA,EAAO,GAClDpE,EAASsQ,YAAiB,CAAExQ,OAAMsE,YAEnC,CAAC2D,EAAQ2W,YAAata,EAAMtE,EAAME,IAGrCE,qBAAU,WACJ6H,EAAQmW,WACVle,EAAS,CAAEoB,KAAMyO,IAAWQ,qBAAsBvO,QAASmW,MAE5D,CAACA,EAAQlQ,EAAQmW,UAAWle,IAG7B,qCACE,uBAAMS,UAAU,iBAAiBE,SAAU+U,EAA3C,UACE,uBACEtU,KAAK,OACLZ,MAAO+U,EACP/J,YAAY,6CACZjK,SAAU,SAAClB,GAAD,OAAOmV,EAAUnV,EAAEC,OAAOE,UAGtC,wBAAQY,KAAK,SAASF,MAAO,CAAEmK,QAAS,QAAxC,iCAKF,sBAAK5K,UAAU,oBAAf,UAC0B,IAAvBwiB,EAAY7gB,OACX,mCACG6gB,EAAYvgB,KAAI,SAACvC,GAAD,OACf,qBAEEM,UAAS,uBAAkBgU,EAAStU,IACpCO,QAAS,kBAAMyiB,EAAchjB,IAH/B,SAKE,cAAC,IAAD,CAAUA,KAAMA,KAJXA,EAAKyC,UAShB,mCACGmF,EAAQvF,MAAME,KAAI,SAACvC,GAAD,OACjB,qBAEEM,UAAS,uBAAkBgU,EAAStU,IACpCO,QAAS,kBAAMyiB,EAAchjB,IAH/B,SAKE,cAAC,IAAD,CAAUA,KAAMA,EAAMuF,KAAK,EAA3B,SACGvF,EAAK8X,OACJ,mBAAGxX,UAAU,+BAEbX,EAAKK,KAAKwD,UAAUoF,MAClB,SAAC9C,GAAD,OAAUA,EAAKrD,MAAQzC,EAAKyC,QACzB,mBAAGnC,UAAU,qBAVjBN,EAAKyC,UAkBlB,wBAAQsI,IAAKzC,EAASvH,MAAO,CAAEkK,QAAS,GAAxC,iC,wHC3IKgY,EAAW,kDCuETC,EA9DI,SAAC,GAAc,IAAZ9V,EAAW,EAAXA,KAAW,EACN3N,aAAY,SAACC,GAAD,OAAWA,KAAxCC,EADuB,EACvBA,KAAMkI,EADiB,EACjBA,OACRhI,EAAWC,cAEX4I,EAAUC,cAiBhB,OACE,sBAAKrI,UAAU,cAAf,UACE,sBAAKA,UAAU,SAAf,UACE,cAAC8C,EAAA,EAAD,CAAQzC,IAAKyM,EAAKpN,KAAKT,OAAQ8D,KAAK,eAEpC,sBAAK/C,UAAU,YAAf,UACE,oBAAIA,UAAU,MAAd,SACE,cAAC,IAAD,CAAMiR,GAAE,mBAAcnE,EAAKpN,KAAKyC,KAAOnC,UAAU,YAAjD,SACG8M,EAAKpN,KAAKsD,aAGf,uBAAOhD,UAAU,aAAjB,SAA+B6S,IAAO/F,EAAK5F,WAAW4L,kBAI1D,sBAAK9S,UAAU,oBAAf,UACE,sBAAMA,UAAU,iBAAiBY,GAAG,WAAW2T,cAAY,WAA3D,wBAIA,sBAAKvU,UAAU,gBAAf,UACGX,EAAKK,KAAKyC,MAAQ2K,EAAKpN,KAAKyC,KAC3B,qCACE,sBAAKnC,UAAU,gBAAgBC,QAtCpB,WACrBV,EAAS,CAAEoB,KAAMQ,IAAY8U,OAAQ5U,QAAQ,2BAAMyL,GAAP,IAAarK,QAAQ,OAqCvD,UACE,sBAAMzC,UAAU,iBAAhB,oBADF,0BAGA,sBAAKA,UAAU,gBAAgBC,QArClB,WACvB,GAAI+F,OAAOC,QAAQ,2DAEjB,OADA1G,EAAS8N,YAAW,CAAEP,OAAMzN,OAAMkI,YAC3Ba,EAAQmC,KAAK,MAkCZ,UACE,sBAAMvK,UAAU,iBAAhB,4BADF,gBAMJ,sBAAKA,UAAU,gBAAgBC,QApChB,WACrB2W,UAAUiM,UAAUC,UAApB,UAAiCH,EAAjC,iBAAkD7V,EAAK3K,OAmCjD,UACE,sBAAMnC,UAAU,iBAAhB,0BADF,4B,OCaK+iB,EAxEE,SAAC,GAAoB,IAAlBhX,EAAiB,EAAjBA,OAAQnL,EAAS,EAATA,GACpBoT,EAAW,SAAC3N,GAChB,GAAc,IAAVA,EAAa,MAAO,UAGlB/G,EAAUH,aAAY,SAACC,GAAD,OAAWA,KAAjCE,MAER,OACE,sBAAKsB,GAAE,eAAUA,GAAMZ,UAAU,iBAAiBgjB,YAAU,WAA5D,UACE,oBAAIhjB,UAAU,sBAAsBS,MAAO,CAAE0Q,OAAQ,GAArD,SACGpF,EAAO9J,KAAI,SAACwK,EAAKpG,GAAN,OACV,oBAEE4c,cAAA,gBAAsBriB,GACtBsiB,gBAAe7c,EACfrG,UAAWgU,EAAS3N,IAHfA,QAQX,qBAAKrG,UAAU,iBAAf,SACG+L,EAAO9J,KAAI,SAACwK,EAAKpG,GAAN,OACV,qBAAiBrG,UAAS,wBAAmBgU,EAAS3N,IAAtD,SACGoG,EAAInG,IAAIC,MAAM,UACb,uBACE0R,UAAQ,EACR5X,IAAKoM,EAAInG,IACTtG,UAAU,gBACVQ,IAAKiM,EAAInG,IACT7F,MAAO,CAAEC,OAAQpB,EAAQ,YAAc,eAGzC,qBACEe,IAAKoM,EAAInG,IACTtG,UAAU,gBACVQ,IAAKiM,EAAInG,IACT7F,MAAO,CAAEC,OAAQpB,EAAQ,YAAc,gBAdnC+G,QAqBb0F,EAAOpK,OAAS,GACf,qCACE,oBACE3B,UAAU,wBACVoD,KAAI,gBAAWxC,GACf0T,KAAK,SACL6O,aAAW,OACX1iB,MAAO,CAAE2Q,MAAO,MALlB,UAOE,sBAAMpR,UAAU,6BAA6BojB,cAAY,SACzD,sBAAMpjB,UAAU,UAAhB,yBAGF,oBACEA,UAAU,wBACVoD,KAAI,gBAAWxC,GACf0T,KAAK,SACL6O,aAAW,OACX1iB,MAAO,CAAE2Q,MAAO,MALlB,UAOE,sBAAMpR,UAAU,6BAA6BojB,cAAY,SACzD,sBAAMpjB,UAAU,UAAhB,4BClCGqjB,EA9BE,SAAC,GAAqB,IAAnBvW,EAAkB,EAAlBA,KAAMxN,EAAY,EAAZA,MAAY,EACJd,oBAAS,GADL,mBAC7B8kB,EAD6B,KACnBC,EADmB,KAGpC,OACE,sBAAKvjB,UAAU,YAAf,UACE,sBACEA,UAAU,oBACVS,MAAO,CACLC,OAAQpB,EAAQ,YAAc,YAC9BwH,MAAOxH,EAAQ,QAAU,QAJ7B,UAOE,+BACGwN,EAAK5B,QAAQvJ,OAAS,GACnBmL,EAAK5B,QACLoY,EACAxW,EAAK5B,QAAU,IACf4B,EAAK5B,QAAQ0H,MAAM,EAAG,IAAM,UAEjC9F,EAAK5B,QAAQvJ,OAAS,IACrB,sBAAM3B,UAAU,WAAWC,QAAS,kBAAMsjB,GAAaD,IAAvD,SACGA,EAAW,eAAiB,iBAIlCxW,EAAKf,OAAOpK,OAAS,GAAK,cAAC,EAAD,CAAUoK,OAAQe,EAAKf,OAAQnL,GAAIkM,EAAK3K,U,uBC5B1D,MAA0B,iCCqB1BqhB,EAlBI,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,OAAQC,EAA+B,EAA/BA,WAAYC,EAAmB,EAAnBA,aAChCrkB,EAAUH,aAAY,SAACC,GAAD,OAAWA,KAAjCE,MAER,OACE,mCACGmkB,EACC,mBACEzjB,UAAU,2BACVC,QAAS0jB,EACTljB,MAAO,CAAEC,OAAQpB,EAAQ,YAAc,eAGzC,mBAAGU,UAAU,eAAeC,QAASyjB,O,4GCkC9BE,EAjCI,SAAC,GAAoB,IAAlBtd,EAAiB,EAAjBA,IAAKhH,EAAY,EAAZA,MACzB,OACE,sBACEU,UAAU,2CACVS,MAAO,CAAEC,OAAQpB,EAAQ,YAAc,aAFzC,UAIE,cAACukB,EAAA,EAAD,CAAqBvd,IAAKA,EAA1B,SACE,cAACwd,EAAA,EAAD,CAAcC,OAAO,EAAMhhB,KAAM,OAGnC,cAACihB,EAAA,EAAD,CAAoB1d,IAAKA,EAAzB,SACE,cAAC2d,EAAA,EAAD,CAAaF,OAAO,EAAMhhB,KAAM,OAGlC,cAACmhB,EAAA,EAAD,CAAkB5d,IAAKA,EAAvB,SACE,cAAC6d,EAAA,EAAD,CAAWJ,OAAO,EAAMhhB,KAAM,OAGhC,cAACqhB,EAAA,EAAD,CAAmB9d,IAAKA,EAAxB,SACE,cAAC+d,EAAA,EAAD,CAAYN,OAAO,EAAMhhB,KAAM,OAGjC,cAACuhB,EAAA,EAAD,CAAqBhe,IAAKA,EAA1B,SACE,cAACie,EAAA,EAAD,CAAcR,OAAO,EAAMhhB,KAAM,OAGnC,cAACyhB,EAAA,EAAD,CAAqBle,IAAKA,EAA1B,SACE,cAACme,EAAA,EAAD,CAAcV,OAAO,EAAMhhB,KAAM,WC6D1B2hB,EA/FI,SAAC,GAAc,IAAZ5X,EAAW,EAAXA,KAAW,EACHtO,oBAAS,GADN,mBACxBilB,EADwB,KAChBkB,EADgB,OAECnmB,oBAAS,GAFV,mBAExBomB,EAFwB,KAEdC,EAFc,OAIDrmB,oBAAS,GAJR,mBAIxBsmB,EAJwB,KAIfC,EAJe,OAMC5lB,aAAY,SAACC,GAAD,OAAWA,KAA/CC,EANuB,EAMvBA,KAAMC,EANiB,EAMjBA,MAAOiI,EANU,EAMVA,OACfhI,EAAWC,cAPc,EASLhB,oBAAS,GATJ,mBASxBgP,EATwB,KASjBwX,EATiB,OAUCxmB,oBAAS,GAVV,mBAUxBymB,EAVwB,KAUdC,EAVc,KAa/BzlB,qBAAU,WACJqN,EAAKC,MAAMzE,MAAK,SAAC2E,GAAD,OAAUA,EAAK9K,MAAQ9C,EAAKK,KAAKyC,OACnDwiB,GAAU,GAEVA,GAAU,KAEX,CAAC7X,EAAKC,MAAO1N,EAAKK,KAAKyC,MAE1B,IAAMuhB,EAAU,uCAAG,sBAAAxf,EAAA,0DACb0gB,EADa,wDAGjBC,GAAY,GAHK,SAIXtlB,EAASsN,YAAS,CAAEC,OAAMzN,OAAMkI,YAJrB,OAKjBsd,GAAY,GALK,2CAAH,qDAQVlB,EAAY,uCAAG,sBAAAzf,EAAA,0DACf0gB,EADe,wDAGnBC,GAAY,GAHO,SAIbtlB,EAASyN,YAAW,CAAEF,OAAMzN,OAAMkI,YAJrB,OAKnBsd,GAAY,GALO,2CAAH,qDASlBplB,qBAAU,WACJJ,EAAKK,KAAK8N,MAAMlF,MAAK,SAAC1H,GAAD,OAAQA,IAAOkM,EAAK3K,OAC3C6iB,GAAS,GAETA,GAAS,KAEV,CAAC3lB,EAAKK,KAAK8N,MAAOV,EAAK3K,MAE1B,IAAMgjB,EAAc,uCAAG,sBAAAjhB,EAAA,0DACjB+gB,EADiB,wDAGrBC,GAAY,GAHS,SAIf3lB,EAASgO,YAAS,CAAET,OAAMzN,UAJX,OAKrB6lB,GAAY,GALS,2CAAH,qDAQdE,EAAgB,uCAAG,sBAAAlhB,EAAA,0DACnB+gB,EADmB,wDAGvBC,GAAY,GAHW,SAIjB3lB,EAASmO,YAAW,CAAEZ,OAAMzN,UAJX,OAKvB6lB,GAAY,GALW,2CAAH,qDAQtB,OACE,sBAAKllB,UAAU,cAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,gCACE,cAAC,EAAD,CAAYyjB,OAAQA,EAAQC,WAAYA,EAAYC,aAAcA,IAElE,cAAC,IAAD,CAAM1S,GAAE,gBAAWnE,EAAK3K,KAAOnC,UAAU,YAAzC,SACE,mBAAGA,UAAU,qBAGf,mBAAGA,UAAU,0BAA0BK,IAAKglB,EAAMplB,QAAS,kBAAM8kB,GAAYD,SAK9EtX,EACC,mBAAGxN,UAAU,4BAA4BC,QAASmlB,IAElD,mBAAGplB,UAAU,kBAAkBC,QAASklB,OAI5C,sBAAKnlB,UAAU,iCAAf,UACE,qBAAIS,MAAO,CAAEga,QAAS,SAAUpQ,OAAQ,WAAxC,UAAsDyC,EAAKC,MAAMpL,OAAjE,eAEA,qBAAIlB,MAAO,CAAEga,QAAS,SAAUpQ,OAAQ,WAAxC,UAAsDyC,EAAK0U,SAAS7f,OAApE,2BAGDmjB,GAAW,cAAC,EAAD,CAAYxe,IAAG,UAAKqc,EAAL,iBAAsB7V,EAAK3K,KAAO7C,MAAOA,Q,sBC/B7DgmB,EACX,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAASzY,EAAZ,EAAYA,KAAMzN,EAAlB,EAAkBA,KAAlB,8CACA,WAAOE,GAAP,mBAAA2E,EAAA,6DACQshB,EADR,2BAC0BD,GAD1B,IACmCxY,MAAM,GAAD,mBAAMwY,EAAQxY,OAAd,CAAqB1N,EAAKK,SAE1D+lB,EAActI,YAASrQ,EAAK0U,SAAU+D,EAAQpjB,IAAKqjB,GAEnDvZ,EALR,2BAKuBa,GALvB,IAK6B0U,SAAUiE,IAErClmB,EAAS,CAAEoB,KAAM6K,IAAWjH,YAAalD,QAAS4K,IAPpD,kBAUUU,YAAa,WAAD,OAAY4Y,EAAQpjB,IAApB,SAAgC,KAAM9C,EAAK+E,OAVjE,uDAYI7E,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OAd1C,yDADA,uDAoBWygB,EACX,SAAC,GAAD,IAAGH,EAAH,EAAGA,QAASzY,EAAZ,EAAYA,KAAMzN,EAAlB,EAAkBA,KAAlB,8CACA,WAAOE,GAAP,mBAAA2E,EAAA,6DACQshB,EADR,2BAEOD,GAFP,IAGIxY,MAAOkD,YAAWsV,EAAQxY,MAAO1N,EAAKK,KAAKyC,OAGvCsjB,EAActI,YAASrQ,EAAK0U,SAAU+D,EAAQpjB,IAAKqjB,GAEnDvZ,EARR,2BAQuBa,GARvB,IAQ6B0U,SAAUiE,IAErClmB,EAAS,CAAEoB,KAAM6K,IAAWjH,YAAalD,QAAS4K,IAVpD,kBAaUU,YAAa,WAAD,OAAY4Y,EAAQpjB,IAApB,WAAkC,KAAM9C,EAAK+E,OAbnE,uDAeI7E,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OAjB1C,yDADA,uDCpCa0gB,EAlDK,SAAC,GAAkC,IAAhC7Y,EAA+B,EAA/BA,KAAMyY,EAAyB,EAAzBA,QAAShnB,EAAgB,EAAhBA,UAAgB,EAC3BY,aAAY,SAACC,GAAD,OAAWA,KAAxCC,EAD4C,EAC5CA,KAAMkI,EADsC,EACtCA,OACRhI,EAAWC,cAEXomB,EAAe,WACf9Y,EAAKpN,KAAKyC,MAAQ9C,EAAKK,KAAKyC,KAAOojB,EAAQ7lB,KAAKyC,MAAQ9C,EAAKK,KAAKyC,KACpE5C,EDwGJ,SAAC,GAAD,IAAGuN,EAAH,EAAGA,KAAMyY,EAAT,EAASA,QAASlmB,EAAlB,EAAkBA,KAAMkI,EAAxB,EAAwBA,OAAxB,8CACA,WAAOhI,GAAP,iBAAA2E,EAAA,sDACQ2hB,EADR,sBACwB/Y,EAAK0U,SAAS9gB,QAAO,SAAColB,GAAD,OAAQA,EAAGC,QAAUR,EAAQpjB,QAD1E,CACgFojB,IAExEtZ,EAHR,2BAIOa,GAJP,IAKI0U,SAAU1U,EAAK0U,SAAS9gB,QAAO,SAAColB,GAAD,OAASD,EAAUvd,MAAK,SAAC0d,GAAD,OAAQF,EAAG3jB,MAAQ6jB,EAAG7jB,YAG/E5C,EAAS,CAAEoB,KAAM6K,IAAWjH,YAAalD,QAAS4K,IAElD1E,EAAO6C,KAAK,gBAAiB6B,GAC7B,IACE4Z,EAAU9hB,SAAQ,SAACyB,GACjB8H,YAAc,WAAD,OAAY9H,EAAKrD,KAAO9C,EAAK+E,OAE1C,IAAMa,EAAM,CACVrE,GAAI4E,EAAKrD,IACTgE,KAAMof,EAAQQ,MACV,uEACA,8EACJ7Z,WAAYqZ,EAAQQ,MAAQ,CAACR,EAAQzL,IAAI3X,KAAO,CAAC2K,EAAKpN,KAAKyC,KAC3DmE,IAAI,SAAD,OAAWwG,EAAK3K,MAGrB5C,EAAS2N,YAAa,CAAEjI,MAAK5F,OAAMkI,eAErC,MAAOtG,GACP1B,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAOL,EAAI+D,SAAShB,KAAKiB,OA7B1C,2CADA,sDCxGaghB,CAAc,CAAEnZ,OAAMzN,OAAMkmB,UAAShe,aAI5C2e,EAAW,WACf,OACE,qCACE,sBAAKlmB,UAAU,gBAAgBC,QAAS,kBAAM1B,GAAU,IAAxD,UACE,sBAAMyB,UAAU,iBAAhB,oBADF,eAGA,sBAAKA,UAAU,gBAAgBC,QAAS2lB,EAAxC,UACE,sBAAM5lB,UAAU,iBAAhB,4BADF,iBAON,OACE,qBAAKA,UAAU,OAAf,UACI8M,EAAKpN,KAAKyC,MAAQ9C,EAAKK,KAAKyC,KAAOojB,EAAQ7lB,KAAKyC,MAAQ9C,EAAKK,KAAKyC,MAClE,sBAAKnC,UAAU,oBAAf,UACE,sBAAMA,UAAU,iBAAiBY,GAAG,WAAW2T,cAAY,WAA3D,uBAIA,qBAAKvU,UAAU,gBAAgB0U,kBAAgB,WAA/C,SACG5H,EAAKpN,KAAKyC,MAAQ9C,EAAKK,KAAKyC,IAC3BojB,EAAQ7lB,KAAKyC,MAAQ9C,EAAKK,KAAKyC,IAC7B+jB,IAEA,sBAAKlmB,UAAU,gBAAgBC,QAAS2lB,EAAxC,UACE,sBAAM5lB,UAAU,iBAAhB,4BADF,aAKFulB,EAAQ7lB,KAAKyC,MAAQ9C,EAAKK,KAAKyC,KAAO+jB,Y,QCarCC,EArDM,SAAC,GAA6C,IAA3ClH,EAA0C,EAA1CA,SAAUnS,EAAgC,EAAhCA,KAAMsZ,EAA0B,EAA1BA,QAASC,EAAiB,EAAjBA,WAAiB,EAClC7nB,mBAAS,IADyB,mBACzD0M,EADyD,KAChDD,EADgD,OAGhC9L,aAAY,SAACC,GAAD,OAAWA,KAA/CC,EAHwD,EAGxDA,KAAMkI,EAHkD,EAGlDA,OAAQjI,EAH0C,EAG1CA,MAChBC,EAAWC,cAyBjB,OACE,uBAAMQ,UAAU,4BAA4BE,SAxBzB,SAACN,GAEpB,GADAA,EAAEO,kBACG+K,EAAQnC,OACX,OAAIsd,EAAmBA,GAAW,QAClC,EAGFpb,EAAW,IAEX,IAAMua,EAAa,CACjBta,UACA6B,MAAO,GACPrN,KAAML,EAAKK,KACXwH,WAAW,IAAID,MAAOmC,cACtB2c,MAAOK,GAAWA,EAAQE,UAC1BxM,IAAKsM,GAAWA,EAAQ1mB,MAK1B,OAFAH,EFvBF,SAAC,GAAD,IAAGuN,EAAH,EAAGA,KAAM0Y,EAAT,EAASA,WAAYnmB,EAArB,EAAqBA,KAAMkI,EAA3B,EAA2BA,OAA3B,8CACA,WAAOhI,GAAP,yBAAA2E,EAAA,6DACQ+H,EADR,2BACuBa,GADvB,IAC6B0U,SAAS,GAAD,mBAAM1U,EAAK0U,UAAX,CAAqBgE,MAExDjmB,EAAS,CAAEoB,KAAM6K,IAAWjH,YAAalD,QAAS4K,IAHpD,SAMUjI,EANV,2BAOSwhB,GAPT,IAQMe,OAAQzZ,EAAK3K,IACbqkB,WAAY1Z,EAAKpN,KAAKyC,MAT5B,SAWsB6J,YAAY,UAAWhI,EAAM3E,EAAK+E,OAXxD,OAWUC,EAXV,OAaUzB,EAbV,2BAayByB,EAAIL,KAAKwhB,YAblC,IAa8C9lB,KAAML,EAAKK,OAC/CuM,EAdV,2BAcyBa,GAdzB,IAc+B0U,SAAS,GAAD,mBAAM1U,EAAK0U,UAAX,CAAqB5e,MACxDrD,EAAS,CAAEoB,KAAM6K,IAAWjH,YAAalD,QAAS4K,IAGlD1E,EAAO6C,KAAK,gBAAiB6B,GAGvBhH,EAAM,CACVrE,GAAIyD,EAAIL,KAAKwhB,WAAWrjB,IACxBgE,KAAMqf,EAAWO,MACb,uEACA,8EACJ7Z,WAAYsZ,EAAWO,MAAQ,CAACP,EAAW1L,IAAI3X,KAAO,CAAC2K,EAAKpN,KAAKyC,KACjEmE,IAAI,SAAD,OAAWwG,EAAK3K,KACnB+I,QAAS4B,EAAK5B,QACdiB,MAAOW,EAAKf,OAAO,GAAGzF,KAGxB/G,EAAS6M,YAAa,CAAEnH,MAAK5F,OAAMkI,YAhCvC,kDAkCIhI,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAI0D,SAAShB,KAAKiB,OApC1C,0DADA,sDEuBWwhB,CAAc,CAAE3Z,OAAM0Y,aAAYnmB,OAAMkI,YAE7C8e,EAAmBA,GAAW,QAAlC,GAIA,UACGpH,EACD,uBACEte,KAAK,OACLoK,YAAY,iDACZhL,MAAOmL,EACPpK,SAAU,SAAClB,GAAD,OAAOqL,EAAWrL,EAAEC,OAAOE,QACrCU,MAAO,CACLC,OAAQpB,EAAQ,YAAc,YAC9BwH,MAAOxH,EAAQ,QAAU,OACzBqH,WAAYrH,EAAQ,kBAAoB,MAI5C,cAAC0L,EAAA,EAAD,CAAOC,WAAYA,EAAYC,QAASA,EAAS5L,MAAOA,IAExD,wBAAQqB,KAAK,SAASX,UAAU,UAAhC,gCCmGS0mB,EA3IK,SAAC,GAA4C,IAA1CzH,EAAyC,EAAzCA,SAAUsG,EAA+B,EAA/BA,QAASzY,EAAsB,EAAtBA,KAAMwZ,EAAgB,EAAhBA,UAAgB,EACtCnnB,aAAY,SAACC,GAAD,OAAWA,KAAvCC,EADsD,EACtDA,KAAMC,EADgD,EAChDA,MACRC,EAAWC,cAF6C,EAIhChB,mBAAS,IAJuB,mBAIvD0M,EAJuD,KAI9CD,EAJ8C,OAK9BzM,oBAAS,GALqB,mBAKvD8kB,EALuD,KAK7CC,EAL6C,OAOlC/kB,oBAAS,GAPyB,mBAOvDiE,EAPuD,KAO/ClE,EAP+C,OAQlCC,oBAAS,GARyB,mBAQvDilB,EARuD,KAQ/CkB,EAR+C,OAS9BnmB,oBAAS,GATqB,mBASvDomB,EATuD,KAS7CC,EAT6C,OAWhCrmB,oBAAS,GAXuB,mBAWvD4nB,EAXuD,KAW9CC,EAX8C,KAa9D5mB,qBAAU,WACRwL,EAAWsa,EAAQra,SACnByZ,GAAU,GACV0B,GAAW,GACPd,EAAQxY,MAAMzE,MAAK,SAAC2E,GAAD,OAAUA,EAAK9K,MAAQ9C,EAAKK,KAAKyC,QACtDwiB,GAAU,KAEX,CAACY,EAASlmB,EAAKK,KAAKyC,MAEvB,IASMuhB,EAAU,uCAAG,sBAAAxf,EAAA,0DACb0gB,EADa,wDAEjBD,GAAU,GAEVE,GAAY,GAJK,SAKXtlB,EAAS+lB,EAAY,CAAEC,UAASzY,OAAMzN,UAL3B,OAMjBwlB,GAAY,GANK,2CAAH,qDASVlB,EAAY,uCAAG,sBAAAzf,EAAA,0DACf0gB,EADe,wDAEnBD,GAAU,GAEVE,GAAY,GAJO,SAKbtlB,EAASmmB,EAAc,CAAEH,UAASzY,OAAMzN,UAL3B,OAMnBwlB,GAAY,GANO,2CAAH,qDAcZ8B,EAAY,CAChBhc,QAAS4a,EAAQpjB,IAAM,EAAI,GAC3BykB,cAAerB,EAAQpjB,IAAM,UAAY,QAG3C,OACE,sBAAKnC,UAAU,oBAAoBS,MAAOkmB,EAA1C,UACE,eAAC,IAAD,CAAM1V,GAAE,mBAAcsU,EAAQ7lB,KAAKyC,KAAOnC,UAAU,mBAApD,UACE,cAAC8C,EAAA,EAAD,CAAQzC,IAAKklB,EAAQ7lB,KAAKT,OAAQ8D,KAAK,iBACvC,oBAAI/C,UAAU,OAAd,SAAsBulB,EAAQ7lB,KAAKsD,cAGrC,sBAAKhD,UAAU,kBAAf,UACE,sBACEA,UAAU,YACVS,MAAO,CACLC,OAAQpB,EAAQ,YAAc,YAC9BwH,MAAOxH,EAAQ,QAAU,QAJ7B,UAOGmD,EACC,0BAAUZ,KAAK,IAAI9B,MAAOmL,EAASpK,SAAU,SAAClB,GAAD,OAAOqL,EAAWrL,EAAEC,OAAOE,UAExE,gCACGwlB,EAAQzL,KAAOyL,EAAQzL,IAAI3X,MAAQojB,EAAQ7lB,KAAKyC,KAC/C,eAAC,IAAD,CAAM8O,GAAE,mBAAcsU,EAAQzL,IAAI3X,KAAOnC,UAAU,OAAnD,cACIulB,EAAQzL,IAAI9W,YAGlB,+BACGkI,EAAQvJ,OAAS,IACduJ,EACAoY,EACApY,EAAU,IACVA,EAAQ0H,MAAM,EAAG,KAAO,SAE7B1H,EAAQvJ,OAAS,KAChB,sBAAM3B,UAAU,WAAWC,QAAS,kBAAMsjB,GAAaD,IAAvD,SACGA,EAAW,eAAiB,iBAMrC,sBAAK7iB,MAAO,CAAE4J,OAAQ,WAAtB,UACE,uBAAOrK,UAAU,kBAAjB,SAAoC6S,IAAO0S,EAAQre,WAAW4L,YAE9D,wBAAO9S,UAAU,wBAAjB,UAA0CulB,EAAQxY,MAAMpL,OAAxD,eAECc,EACC,qCACE,uBAAOzC,UAAU,wBAAwBC,QAnFlC,WACfslB,EAAQra,UAAYA,GACtB3L,EHcJ,SAAC,GAAD,IAAGgmB,EAAH,EAAGA,QAASzY,EAAZ,EAAYA,KAAM5B,EAAlB,EAAkBA,QAAS7L,EAA3B,EAA2BA,KAA3B,8CACA,WAAOE,GAAP,iBAAA2E,EAAA,sDACQuhB,EAActI,YAASrQ,EAAK0U,SAAU+D,EAAQpjB,IAAxB,YAAC,eACxBojB,GADuB,IAE1Bra,aAEIe,EALR,2BAKuBa,GALvB,IAK6B0U,SAAUiE,IAErClmB,EAAS,CAAEoB,KAAM6K,IAAWjH,YAAalD,QAAS4K,IAClD,IACEU,YAAa,WAAD,OAAY4Y,EAAQpjB,KAAO,CAAE+I,WAAW7L,EAAK+E,OACzD,MAAOnD,GACP1B,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAOL,EAAI+D,SAAShB,KAAKiB,OAb1C,2CADA,sDGda4hB,CAAc,CAAEtB,UAASzY,OAAM5B,UAAS7L,UACjDd,GAAU,IAEVA,GAAU,IA8EA,gCAGA,uBAAOyB,UAAU,wBAAwBC,QAAS,kBAAM1B,GAAU,IAAlE,yBAKF,uBAAOyB,UAAU,wBAAwBC,QAhEjC,WAClB,GAAImmB,EAAS,OAAOC,GAAW,GAC/BA,EAAW,2BAAKd,GAAN,IAAee,gBA8Df,SACGF,EAAU,WAAQ,4BAM3B,sBAAKpmB,UAAU,iCAAiCS,MAAO,CAAE4J,OAAQ,WAAjE,UACE,cAAC,EAAD,CAAayC,KAAMA,EAAMyY,QAASA,EAAShnB,UAAWA,IACtD,cAAC,EAAD,CAAYklB,OAAQA,EAAQC,WAAYA,EAAYC,aAAcA,UAIrEyC,GACC,cAAC,EAAD,CAActZ,KAAMA,EAAMsZ,QAASA,EAASC,WAAYA,EAAxD,SACE,eAAC,IAAD,CAAMpV,GAAE,mBAAcmV,EAAQ1mB,KAAKyC,KAAOnC,UAAU,OAApD,cACIomB,EAAQ1mB,KAAKsD,SADjB,SAMHic,MC1GQ6H,EApCQ,SAAC,GAAgC,IAA9BvB,EAA6B,EAA7BA,QAASzY,EAAoB,EAApBA,KAAMia,EAAc,EAAdA,QAAc,EACvBvoB,mBAAS,IADc,mBAC9CwoB,EAD8C,KACrCC,EADqC,OAE7BzoB,mBAAS,GAFoB,mBAE9C0oB,EAF8C,KAExCC,EAFwC,KAQrD,OAJA1nB,qBAAU,WACRwnB,EAAWF,EAAQnU,MAAMmU,EAAQplB,OAASulB,MACzC,CAACH,EAASG,IAGX,qBAAKlnB,UAAU,kBAAf,SACE,cAAC,EAAD,CAAaulB,QAASA,EAASzY,KAAMA,EAAMwZ,UAAWf,EAAQpjB,IAA9D,SACE,sBAAKnC,UAAU,OAAf,UACGgnB,EAAQ/kB,KACP,SAACuD,EAAMa,GAAP,OACEb,EAAKugB,OACH,cAAC,EAAD,CAAyBR,QAAS/f,EAAMsH,KAAMA,EAAMwZ,UAAWf,EAAQpjB,KAArDkE,MAIvB0gB,EAAQplB,OAASulB,EAAO,EACvB,qBAAKzmB,MAAO,CAAE4J,OAAQ,UAAWvD,MAAO,WAAa7G,QAAS,kBAAMknB,EAAQD,EAAO,KAAnF,8CAIAH,EAAQplB,OAAS,GACf,qBAAKlB,MAAO,CAAE4J,OAAQ,UAAWvD,MAAO,WAAa7G,QAAS,kBAAMknB,EAAQ,IAA5E,kDC2BCC,EApDE,SAAC,GAAc,IAAZta,EAAW,EAAXA,KAAW,EACGtO,mBAAS,IADZ,mBACtBgjB,EADsB,KACZ6F,EADY,OAEW7oB,mBAAS,IAFpB,mBAEtB8oB,EAFsB,KAERC,EAFQ,OAGL/oB,mBAAS,GAHJ,mBAGtB0oB,EAHsB,KAGhBC,EAHgB,OAKa3oB,mBAAS,IALtB,mBAKtBgpB,EALsB,KAKPC,EALO,KAkB7B,OAXAhoB,qBAAU,WACR,IAAMioB,EAAQ5a,EAAK0U,SAAS9gB,QAAO,SAAColB,GAAD,OAASA,EAAGC,SAC/CsB,EAAYK,GACZH,EAAgBG,EAAM9U,MAAM8U,EAAM/lB,OAASulB,MAC1C,CAACpa,EAAK0U,SAAU0F,IAEnBznB,qBAAU,WACR,IAAMkoB,EAAS7a,EAAK0U,SAAS9gB,QAAO,SAAColB,GAAD,OAAQA,EAAGC,SAC/C0B,EAAiBE,KAChB,CAAC7a,EAAK0U,WAGP,sBAAKxhB,UAAU,WAAf,UACGsnB,EAAarlB,KAAI,SAACsjB,EAASlf,GAAV,OAChB,cAAC,EAAD,CAEEkf,QAASA,EACTzY,KAAMA,EACNia,QAASS,EAAc9mB,QAAO,SAAC8E,GAAD,OAAUA,EAAKugB,QAAUR,EAAQpjB,QAH1DkE,MAORmb,EAAS7f,OAASulB,EAAO,EACxB,qBACElnB,UAAU,iBACVS,MAAO,CAAE4J,OAAQ,UAAWvD,MAAO,WACnC7G,QAAS,kBAAMknB,EAAQD,EAAO,KAHhC,8CAQA1F,EAAS7f,OAAS,GAChB,qBACE3B,UAAU,iBACVS,MAAO,CAAE4J,OAAQ,UAAWvD,MAAO,WACnC7G,QAAS,kBAAMknB,EAAQ,IAHzB,8CCrBKnF,IAbE,SAAC,GAAqB,IAAnBlV,EAAkB,EAAlBA,KAAMxN,EAAY,EAAZA,MACxB,OACE,sBAAKU,UAAU,YAAf,UACE,cAAC,EAAD,CAAY8M,KAAMA,IAClB,cAAC,EAAD,CAAUA,KAAMA,EAAMxN,MAAOA,IAC7B,cAAC,EAAD,CAAYwN,KAAMA,IAElB,cAAC,EAAD,CAAUA,KAAMA,IAChB,cAAC,EAAD,CAAcA,KAAMA,S,qICiCX8a,UAzCE,WAAO,IAAD,EACMzoB,aAAY,SAACC,GAAD,OAAWA,KAA1CC,EADa,EACbA,KAAMmf,EADO,EACPA,SACRjf,EAAWC,cAFI,EAIGhB,oBAAS,GAJZ,mBAIdqF,EAJc,KAIRC,EAJQ,KAMrBrE,qBAAU,WACH+e,EAASf,WACZle,EAASgiB,YAAiBliB,EAAK+E,UAEhC,CAAC7E,EAAUF,EAAK+E,MAAOoa,EAASf,YAEnC,IAAMxZ,EAAc,uCAAG,4BAAAC,EAAA,6DACrBJ,GAAQ,GADa,SAEHK,YAAW,qBAAD,OAAsC,EAAhBqa,EAAS7a,MAAYtE,EAAK+E,OAFvD,OAEfC,EAFe,OAGrB9E,EAAS,CAAEoB,KAAMgd,IAAepZ,YAAalD,QAASgD,EAAIL,OAC1DF,GAAQ,GAJa,2CAAH,qDAOpB,OACE,gCACG0a,EAAS9Y,QACR,qBAAKrF,IAAKoE,IAAUjE,IAAI,UAAUR,UAAU,yBAE5C,cAAC,IAAD,CAAWuD,MAAOib,EAASjb,MAAOE,OAAQ+a,EAAS/a,SAGpDI,GAAQ,qBAAKxD,IAAKoE,IAAUjE,IAAI,UAAUR,UAAU,qBAEnDwe,EAAS9Y,SACT,cAAC,IAAD,CACEjC,OAAQ+a,EAAS/a,OACjBE,KAAM6a,EAAS7a,KACfE,KAAMA,EACNI,eAAgBA,S,mNCxCbE,EAAU,uCAAG,WAAOmC,EAAKlC,GAAZ,eAAAF,EAAA,sEACN2jB,IAAMC,IAAN,eAAkBxhB,GAAO,CACzCyhB,QAAS,CAAEC,cAAe5jB,KAFJ,cAClBC,EADkB,yBAIjBA,GAJiB,2CAAH,wDAOV2H,EAAW,uCAAG,WAAO1F,EAAKwG,EAAM1I,GAAlB,eAAAF,EAAA,sEACP2jB,IAAM/a,KAAN,eAAmBxG,GAAOwG,EAAM,CAChDib,QAAS,CAAEC,cAAe5jB,KAFH,cACnBC,EADmB,yBAIlBA,GAJkB,2CAAH,0DAcXsI,EAAY,uCAAG,WAAOrG,EAAKwG,EAAM1I,GAAlB,eAAAF,EAAA,sEACR2jB,IAAMI,MAAN,eAAoB3hB,GAAOwG,EAAM,CACjDib,QAAS,CAAEC,cAAe5jB,KAFF,cACpBC,EADoB,yBAInBA,GAJmB,2CAAH,0DAOZiJ,EAAa,uCAAG,WAAOhH,EAAKlC,GAAZ,eAAAF,EAAA,sEACT2jB,IAAMK,OAAN,eAAqB5hB,GAAO,CAC5CyhB,QAAS,CAAEC,cAAe5jB,KAFD,cACrBC,EADqB,yBAIpBA,GAJoB,2CAAH,yD,uGCIX8jB,UA3BF,WAAO,IACVvnB,EAAOuE,cAAPvE,GADS,EAEOpC,mBAAS,IAFhB,mBAEVsO,EAFU,KAEJsb,EAFI,OAIYjpB,aAAY,SAACC,GAAD,OAAWA,KAA5CC,EAJS,EAITA,KAAM+N,EAJG,EAIHA,WACR7N,EAAWC,cAWjB,OATAC,qBAAU,WAGR,GAFAF,EAAS4N,YAAQ,CAAEC,aAAYxM,KAAIvB,UAE/B+N,EAAWzL,OAAS,EAAG,CACzB,IAAMqH,EAASoE,EAAW1M,QAAO,SAACoM,GAAD,OAAUA,EAAK3K,MAAQvB,KACxDwnB,EAAQpf,MAET,CAACoE,EAAY7N,EAAUqB,EAAIvB,IAG5B,sBAAKW,UAAU,QAAf,UACmB,IAAhB8M,EAAKnL,QAAgB,qBAAKtB,IAAKoE,IAAUjE,IAAI,UAAUR,UAAU,yBAEjE8M,EAAK7K,KAAI,SAACuD,GAAD,OACR,cAAC,IAAD,CAAyBsH,KAAMtH,GAAhBA,EAAKrD,c","file":"static/js/main.7c975f8b.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport { checkImage } from \"../../utils/imageUpload\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\nimport { updateProfileUser } from \"../../redux/actions/profileAction\";\r\n\r\nconst EditProfile = ({ setOnEdit }) => {\r\n  const initState = {\r\n    fullname: \"\",\r\n    mobile: \"\",\r\n    address: \"\",\r\n    website: \"\",\r\n    story: \"\",\r\n    gender: \"\",\r\n  };\r\n  const [userData, setUserData] = useState(initState);\r\n  const { fullname, mobile, address, website, story, gender } = userData;\r\n\r\n  const [avatar, setAvatar] = useState(\"\");\r\n\r\n  const { auth, theme } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    setUserData(auth.user);\r\n  }, [auth.user]);\r\n\r\n  const changeAvatar = (e) => {\r\n    const file = e.target.files[0];\r\n\r\n    const err = checkImage(file);\r\n    if (err)\r\n      return dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err },\r\n      });\r\n\r\n    setAvatar(file);\r\n  };\r\n\r\n  const handleInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserData({ ...userData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(updateProfileUser({ userData, avatar, auth }));\r\n    setOnEdit(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"edit_profile\">\r\n      <button\r\n        className=\"btn btn-danger btn_close\"\r\n        onClick={() => setOnEdit(false)}\r\n      >\r\n        Đóng\r\n      </button>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"info_avatar\">\r\n          <img\r\n            src={avatar ? URL.createObjectURL(avatar) : auth.user.avatar}\r\n            alt=\"avatar\"\r\n            style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n          />\r\n          <span>\r\n            <i className=\"fas fa-camera\" />\r\n            <p>Thay Đổi</p>\r\n            <input\r\n              type=\"file\"\r\n              name=\"file\"\r\n              id=\"file_up\"\r\n              accept=\"image/*\"\r\n              onChange={changeAvatar}\r\n            />\r\n          </span>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"fullname\">Tên Đầy Đủ</label>\r\n          <div className=\"position-relative\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"fullname\"\r\n              name=\"fullname\"\r\n              value={fullname}\r\n              onChange={handleInput}\r\n            />\r\n            <small\r\n              className=\"text-danger position-absolute\"\r\n              style={{\r\n                top: \"50%\",\r\n                right: \"5px\",\r\n                transform: \"translateY(-50%)\",\r\n              }}\r\n            >\r\n              {fullname.length}/25\r\n            </small>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"mobile\">Số Điện Thoại</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"mobile\"\r\n            value={mobile}\r\n            className=\"form-control\"\r\n            onChange={handleInput}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"address\">Địa Chỉ</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"address\"\r\n            value={address}\r\n            className=\"form-control\"\r\n            onChange={handleInput}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"website\">Website</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"website\"\r\n            value={website}\r\n            className=\"form-control\"\r\n            onChange={handleInput}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"story\">Giới Thiệu</label>\r\n          <textarea\r\n            name=\"story\"\r\n            value={story}\r\n            cols=\"30\"\r\n            rows=\"4\"\r\n            className=\"form-control\"\r\n            onChange={handleInput}\r\n          />\r\n\r\n          <small className=\"text-danger d-block text-right\">\r\n            {story.length}/200\r\n          </small>\r\n        </div>\r\n\r\n        <label htmlFor=\"gender\">Giới Tính</label>\r\n        <div className=\"input-group-prepend px-0 mb-4\">\r\n          <select\r\n            name=\"gender\"\r\n            id=\"gender\"\r\n            value={gender}\r\n            className=\"custom-select text-capitalize\"\r\n            onChange={handleInput}\r\n          >\r\n            <option value=\"male\">Nam</option>\r\n            <option value=\"female\">Nữ</option>\r\n            <option value=\"other\">Khác</option>\r\n          </select>\r\n        </div>\r\n\r\n        <button className=\"btn btn-info w-100\" type=\"submit\">\r\n          Lưu\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditProfile;\r\n","import React from \"react\";\r\nimport UserCard from \"../UserCard\";\r\nimport FollowBtn from \"../FollowBtn\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Followers = ({ users, setShowFollowers }) => {\r\n  const { auth } = useSelector((state) => state);\r\n  return (\r\n    <div className=\"follow\">\r\n      <div className=\"follow_box\">\r\n        <h5 className=\"text-center\">Người Theo Dõi</h5>\r\n        <hr />\r\n\r\n        <div className=\"follow_content\">\r\n          {users.map((user) => (\r\n            <UserCard\r\n              key={user._id}\r\n              user={user}\r\n              setShowFollowers={setShowFollowers}\r\n            >\r\n              {auth.user._id !== user._id && <FollowBtn user={user} />}\r\n            </UserCard>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"close\" onClick={() => setShowFollowers(false)}>\r\n          &times;\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Followers;\r\n","import React from \"react\";\r\nimport UserCard from \"../UserCard\";\r\nimport FollowBtn from \"../FollowBtn\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Following = ({ users, setShowFollowing }) => {\r\n  const { auth } = useSelector((state) => state);\r\n  return (\r\n    <div className=\"follow\">\r\n      <div className=\"follow_box\">\r\n        <h5 className=\"text-center\">Đang Theo Dõi</h5>\r\n        <hr />\r\n\r\n        <div className=\"follow_content\">\r\n          {users.map((user) => (\r\n            <UserCard\r\n              key={user._id}\r\n              user={user}\r\n              setShowFollowing={setShowFollowing}\r\n            >\r\n              {auth.user._id !== user._id && <FollowBtn user={user} />}\r\n            </UserCard>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"close\" onClick={() => setShowFollowing(false)}>\r\n          &times;\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Following;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Avatar from '../Avatar';\r\nimport EditProfile from './EditProfile';\r\n// import ChangePassword from \"./changePassword\";\r\nimport FollowBtn from '../FollowBtn';\r\nimport Followers from './Followers';\r\nimport Following from './Following';\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\r\n\r\nconst Info = ({ id, auth, profile, dispatch }) => {\r\n  const [userData, setUserData] = useState([]);\r\n  const [onEdit, setOnEdit] = useState(false);\r\n\r\n  const [showFollowers, setShowFollowers] = useState(false);\r\n  const [showFollowing, setShowFollowing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (id === auth.user._id) {\r\n      setUserData([auth.user]);\r\n    } else {\r\n      const newData = profile.users.filter((user) => user._id === id);\r\n      setUserData(newData);\r\n    }\r\n  }, [id, auth, dispatch, profile.users]);\r\n\r\n  useEffect(() => {\r\n    if (showFollowers || showFollowing || onEdit) {\r\n      dispatch({ type: GLOBALTYPES.MODAL, payload: true });\r\n    } else {\r\n      dispatch({ type: GLOBALTYPES.MODAL, payload: false });\r\n    }\r\n  }, [showFollowers, showFollowing, onEdit, dispatch]);\r\n\r\n  return (\r\n    <div className=\"info\">\r\n      {userData.map((user) => (\r\n        <div className=\"info_container\" key={user._id}>\r\n          <Avatar src={user.avatar} size=\"supper-avatar\" />\r\n\r\n          <div className=\"info_content\">\r\n            <div className=\"info_content_title\">\r\n              {/* <h2>Thông Tin</h2> */}\r\n              <h2>{user.username}</h2>\r\n\r\n              {user._id === auth.user._id ? (\r\n                <button className=\"btn btn-outline-info\" onClick={() => setOnEdit(true)}>\r\n                  Chỉnh Sửa Thông Tin\r\n                </button>\r\n              ) : (\r\n                <FollowBtn user={user} />\r\n              )}\r\n            </div>\r\n            {/* <div className=\"change_pass\">\r\n              <h2>{user.username}</h2>\r\n\r\n              {user._id === auth.user._id ? (\r\n                <button\r\n                  className=\"btn btn-outline-info\"\r\n                  onClick={() => setOnEdit(true)}\r\n                >\r\n                  Đổi Mật Khẩu\r\n                </button>\r\n              ) : (\r\n                <FollowBtn user={user} />\r\n              )}\r\n            </div> */}\r\n\r\n            <div className=\"follow_btn\">\r\n              <span className=\"mr-4\" onClick={() => setShowFollowers(true)}>\r\n                {user.followers.length} Người Theo Dõi\r\n              </span>\r\n              <span className=\"ml-4\" onClick={() => setShowFollowing(true)}>\r\n                {user.following.length} Đang Theo Dõi\r\n              </span>\r\n            </div>\r\n\r\n            <h6>\r\n              {user.fullname} <span className=\"text-danger\">{user.mobile}</span>\r\n            </h6>\r\n            <p className=\"m-0\">{user.address}</p>\r\n            <h6 className=\"m-0\">{user.email}</h6>\r\n            <a href={user.website} target=\"_blank\" rel=\"noreferrer\">\r\n              {user.website}\r\n            </a>\r\n            <p>{user.story}</p>\r\n          </div>\r\n\r\n          {onEdit && <EditProfile setOnEdit={setOnEdit} />}\r\n          {/* {onEdit && <ChangePassword setOnEdit={setOnEdit} />} */}\r\n\r\n          {showFollowers && (\r\n            <Followers users={user.followers} setShowFollowers={setShowFollowers} />\r\n          )}\r\n          {showFollowing && (\r\n            <Following users={user.following} setShowFollowing={setShowFollowing} />\r\n          )}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Info;\r\n","import React, { useState, useEffect } from 'react'\r\nimport PostThumb from '../PostThumb'\r\nimport LoadIcon from '../../images/loading.gif'\r\nimport LoadMoreBtn from '../LoadMoreBtn'\r\nimport { getDataAPI } from '../../utils/fetchData'\r\nimport { PROFILE_TYPES } from '../../redux/actions/profileAction'\r\n\r\nconst Posts = ({auth, id, dispatch, profile}) => {\r\n    const [posts, setPosts] = useState([])\r\n    const [result, setResult] = useState(9)\r\n    const [page, setPage] = useState(0)\r\n    const [load, setLoad] = useState(false)\r\n\r\n    useEffect(() => {\r\n        profile.posts.forEach(data => {\r\n            if(data._id === id){\r\n                setPosts(data.posts)\r\n                setResult(data.result)\r\n                setPage(data.page)\r\n            }\r\n        })\r\n    },[profile.posts, id])\r\n\r\n    const handleLoadMore = async () => {\r\n        setLoad(true)\r\n        const res = await getDataAPI(`user_posts/${id}?limit=${page * 9}`, auth.token)\r\n        const newData = {...res.data, page: page + 1, _id: id}\r\n        dispatch({type: PROFILE_TYPES.UPDATE_POST, payload: newData})\r\n        setLoad(false)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <PostThumb posts={posts} result={result} />\r\n\r\n            {\r\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\r\n            }\r\n\r\n            \r\n            <LoadMoreBtn result={result} page={page}\r\n            load={load} handleLoadMore={handleLoadMore} />\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Posts\r\n","import React, { useState, useEffect } from 'react'\r\nimport PostThumb from '../PostThumb'\r\nimport LoadIcon from '../../images/loading.gif'\r\nimport LoadMoreBtn from '../LoadMoreBtn'\r\nimport { getDataAPI } from '../../utils/fetchData'\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\r\n\r\nconst Saved = ({auth, dispatch}) => {\r\n    const [savePosts, setSavePosts] = useState([])\r\n    const [result, setResult] = useState(9)\r\n    const [page, setPage] = useState(2)\r\n    const [load, setLoad] = useState(false)\r\n\r\n    useEffect(() => {\r\n        setLoad(true)\r\n        getDataAPI('getSavePosts', auth.token)\r\n        .then(res => {\r\n            setSavePosts(res.data.savePosts)\r\n            setResult(res.data.result)\r\n            setLoad(false)\r\n        })\r\n        .catch(err => {\r\n            dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n        })\r\n\r\n        return () => setSavePosts([])\r\n    },[auth.token, dispatch])\r\n\r\n    const handleLoadMore = async () => {\r\n        setLoad(true)\r\n        const res = await getDataAPI(`getSavePosts?limit=${page * 9}`, auth.token)\r\n        setSavePosts(res.data.savePosts)\r\n        setResult(res.data.result)\r\n        setPage(page + 1)\r\n        setLoad(false)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <PostThumb posts={savePosts} result={result} />\r\n\r\n            {\r\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\r\n            }\r\n\r\n            \r\n            <LoadMoreBtn result={result} page={page}\r\n            load={load} handleLoadMore={handleLoadMore} />\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Saved\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport Info from '../../components/profile/Info';\r\nimport Posts from '../../components/profile/Posts';\r\nimport Saved from '../../components/profile/Saved';\r\n\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport LoadIcon from '../../images/loading.gif';\r\nimport { getProfileUsers } from '../../redux/actions/profileAction';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nconst Profile = () => {\r\n  const { profile, auth } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const { id } = useParams();\r\n  const [saveTab, setSaveTab] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (profile.ids.every((item) => item !== id)) {\r\n      dispatch(getProfileUsers({ id, auth }));\r\n    }\r\n  }, [id, auth, dispatch, profile.ids]);\r\n\r\n  return (\r\n    <div className=\"profile\">\r\n      <Info auth={auth} profile={profile} dispatch={dispatch} id={id} />\r\n\r\n      {auth.user._id === id && (\r\n        <div className=\"profile_tab\">\r\n          <button className={saveTab ? '' : 'active'} onClick={() => setSaveTab(false)}>\r\n            Bài viết\r\n          </button>\r\n          <button className={saveTab ? 'active' : ''} onClick={() => setSaveTab(true)}>\r\n            Đã lưu\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {profile.loading ? (\r\n        <img className=\"d-block mx-auto\" src={LoadIcon} alt=\"loading\" />\r\n      ) : (\r\n        <>\r\n          {saveTab ? (\r\n            <Saved auth={auth} dispatch={dispatch} />\r\n          ) : (\r\n            <Posts auth={auth} profile={profile} dispatch={dispatch} id={id} />\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\n\r\nconst Times = ({ total }) => {\r\n  return (\r\n    <div>\r\n      <span>\r\n        {parseInt(total / 3600).toString().length < 2\r\n          ? '0' + parseInt(total / 3600)\r\n          : parseInt(total / 3600)}\r\n      </span>\r\n      <span>:</span>\r\n\r\n      <span>\r\n        {parseInt(total / 60).toString().length < 2\r\n          ? '0' + parseInt(total / 60)\r\n          : parseInt(total / 60)}\r\n      </span>\r\n      <span>:</span>\r\n\r\n      <span>\r\n        {(total % 60).toString().length < 2 ? '0' + (total % 60) + 's' : (total % 60) + 's'}\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Times;\r\n","import React from \"react\";\r\nimport Avatar from \"../Avatar\";\r\nimport { imageShow, videoShow } from \"../../utils/mediaShow\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { deleteMessages } from \"../../redux/actions/messageAction\";\r\nimport Times from \"./Times\";\r\n\r\nconst MsgDisplay = ({ user, msg, theme, data }) => {\r\n  const { auth } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleDeleteMessages = () => {\r\n    if (!data) return;\r\n\r\n    if (window.confirm(\"Bạn muốn xoá tin nhắn này?\")) {\r\n      dispatch(deleteMessages({ msg, data, auth }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"chat_title\">\r\n        <Avatar src={user.avatar} size=\"small-avatar\" />\r\n        <span>{user.username}</span>\r\n      </div>\r\n\r\n      <div className=\"you_content\">\r\n        {user._id === auth.user._id && (\r\n          <i\r\n            className=\"fas fa-trash text-danger\"\r\n            onClick={handleDeleteMessages}\r\n          />\r\n        )}\r\n\r\n        <div>\r\n          {msg.text && (\r\n            <div\r\n              className=\"chat_text\"\r\n              style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n            >\r\n              {msg.text}\r\n            </div>\r\n          )}\r\n          {msg.media.map((item, index) => (\r\n            <div key={index}>\r\n              {item.url.match(/video/i)\r\n                ? videoShow(item.url, theme)\r\n                : imageShow(item.url, theme)}\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {msg.call && (\r\n          <button\r\n            className=\"btn d-flex align-items-center py-3\"\r\n            style={{ background: \"#eee\", borderRadius: \"10px\" }}\r\n          >\r\n            <span\r\n              className=\"material-icons font-weight-bold mr-1\"\r\n              style={{\r\n                fontSize: \"2.5rem\",\r\n                color: msg.call.times === 0 ? \"crimson\" : \"green\",\r\n                filter: theme ? \"invert(1)\" : \"invert(0)\",\r\n              }}\r\n            >\r\n              {msg.call.times === 0\r\n                ? msg.call.video\r\n                  ? \"videocam_off\"\r\n                  : \"phone_disabled\"\r\n                : msg.call.video\r\n                ? \"video_camera_front\"\r\n                : \"call\"}\r\n            </span>\r\n\r\n            <div className=\"text-left\">\r\n              <h6>{msg.call.video ? \"Video Call\" : \"Audio Call\"}</h6>\r\n              <small>\r\n                {msg.call.times > 0 ? (\r\n                  <Times total={msg.call.times} />\r\n                ) : (\r\n                  new Date(msg.createdAt).toLocaleTimeString()\r\n                )}\r\n              </small>\r\n            </div>\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"chat_time\">\r\n        {new Date(msg.createdAt).toLocaleString()}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MsgDisplay;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport UserCard from \"../UserCard\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport MsgDisplay from \"./MsgDisplay\";\r\nimport Icons from \"../Icons\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\nimport { imageShow, videoShow } from \"../../utils/mediaShow\";\r\nimport { imageUpload } from \"../../utils/imageUpload\";\r\nimport {\r\n  addMessage,\r\n  getMessages,\r\n  loadMoreMessages,\r\n  deleteConversation,\r\n} from \"../../redux/actions/messageAction\";\r\nimport LoadIcon from \"../../images/loading.gif\";\r\n\r\nconst RightSide = () => {\r\n  const { auth, message, theme, socket, peer } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const { id } = useParams();\r\n  const [user, setUser] = useState([]);\r\n  const [text, setText] = useState(\"\");\r\n  const [media, setMedia] = useState([]);\r\n  const [loadMedia, setLoadMedia] = useState(false);\r\n\r\n  const refDisplay = useRef();\r\n  const pageEnd = useRef();\r\n\r\n  const [data, setData] = useState([]);\r\n  const [result, setResult] = useState(9);\r\n  const [page, setPage] = useState(0);\r\n  const [isLoadMore, setIsLoadMore] = useState(0);\r\n\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const newData = message.data.find((item) => item._id === id);\r\n    if (newData) {\r\n      setData(newData.messages);\r\n      setResult(newData.result);\r\n      setPage(newData.page);\r\n    }\r\n  }, [message.data, id]);\r\n\r\n  useEffect(() => {\r\n    if (id && message.users.length > 0) {\r\n      setTimeout(() => {\r\n        refDisplay.current.scrollIntoView({ behavior: \"smooth\", block: \"end\" });\r\n      }, 50);\r\n\r\n      const newUser = message.users.find((user) => user._id === id);\r\n      if (newUser) setUser(newUser);\r\n    }\r\n  }, [message.users, id]);\r\n\r\n  const handleChangeMedia = (e) => {\r\n    const files = [...e.target.files];\r\n    let err = \"\";\r\n    let newMedia = [];\r\n\r\n    files.forEach((file) => {\r\n      if (!file) return (err = \"Không tìm thấy tập tin.\");\r\n\r\n      if (file.size > 1024 * 1024 * 5) {\r\n        return (err = \"Dung lượng tối đa 5mb.\");\r\n      }\r\n\r\n      return newMedia.push(file);\r\n    });\r\n\r\n    if (err) dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err } });\r\n    setMedia([...media, ...newMedia]);\r\n  };\r\n\r\n  const handleDeleteMedia = (index) => {\r\n    const newArr = [...media];\r\n    newArr.splice(index, 1);\r\n    setMedia(newArr);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!text.trim() && media.length === 0) return;\r\n    setText(\"\");\r\n    setMedia([]);\r\n    setLoadMedia(true);\r\n\r\n    let newArr = [];\r\n    if (media.length > 0) newArr = await imageUpload(media);\r\n\r\n    const msg = {\r\n      sender: auth.user._id,\r\n      recipient: id,\r\n      text,\r\n      media: newArr,\r\n      createdAt: new Date().toISOString(),\r\n    };\r\n\r\n    setLoadMedia(false);\r\n    await dispatch(addMessage({ msg, auth, socket }));\r\n    if (refDisplay.current) {\r\n      refDisplay.current.scrollIntoView({ behavior: \"smooth\", block: \"end\" });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getMessagesData = async () => {\r\n      if (message.data.every((item) => item._id !== id)) {\r\n        await dispatch(getMessages({ auth, id }));\r\n        setTimeout(() => {\r\n          refDisplay.current.scrollIntoView({\r\n            behavior: \"smooth\",\r\n            block: \"end\",\r\n          });\r\n        }, 50);\r\n      }\r\n    };\r\n    getMessagesData();\r\n  }, [id, dispatch, auth, message.data]);\r\n\r\n  // Load More\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        if (entries[0].isIntersecting) {\r\n          setIsLoadMore((p) => p + 1);\r\n        }\r\n      },\r\n      {\r\n        threshold: 0.1,\r\n      }\r\n    );\r\n\r\n    observer.observe(pageEnd.current);\r\n  }, [setIsLoadMore]);\r\n\r\n  useEffect(() => {\r\n    if (isLoadMore > 1) {\r\n      if (result >= page * 9) {\r\n        dispatch(loadMoreMessages({ auth, id, page: page + 1 }));\r\n        setIsLoadMore(1);\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [isLoadMore]);\r\n\r\n  const handleDeleteConversation = () => {\r\n    if (window.confirm(\"Bạn muốn xoá phòng chat này ?\")) {\r\n      dispatch(deleteConversation({ auth, id }));\r\n      return history.push(\"/message\");\r\n    }\r\n  };\r\n\r\n  // Call\r\n  const caller = ({ video }) => {\r\n    const { _id, avatar, username, fullname } = user;\r\n\r\n    const msg = {\r\n      sender: auth.user._id,\r\n      recipient: _id,\r\n      avatar,\r\n      username,\r\n      fullname,\r\n      video,\r\n    };\r\n    dispatch({ type: GLOBALTYPES.CALL, payload: msg });\r\n  };\r\n\r\n  const callUser = ({ video }) => {\r\n    const { _id, avatar, username, fullname } = auth.user;\r\n\r\n    const msg = {\r\n      sender: _id,\r\n      recipient: user._id,\r\n      avatar,\r\n      username,\r\n      fullname,\r\n      video,\r\n    };\r\n\r\n    if (peer.open) msg.peerId = peer._id;\r\n\r\n    socket.emit(\"callUser\", msg);\r\n  };\r\n\r\n  const handleAudioCall = () => {\r\n    caller({ video: false });\r\n    callUser({ video: false });\r\n  };\r\n\r\n  const handleVideoCall = () => {\r\n    caller({ video: true });\r\n    callUser({ video: true });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"message_header\" style={{ cursor: \"pointer\" }}>\r\n        {user.length !== 0 && (\r\n          <UserCard user={user}>\r\n            <div>\r\n              <i className=\"fas fa-phone-alt\" onClick={handleAudioCall} />\r\n\r\n              <i className=\"fas fa-video mx-3\" onClick={handleVideoCall} />\r\n\r\n              <i\r\n                className=\"fas fa-trash text-danger\"\r\n                onClick={handleDeleteConversation}\r\n              />\r\n            </div>\r\n          </UserCard>\r\n        )}\r\n      </div>\r\n\r\n      <div\r\n        className=\"chat_container\"\r\n        style={{ height: media.length > 0 ? \"calc(100% - 180px)\" : \"\" }}\r\n      >\r\n        <div className=\"chat_display\" ref={refDisplay}>\r\n          <button style={{ marginTop: \"-25px\", opacity: 0 }} ref={pageEnd}>\r\n            Xem Thêm\r\n          </button>\r\n\r\n          {data.map((msg, index) => (\r\n            <div key={index}>\r\n              {msg.sender !== auth.user._id && (\r\n                <div className=\"chat_row other_message\">\r\n                  <MsgDisplay user={user} msg={msg} theme={theme} />\r\n                </div>\r\n              )}\r\n\r\n              {msg.sender === auth.user._id && (\r\n                <div className=\"chat_row you_message\">\r\n                  <MsgDisplay\r\n                    user={auth.user}\r\n                    msg={msg}\r\n                    theme={theme}\r\n                    data={data}\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n\r\n          {loadMedia && (\r\n            <div className=\"chat_row you_message\">\r\n              <img src={LoadIcon} alt=\"loading\" />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        className=\"show_media\"\r\n        style={{ display: media.length > 0 ? \"grid\" : \"none\" }}\r\n      >\r\n        {media.map((item, index) => (\r\n          <div key={index} id=\"file_media\">\r\n            {item.type.match(/video/i)\r\n              ? videoShow(URL.createObjectURL(item), theme)\r\n              : imageShow(URL.createObjectURL(item), theme)}\r\n            <span onClick={() => handleDeleteMedia(index)}>&times;</span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <form className=\"chat_input\" onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Nhập tin nhắn...\"\r\n          value={text}\r\n          onChange={(e) => setText(e.target.value)}\r\n          style={{\r\n            filter: theme ? \"invert(1)\" : \"invert(0)\",\r\n            background: theme ? \"#040404\" : \"\",\r\n            color: theme ? \"white\" : \"\",\r\n          }}\r\n        />\r\n\r\n        <Icons setContent={setText} content={text} theme={theme} />\r\n\r\n        <div className=\"file_upload\">\r\n          <i className=\"fas fa-image text-danger\" />\r\n          <input\r\n            type=\"file\"\r\n            name=\"file\"\r\n            id=\"file\"\r\n            multiple\r\n            accept=\"image/*,video/*\"\r\n            onChange={handleChangeMedia}\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"material-icons\"\r\n          disabled={text || media.length > 0 ? false : true}\r\n        >\r\n          send\r\n        </button>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RightSide;\r\n","import React from 'react';\r\nimport LeftSide from '../../components/message/LeftSide';\r\nimport RightSide from '../../components/message/RightSide';\r\n\r\nconst Conversation = () => {\r\n  return (\r\n    <div className=\"message d-flex\">\r\n      <div className=\"col-md-4 border-right px-0 left_mess\">\r\n        <LeftSide />\r\n      </div>\r\n\r\n      <div className=\"col-md-8 px-0\">\r\n        <RightSide />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Conversation;\r\n","import { GLOBALTYPES } from './globalTypes';\r\nimport { imageUpload } from '../../utils/imageUpload';\r\nimport { postDataAPI, getDataAPI, patchDataAPI, deleteDataAPI } from '../../utils/fetchData';\r\nimport { createNotify, removeNotify } from './notifyAction';\r\n\r\nexport const POST_TYPES = {\r\n  CREATE_POST: 'CREATE_POST',\r\n  LOADING_POST: 'LOADING_POST',\r\n  GET_POSTS: 'GET_POSTS',\r\n  UPDATE_POST: 'UPDATE_POST',\r\n  GET_POST: 'GET_POST',\r\n  DELETE_POST: 'DELETE_POST',\r\n};\r\n\r\nexport const createPost =\r\n  ({ content, images, auth, socket }) =>\r\n  async (dispatch) => {\r\n    let media = [];\r\n    try {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n      if (images.length > 0) media = await imageUpload(images);\r\n\r\n      const res = await postDataAPI('posts', { content, images: media }, auth.token);\r\n\r\n      dispatch({\r\n        type: POST_TYPES.CREATE_POST,\r\n        payload: { ...res.data.newPost, user: auth.user },\r\n      });\r\n\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: false } });\r\n\r\n      // Notify\r\n      const msg = {\r\n        id: res.data.newPost._id,\r\n        text: 'đã thêm bài đăng mới.',\r\n        recipients: res.data.newPost.user.followers,\r\n        url: `/post/${res.data.newPost._id}`,\r\n        content,\r\n        image: media[0].url,\r\n      };\r\n\r\n      dispatch(createNotify({ msg, auth, socket }));\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const getPosts = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: POST_TYPES.LOADING_POST, payload: true });\r\n    const res = await getDataAPI('posts', token);\r\n\r\n    dispatch({\r\n      type: POST_TYPES.GET_POSTS,\r\n      payload: { ...res.data, page: 2 },\r\n    });\r\n\r\n    dispatch({ type: POST_TYPES.LOADING_POST, payload: false });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\nexport const updatePost =\r\n  ({ content, images, auth, status }) =>\r\n  async (dispatch) => {\r\n    let media = [];\r\n    const imgNewUrl = images.filter((img) => !img.url);\r\n    const imgOldUrl = images.filter((img) => img.url);\r\n\r\n    if (\r\n      status.content === content &&\r\n      imgNewUrl.length === 0 &&\r\n      imgOldUrl.length === status.images.length\r\n    )\r\n      return;\r\n\r\n    try {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n      if (imgNewUrl.length > 0) media = await imageUpload(imgNewUrl);\r\n\r\n      const res = await patchDataAPI(\r\n        `post/${status._id}`,\r\n        {\r\n          content,\r\n          images: [...imgOldUrl, ...media],\r\n        },\r\n        auth.token\r\n      );\r\n\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: res.data.newPost });\r\n\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const likePost =\r\n  ({ post, auth, socket }) =>\r\n  async (dispatch) => {\r\n    const newPost = { ...post, likes: [...post.likes, auth.user] };\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n\r\n    socket.emit('likePost', newPost);\r\n\r\n    try {\r\n      await patchDataAPI(`post/${post._id}/like`, null, auth.token);\r\n\r\n      // Notify\r\n      const msg = {\r\n        id: auth.user._id,\r\n        text: 'thích bài đăng của bạn.',\r\n        recipients: [post.user._id],\r\n        url: `/post/${post._id}`,\r\n        content: post.content,\r\n        image: post.images[0].url,\r\n      };\r\n\r\n      dispatch(createNotify({ msg, auth, socket }));\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const unLikePost =\r\n  ({ post, auth, socket }) =>\r\n  async (dispatch) => {\r\n    const newPost = {\r\n      ...post,\r\n      likes: post.likes.filter((like) => like._id !== auth.user._id),\r\n    };\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n\r\n    socket.emit('unLikePost', newPost);\r\n\r\n    try {\r\n      await patchDataAPI(`post/${post._id}/unlike`, null, auth.token);\r\n\r\n      // Notify\r\n      const msg = {\r\n        id: auth.user._id,\r\n        text: 'thích bài đăng của bạn.',\r\n        recipients: [post.user._id],\r\n        url: `/post/${post._id}`,\r\n      };\r\n      dispatch(removeNotify({ msg, auth, socket }));\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const getPost =\r\n  ({ detailPost, id, auth }) =>\r\n  async (dispatch) => {\r\n    if (detailPost.every((post) => post._id !== id)) {\r\n      try {\r\n        const res = await getDataAPI(`post/${id}`, auth.token);\r\n        dispatch({ type: POST_TYPES.GET_POST, payload: res.data.post });\r\n      } catch (err) {\r\n        dispatch({\r\n          type: GLOBALTYPES.ALERT,\r\n          payload: { error: err.response.data.msg },\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\nexport const deletePost =\r\n  ({ post, auth, socket }) =>\r\n  async (dispatch) => {\r\n    dispatch({ type: POST_TYPES.DELETE_POST, payload: post });\r\n\r\n    try {\r\n      const res = await deleteDataAPI(`post/${post._id}`, auth.token);\r\n\r\n      // Notify\r\n      const msg = {\r\n        id: post._id,\r\n        text: 'đã thêm bài đăng mới.',\r\n        recipients: res.data.newPost.user.followers,\r\n        url: `/post/${post._id}`,\r\n      };\r\n      dispatch(removeNotify({ msg, auth, socket }));\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const savePost =\r\n  ({ post, auth }) =>\r\n  async (dispatch) => {\r\n    const newUser = { ...auth.user, saved: [...auth.user.saved, post._id] };\r\n    dispatch({ type: GLOBALTYPES.AUTH, payload: { ...auth, user: newUser } });\r\n\r\n    try {\r\n      await patchDataAPI(`savePost/${post._id}`, null, auth.token);\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const unSavePost =\r\n  ({ post, auth }) =>\r\n  async (dispatch) => {\r\n    const newUser = {\r\n      ...auth.user,\r\n      saved: auth.user.saved.filter((id) => id !== post._id),\r\n    };\r\n    dispatch({ type: GLOBALTYPES.AUTH, payload: { ...auth, user: newUser } });\r\n\r\n    try {\r\n      await patchDataAPI(`unSavePost/${post._id}`, null, auth.token);\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n","var map = {\n\t\"./discover\": 75,\n\t\"./discover.js\": 75,\n\t\"./forgotPassword\": 59,\n\t\"./forgotPassword.js\": 59,\n\t\"./home\": 62,\n\t\"./home.js\": 62,\n\t\"./login\": 60,\n\t\"./login.js\": 60,\n\t\"./message\": 54,\n\t\"./message/\": 54,\n\t\"./message/[id]\": 101,\n\t\"./message/[id].js\": 101,\n\t\"./message/index\": 54,\n\t\"./message/index.js\": 54,\n\t\"./post/[id]\": 85,\n\t\"./post/[id].js\": 85,\n\t\"./profile/[id]\": 100,\n\t\"./profile/[id].js\": 100,\n\t\"./register\": 61,\n\t\"./register.js\": 61,\n\t\"./resetPassword\": 63,\n\t\"./resetPassword.js\": 63\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 119;","import { GLOBALTYPES } from './globalTypes';\r\nimport { postDataAPI, deleteDataAPI, getDataAPI, patchDataAPI } from '../../utils/fetchData';\r\n\r\nexport const NOTIFY_TYPES = {\r\n  GET_NOTIFIES: 'GET_NOTIFIES',\r\n  CREATE_NOTIFY: 'CREATE_NOTIFY',\r\n  REMOVE_NOTIFY: 'REMOVE_NOTIFY',\r\n  UPDATE_NOTIFY: 'UPDATE_NOTIFY',\r\n  UPDATE_SOUND: 'UPDATE_SOUND',\r\n  DELETE_ALL_NOTIFIES: 'DELETE_ALL_NOTIFIES',\r\n};\r\n\r\nexport const createNotify =\r\n  ({ msg, auth, socket }) =>\r\n  async (dispatch) => {\r\n    try {\r\n      const res = await postDataAPI('notify', msg, auth.token);\r\n\r\n      socket.emit('createNotify', {\r\n        ...res.data.notify,\r\n        user: {\r\n          username: auth.user.username,\r\n          avatar: auth.user.avatar,\r\n        },\r\n      });\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n\r\nexport const removeNotify =\r\n  ({ msg, auth, socket }) =>\r\n  async (dispatch) => {\r\n    try {\r\n      await deleteDataAPI(`notify/${msg.id}?url=${msg.url}`, auth.token);\r\n\r\n      socket.emit('removeNotify', msg);\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n\r\nexport const getNotifies = (token) => async (dispatch) => {\r\n  try {\r\n    const res = await getDataAPI('notifies', token);\r\n\r\n    dispatch({ type: NOTIFY_TYPES.GET_NOTIFIES, payload: res.data.notifies });\r\n  } catch (err) {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n  }\r\n};\r\n\r\nexport const isReadNotify =\r\n  ({ msg, auth }) =>\r\n  async (dispatch) => {\r\n    dispatch({ type: NOTIFY_TYPES.UPDATE_NOTIFY, payload: { ...msg, isRead: true } });\r\n    try {\r\n      await patchDataAPI(`/isReadNotify/${msg._id}`, null, auth.token);\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n\r\nexport const deleteAllNotifies = (token) => async (dispatch) => {\r\n  dispatch({ type: NOTIFY_TYPES.DELETE_ALL_NOTIFIES, payload: [] });\r\n  try {\r\n    await deleteDataAPI('deleteAllNotify', token);\r\n  } catch (err) {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n  }\r\n};\r\n","import { GLOBALTYPES, DeleteData } from '../actions/globalTypes';\r\nimport { postDataAPI, getDataAPI, deleteDataAPI } from '../../utils/fetchData';\r\n\r\nexport const MESS_TYPES = {\r\n  ADD_USER: 'ADD_USER',\r\n  ADD_MESSAGE: 'ADD_MESSAGE',\r\n  GET_CONVERSATIONS: 'GET_CONVERSATIONS',\r\n  GET_MESSAGES: 'GET_MESSAGES',\r\n  UPDATE_MESSAGES: 'UPDATE_MESSAGES',\r\n  DELETE_MESSAGES: 'DELETE_MESSAGES',\r\n  DELETE_CONVERSATION: 'DELETE_CONVERSATION',\r\n  CHECK_ONLINE_OFFLINE: 'CHECK_ONLINE_OFFLINE',\r\n};\r\n\r\nexport const addMessage =\r\n  ({ msg, auth, socket }) =>\r\n  async (dispatch) => {\r\n    dispatch({ type: MESS_TYPES.ADD_MESSAGE, payload: msg });\r\n\r\n    const { _id, avatar, fullname, username } = auth.user;\r\n    socket.emit('addMessage', { ...msg, user: { _id, avatar, fullname, username } });\r\n\r\n    try {\r\n      await postDataAPI('message', msg, auth.token);\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n\r\nexport const getConversations =\r\n  ({ auth, page = 1 }) =>\r\n  async (dispatch) => {\r\n    try {\r\n      const res = await getDataAPI(`conversations?limit=${page * 9}`, auth.token);\r\n\r\n      let newArr = [];\r\n      res.data.conversations.forEach((item) => {\r\n        item.recipients.forEach((cv) => {\r\n          if (cv._id !== auth.user._id) {\r\n            newArr.push({ ...cv, text: item.text, media: item.media, call: item.call });\r\n          }\r\n        });\r\n      });\r\n\r\n      dispatch({\r\n        type: MESS_TYPES.GET_CONVERSATIONS,\r\n        payload: { newArr, result: res.data.result },\r\n      });\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n\r\nexport const getMessages =\r\n  ({ auth, id, page = 1 }) =>\r\n  async (dispatch) => {\r\n    try {\r\n      const res = await getDataAPI(`message/${id}?limit=${page * 9}`, auth.token);\r\n      const newData = { ...res.data, messages: res.data.messages.reverse() };\r\n\r\n      dispatch({ type: MESS_TYPES.GET_MESSAGES, payload: { ...newData, _id: id, page } });\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n\r\nexport const loadMoreMessages =\r\n  ({ auth, id, page = 1 }) =>\r\n  async (dispatch) => {\r\n    try {\r\n      const res = await getDataAPI(`message/${id}?limit=${page * 9}`, auth.token);\r\n      const newData = { ...res.data, messages: res.data.messages.reverse() };\r\n\r\n      dispatch({ type: MESS_TYPES.UPDATE_MESSAGES, payload: { ...newData, _id: id, page } });\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n\r\nexport const deleteMessages =\r\n  ({ msg, data, auth }) =>\r\n  async (dispatch) => {\r\n    const newData = DeleteData(data, msg._id);\r\n    dispatch({ type: MESS_TYPES.DELETE_MESSAGES, payload: { newData, _id: msg.recipient } });\r\n    try {\r\n      await deleteDataAPI(`message/${msg._id}`, auth.token);\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n\r\nexport const deleteConversation =\r\n  ({ auth, id }) =>\r\n  async (dispatch) => {\r\n    dispatch({ type: MESS_TYPES.DELETE_CONVERSATION, payload: id });\r\n    try {\r\n      await deleteDataAPI(`conversation/${id}`, auth.token);\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n","export default __webpack_public_path__ + \"static/media/loading.10625dac.gif\";","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 169;","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Avatar = ({ src, size }) => {\r\n  const { theme } = useSelector((state) => state);\r\n\r\n  return (\r\n    <img\r\n      src={src}\r\n      alt=\"avatar\"\r\n      className={size}\r\n      style={{ filter: `${theme ? 'invert(1)' : 'invert(0)'}` }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Avatar;\r\n","import React from 'react';\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <div className=\"position-relative\" style={{ minHeight: 'calc(100vh - 70px)' }}>\r\n      <h2\r\n        className=\"position-absolute text-secondary\"\r\n        style={{ top: '50%', left: '50%', transform: 'translate(-50%, -50%)' }}\r\n      >\r\n        404 | Not Found.\r\n      </h2>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport NotFound from '../components/NotFound';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst generatePage = (pageName) => {\r\n  const component = () => require(`../pages/${pageName}`).default;\r\n\r\n  try {\r\n    return React.createElement(component());\r\n  } catch (err) {\r\n    return <NotFound />;\r\n  }\r\n};\r\n\r\nconst PageRender = () => {\r\n  const { page, id } = useParams();\r\n  const { auth } = useSelector((state) => state);\r\n\r\n  let pageName = '';\r\n\r\n  if (auth.token) {\r\n    if (id) {\r\n      pageName = `${page}/[id]`;\r\n    } else {\r\n      pageName = `${page}`;\r\n    }\r\n  }\r\n\r\n  return generatePage(pageName);\r\n};\r\n\r\nexport default PageRender;\r\n","import { Route, Redirect } from 'react-router-dom';\r\n\r\nconst PrivateRouter = (props) => {\r\n  const firstLogin = localStorage.getItem('firstLogin');\r\n  // ...props get params of the Route\r\n  return firstLogin ? <Route {...props} /> : <Redirect to=\"/\" />;\r\n};\r\n\r\nexport default PrivateRouter;\r\n","import React from 'react'\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <div className=\"position-fixed w-100 h-100 text-center loading\"\r\n        style={{background: \"#0008\", color: \"white\", top: 0, left: 0, zIndex: 50}}>\r\n\r\n            <svg width=\"205\" height=\"250\" viewBox=\"0 0 40 50\">\r\n                <polygon stroke=\"#fff\" strokeWidth=\"1\" fill=\"none\"\r\n                points=\"20,1 40,40 1,40\" />\r\n                <text fill=\"#fff\" x=\"5\" y=\"47\">Loading</text>\r\n            </svg>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading\r\n","import React from 'react'\r\n\r\nconst Toast = ({msg, handleShow, bgColor}) => {\r\n    return (\r\n        <div className={`toast show position-fixed text-light ${bgColor}`}\r\n        style={{top: '5px', right: '5px', minWidth: '200px', zIndex: 50}}>\r\n            <div className={`toast-header text-light ${bgColor}`}>\r\n                <strong className=\"mr-auto text-light\">{msg.title}</strong>\r\n                <button className=\"ml-2 mb-1 close text-light\"\r\n                data-dismiss=\"toast\" style={{outline: 'none'}}\r\n                onClick={handleShow}>\r\n                    &times;\r\n                </button>\r\n            </div>\r\n            <div className=\"toast-body\">\r\n                {msg.body}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Toast\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\r\n\r\nimport Loading from './Loading';\r\nimport Toast from './Toast';\r\n\r\nconst Notify = () => {\r\n  const { alert } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div>\r\n      {alert.loading && <Loading />}\r\n\r\n      {alert.error && (\r\n        <Toast\r\n          msg={{ title: 'Lỗi', body: alert.error }}\r\n          handleShow={() => dispatch({ type: GLOBALTYPES.ALERT, payload: {} })}\r\n          bgColor=\"bg-danger\"\r\n        />\r\n      )}\r\n\r\n      {alert.success && (\r\n        <Toast\r\n          msg={{ title: 'Thành Công', body: alert.success }}\r\n          handleShow={() => dispatch({ type: GLOBALTYPES.ALERT, payload: {} })}\r\n          bgColor=\"bg-success\"\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notify;\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport NoNotice from '../images/notice.png';\r\nimport { Link } from 'react-router-dom';\r\nimport Avatar from './Avatar';\r\nimport moment from 'moment';\r\nimport { isReadNotify, NOTIFY_TYPES, deleteAllNotifies } from '../redux/actions/notifyAction';\r\n\r\nconst NotifyModal = () => {\r\n  const { auth, notify } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleIsRead = (msg) => {\r\n    dispatch(isReadNotify({ msg, auth }));\r\n  };\r\n\r\n  const handleSound = () => {\r\n    dispatch({ type: NOTIFY_TYPES.UPDATE_SOUND, payload: !notify.sound });\r\n  };\r\n\r\n  const handleDeleteAll = () => {\r\n    const newArr = notify.data.filter((item) => item.isRead === false);\r\n    if (newArr.length === 0) return dispatch(deleteAllNotifies(auth.token));\r\n\r\n    if (window.confirm(`Bạn có ${newArr.length} thông báo chưa đọc. Bạn muốn xoá tất cả?`)) {\r\n      return dispatch(deleteAllNotifies(auth.token));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ minWidth: '300px' }}>\r\n      <div className=\"d-flex justify-content-between align-items-center px-3\">\r\n        <h3>Thông Báo</h3>\r\n        {notify.sound ? (\r\n          <i\r\n            className=\"fas fa-bell text-danger\"\r\n            style={{ fontSize: '1.2rem', cursor: 'pointer' }}\r\n            onClick={handleSound}\r\n          />\r\n        ) : (\r\n          <i\r\n            className=\"fas fa-bell-slash text-danger\"\r\n            style={{ fontSize: '1.2rem', cursor: 'pointer' }}\r\n            onClick={handleSound}\r\n          />\r\n        )}\r\n      </div>\r\n      <hr className=\"mt-0\" />\r\n\r\n      {notify.data.length === 0 && <img src={NoNotice} alt=\"NoNotice\" className=\"w-100\" />}\r\n\r\n      <div style={{ maxHeight: 'calc(100vh - 200px)', overflow: 'auto' }}>\r\n        {notify.data.map((msg, index) => (\r\n          <div key={index} className=\"px-2 mb-3\">\r\n            <Link\r\n              to={`${msg.url}`}\r\n              className=\"d-flex text-dark align-items-center\"\r\n              onClick={() => handleIsRead(msg)}\r\n            >\r\n              <Avatar src={msg.user.avatar} size=\"big-avatar\" />\r\n\r\n              <div className=\"mx-1 flex-fill\">\r\n                <div>\r\n                  <strong className=\"mr-1\">{msg.user.username}</strong>\r\n                  <span>{msg.text}</span>\r\n                </div>\r\n                {msg.content && <small>{msg.content.slice(0, 20)}...</small>}\r\n              </div>\r\n\r\n              {msg.image && (\r\n                <div style={{ width: '30px' }}>\r\n                  {msg.image.match(/video/i) ? (\r\n                    <video src={msg.image} width=\"100%\" />\r\n                  ) : (\r\n                    <Avatar src={msg.image} size=\"medium-avatar\" />\r\n                  )}\r\n                </div>\r\n              )}\r\n            </Link>\r\n            <small className=\"text-muted d-flex justify-content-between px-2\">\r\n              {moment(msg.createdAt).fromNow()}\r\n              {!msg.isRead && <i className=\"fas fa-circle text-primary\" />}\r\n            </small>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <hr className=\"my-1\" />\r\n      <div\r\n        className=\"text-right text-danger mr-2\"\r\n        style={{ cursor: 'pointer' }}\r\n        onClick={handleDeleteAll}\r\n      >\r\n        Xoá Tất Cả\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotifyModal;\r\n","export default \"data:image/png;base64,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\"","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { changePassword } from '../../redux/actions/authAction';\r\n\r\nconst ChangePassword = ({ setShowDialogPassword }) => {\r\n  const { auth, alert, theme } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const initialState = {\r\n    email: '',\r\n    oldPassword: '',\r\n    newPassword: '',\r\n    cf_newPassword: '',\r\n  };\r\n\r\n  const [typeOldPass, setTypeOldPass] = useState(false);\r\n  const [typeNewPass, setTypeNewPass] = useState(false);\r\n  const [typeCfPass, setTypeCfPass] = useState(false);\r\n\r\n  const [data, setData] = useState(initialState);\r\n\r\n  const { email, oldPassword, newPassword, cf_newPassword } = data;\r\n  useEffect(() => {\r\n    if (auth.token) history.push('/');\r\n  }, [auth.token, history]);\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setData({ ...data, [name]: value });\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(changePassword(data));\r\n  };\r\n\r\n  return (\r\n    <div className=\"edit_profile\">\r\n      <button className=\"btn btn-danger btn_close\" onClick={() => setShowDialogPassword(false)}>\r\n        Đóng\r\n      </button>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"info_avatar\">\r\n          <img\r\n            src={auth.user.avatar}\r\n            alt=\"avatar\"\r\n            style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputEmail1\">Nhập Email Đăng Ký</label>\r\n          <div className=\"position-relative\">\r\n            <input\r\n              type={'email'}\r\n              className=\"form-control\"\r\n              id=\"exampleInputEmail1\"\r\n              onChange={handleChangeInput}\r\n              value={email}\r\n              name=\"email\"\r\n              style={{ background: `${alert.email ? '#fd2d6a14' : ''}` }}\r\n            />\r\n            <small>{alert.email ? alert.email : ''}</small>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"oldPassword\">Nhập Mật Khẩu Cũ</label>\r\n          <div className=\"position-relative\">\r\n            <input\r\n              type={typeOldPass ? 'text' : 'password'}\r\n              className=\"form-control\"\r\n              id=\"exampleInputPassword1\"\r\n              onChange={handleChangeInput}\r\n              value={oldPassword}\r\n              name=\"oldPassword\"\r\n              style={{ background: `${alert.oldPassword ? '#fd2d6a14' : ''}` }}\r\n            />\r\n            <small onClick={() => setTypeOldPass(!typeOldPass)}>\r\n              {typeOldPass ? 'Hide' : 'Show'}\r\n            </small>\r\n          </div>\r\n          <small className=\"form-text text-danger\">\r\n            {alert.oldPassword ? alert.oldPassword : ''}\r\n          </small>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"newPassword\">Nhập Mật Khẩu Mới</label>\r\n          <div className=\"position-relative\">\r\n            <input\r\n              type={typeNewPass ? 'text' : 'password'}\r\n              className=\"form-control\"\r\n              id=\"exampleInputPassword1\"\r\n              onChange={handleChangeInput}\r\n              value={newPassword}\r\n              name=\"newPassword\"\r\n              style={{ background: `${alert.newPassword ? '#fd2d6a14' : ''}` }}\r\n            />\r\n            <small onClick={() => setTypeNewPass(!typeNewPass)}>\r\n              {typeNewPass ? 'Hide' : 'Show'}\r\n            </small>\r\n          </div>\r\n          <small className=\"form-text text-danger\">\r\n            {alert.newPassword ? alert.newPassword : ''}\r\n          </small>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"cf_newPassword\">Nhập Lại Mật Khẩu</label>\r\n          <div className=\"position-relative\">\r\n            <input\r\n              type={typeCfPass ? 'text' : 'password'}\r\n              className=\"form-control\"\r\n              id=\"exampleInputPassword1\"\r\n              onChange={handleChangeInput}\r\n              value={cf_newPassword}\r\n              name=\"cf_newPassword\"\r\n              style={{\r\n                background: `${alert.cf_newPassword ? '#fd2d6a14' : ''}`,\r\n              }}\r\n            />\r\n            <small onClick={() => setTypeCfPass(!typeCfPass)}>{typeCfPass ? 'Hide' : 'Show'}</small>\r\n          </div>\r\n          <small className=\"form-text text-danger\">\r\n            {alert.cf_newPassword ? alert.cf_newPassword : ''}\r\n          </small>\r\n        </div>\r\n\r\n        <button className=\"btn btn-info w-100\" type=\"submit\">\r\n          Lưu\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChangePassword;\r\n","import React, { useState } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { logout } from '../../redux/actions/authAction';\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\r\nimport Avatar from '../Avatar';\r\nimport NotifyModal from '../NotifyModal';\r\nimport ChangePassword from '../profile/changePassword';\r\n\r\nconst Menu = () => {\r\n  const navLinks = [\r\n    { label: 'Home', icon: 'home', path: '/' },\r\n    { label: 'Message', icon: 'message', path: '/message' },\r\n    { label: 'Discover', icon: 'explore', path: '/discover' },\r\n  ];\r\n  const [showDialogPassword, setShowDialogPassword] = useState(false);\r\n  const { auth, theme, notify } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const { pathname } = useLocation();\r\n\r\n  const isActive = (pn) => {\r\n    if (pn === pathname) return 'active';\r\n  };\r\n\r\n  return (\r\n    <div className=\"menu\">\r\n      <ul className=\"navbar-nav flex-row\">\r\n        {navLinks.map((link, index) => (\r\n          <li className={`nav-item px-2 ${isActive(link.path)}`} key={index}>\r\n            <Link className=\"nav-link\" to={link.path}>\r\n              <span className=\"material-icons\">{link.icon}</span>\r\n            </Link>\r\n          </li>\r\n        ))}\r\n\r\n        <li className=\"nav-item dropdown\" style={{ opacity: 1 }}>\r\n          <span\r\n            className=\"nav-link position-relative\"\r\n            id=\"navbarDropdown\"\r\n            role=\"button\"\r\n            data-toggle=\"dropdown\"\r\n            aria-haspopup=\"true\"\r\n            aria-expanded=\"false\"\r\n          >\r\n            <span\r\n              className=\"material-icons\"\r\n              style={{ color: notify.data.length > 0 ? 'crimson' : '' }}\r\n            >\r\n              notifications\r\n            </span>\r\n\r\n            <span className=\"notify_length\">{notify.data.length}</span>\r\n          </span>\r\n\r\n          <div\r\n            className=\"dropdown-menu\"\r\n            aria-labelledby=\"navbarDropdown\"\r\n            style={{ transform: 'translateX(75px)' }}\r\n          >\r\n            <NotifyModal />\r\n          </div>\r\n        </li>\r\n\r\n        <li className=\"nav-item dropdown\" style={{ opacity: 1 }}>\r\n          <span\r\n            className=\"nav-link dropdown-toggle\"\r\n            id=\"navbarDropdown\"\r\n            role=\"button\"\r\n            data-toggle=\"dropdown\"\r\n            aria-haspopup=\"true\"\r\n            aria-expanded=\"false\"\r\n          >\r\n            <Avatar src={auth.user.avatar} size=\"medium-avatar\" />\r\n          </span>\r\n\r\n          <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n            <Link className=\"dropdown-item\" to={`/profile/${auth.user._id}`}>\r\n              Thông Tin\r\n            </Link>\r\n\r\n            <label\r\n              htmlFor=\"theme\"\r\n              className=\"dropdown-item\"\r\n              onClick={() =>\r\n                dispatch({\r\n                  type: GLOBALTYPES.THEME,\r\n                  payload: !theme,\r\n                })\r\n              }\r\n            >\r\n              {theme ? 'Giao Diện Sáng' : 'Giao Diện Tối'}\r\n            </label>\r\n\r\n            <label\r\n              // htmlFor=\"setShowDialogPassword\"\r\n              className=\"dropdown-item\"\r\n              onClick={() => {\r\n                setShowDialogPassword(true);\r\n              }}\r\n            >\r\n              Đổi Mật Khẩu\r\n            </label>\r\n\r\n            <div className=\"dropdown-divider\"></div>\r\n            <Link className=\"dropdown-item\" to=\"/\" onClick={() => dispatch(logout())}>\r\n              Đăng Xuất\r\n            </Link>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n      {showDialogPassword && <ChangePassword setShowDialogPassword={setShowDialogPassword} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getDataAPI } from '../../utils/fetchData';\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\r\nimport UserCard from '../UserCard';\r\nimport LoadIcon from '../../images/loading.gif';\r\n\r\nconst Search = () => {\r\n  const [search, setSearch] = useState('');\r\n  const [users, setUsers] = useState([]);\r\n\r\n  const { auth } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const [load, setLoad] = useState(false);\r\n\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault();\r\n    if (!search) return;\r\n\r\n    try {\r\n      setLoad(true);\r\n      const res = await getDataAPI(`search?username=${search}`, auth.token);\r\n      setUsers(res.data.users);\r\n      setLoad(false);\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setSearch('');\r\n    setUsers([]);\r\n  };\r\n\r\n  return (\r\n    <form className=\"search_form\" onSubmit={handleSearch}>\r\n      <input\r\n        type=\"text\"\r\n        name=\"search\"\r\n        value={search}\r\n        id=\"search\"\r\n        title=\"Tìm kiếm\"\r\n        onChange={(e) => setSearch(e.target.value.toLowerCase().replace(/ /g, ''))}\r\n      />\r\n\r\n      <div className=\"search_icon\" style={{ opacity: search ? 0 : 0.5 }}>\r\n        <span className=\"material-icons\">search</span>\r\n        <span>Tìm kiếm</span>\r\n      </div>\r\n\r\n      <div\r\n        className=\"close_search\"\r\n        onClick={handleClose}\r\n        style={{ opacity: users.length === 0 ? 0 : 1 }}\r\n      >\r\n        &times;\r\n      </div>\r\n\r\n      <button type=\"submit\" style={{ display: 'none' }}>\r\n        Tìm Kiếm\r\n      </button>\r\n\r\n      {load && <img className=\"loading\" src={LoadIcon} alt=\"loading\" />}\r\n\r\n      <div className=\"users\">\r\n        {search &&\r\n          users.map((user) => (\r\n            <UserCard key={user._id} user={user} border=\"border\" handleClose={handleClose} />\r\n          ))}\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Menu from './Menu';\r\nimport Search from './Search';\r\n\r\nconst Header = () => {\r\n  return (\r\n    <div className=\"header bg-light\">\r\n      <nav\r\n        className=\"navbar navbar-expand-lg navbar-light \r\n            bg-light justify-content-between align-middle\"\r\n      >\r\n        <Link to=\"/\" className=\"logo\">\r\n          <h1\r\n            className=\"navbar-brand text-uppercase p-0 m-0\"\r\n            onClick={() => window.scrollTo({ top: 0 })}\r\n          >\r\n            instagram\r\n          </h1>\r\n        </Link>\r\n\r\n        <Search />\r\n\r\n        <Menu />\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { GLOBALTYPES } from '../redux/actions/globalTypes';\r\nimport { createPost, updatePost } from '../redux/actions/postAction';\r\nimport Icons from './Icons';\r\nimport { imageShow, videoShow } from '../utils/mediaShow';\r\n\r\nconst StatusModal = () => {\r\n  const { auth, theme, status, socket } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const [content, setContent] = useState('');\r\n  const [images, setImages] = useState([]);\r\n\r\n  const [stream, setStream] = useState(false);\r\n  const videoRef = useRef();\r\n  const refCanvas = useRef();\r\n  const [tracks, setTracks] = useState('');\r\n\r\n  const handleChangeImages = (e) => {\r\n    const files = [...e.target.files];\r\n    let err = '';\r\n    let newImages = [];\r\n\r\n    files.forEach((file) => {\r\n      if (!file) return (err = 'Tập Tin Không Tồn Tại.');\r\n\r\n      if (file.size > 1024 * 1024 * 5) {\r\n        return (err = 'Dung Lượng Tối Đa 5mb.');\r\n      }\r\n\r\n      return newImages.push(file);\r\n    });\r\n\r\n    if (err) dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err } });\r\n    setImages([...images, ...newImages]);\r\n  };\r\n\r\n  const deleteImages = (index) => {\r\n    const newArr = [...images];\r\n    newArr.splice(index, 1);\r\n    setImages(newArr);\r\n  };\r\n\r\n  const handleStream = () => {\r\n    setStream(true);\r\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n      navigator.mediaDevices\r\n        .getUserMedia({ video: true })\r\n        .then((mediaStream) => {\r\n          videoRef.current.srcObject = mediaStream;\r\n          videoRef.current.play();\r\n\r\n          const track = mediaStream.getTracks();\r\n          setTracks(track[0]);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  const handleCapture = () => {\r\n    const width = videoRef.current.clientWidth;\r\n    const height = videoRef.current.clientHeight;\r\n\r\n    refCanvas.current.setAttribute('width', width);\r\n    refCanvas.current.setAttribute('height', height);\r\n\r\n    const ctx = refCanvas.current.getContext('2d');\r\n    ctx.drawImage(videoRef.current, 0, 0, width, height);\r\n    let URL = refCanvas.current.toDataURL();\r\n    setImages([...images, { camera: URL }]);\r\n  };\r\n\r\n  const handleStopStream = () => {\r\n    tracks.stop();\r\n    setStream(false);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (images.length === 0)\r\n      return dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: 'Vui Lòng Thêm Ảnh Của Bạn.' },\r\n      });\r\n\r\n    if (status.onEdit) {\r\n      dispatch(updatePost({ content, images, auth, status }));\r\n    } else {\r\n      dispatch(createPost({ content, images, auth, socket }));\r\n    }\r\n\r\n    setContent('');\r\n    setImages([]);\r\n    if (tracks) tracks.stop();\r\n    dispatch({ type: GLOBALTYPES.STATUS, payload: false });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (status.onEdit) {\r\n      setContent(status.content);\r\n      setImages(status.images);\r\n    }\r\n  }, [status]);\r\n\r\n  return (\r\n    <div className=\"status_modal\">\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"status_header\">\r\n          <h5 className=\"m-0\">Tạo bài viết</h5>\r\n          <span\r\n            onClick={() =>\r\n              dispatch({\r\n                type: GLOBALTYPES.STATUS,\r\n                payload: false,\r\n              })\r\n            }\r\n          >\r\n            &times;\r\n          </span>\r\n        </div>\r\n\r\n        <div className=\"status_body\">\r\n          <textarea\r\n            name=\"content\"\r\n            value={content}\r\n            placeholder={`${auth.user.username}, Bạn Đang Nghĩ Gì?`}\r\n            onChange={(e) => setContent(e.target.value)}\r\n            style={{\r\n              filter: theme ? 'invert(1)' : 'invert(0)',\r\n              color: theme ? 'white' : '#111',\r\n              background: theme ? 'rgba(0,0,0,.03)' : '',\r\n            }}\r\n          />\r\n\r\n          <div className=\"d-flex\">\r\n            <div className=\"flex-fill\"></div>\r\n            <Icons setContent={setContent} content={content} theme={theme} />\r\n          </div>\r\n\r\n          <div className=\"show_images\">\r\n            {images.map((img, index) => (\r\n              <div key={index} id=\"file_img\">\r\n                {img.camera ? (\r\n                  imageShow(img.camera, theme)\r\n                ) : img.url ? (\r\n                  <>\r\n                    {img.url.match(/video/i)\r\n                      ? videoShow(img.url, theme)\r\n                      : imageShow(img.url, theme)}\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    {img.type.match(/video/i)\r\n                      ? videoShow(URL.createObjectURL(img), theme)\r\n                      : imageShow(URL.createObjectURL(img), theme)}\r\n                  </>\r\n                )}\r\n                <span onClick={() => deleteImages(index)}>&times;</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {stream && (\r\n            <div className=\"stream position-relative\">\r\n              <video\r\n                autoPlay\r\n                muted\r\n                ref={videoRef}\r\n                width=\"100%\"\r\n                height=\"100%\"\r\n                style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n              />\r\n\r\n              <span onClick={handleStopStream}>&times;</span>\r\n              <canvas ref={refCanvas} style={{ display: 'none' }} />\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"input_images\">\r\n            {stream ? (\r\n              <i className=\"fas fa-camera\" onClick={handleCapture} />\r\n            ) : (\r\n              <>\r\n                <i className=\"fas fa-camera\" onClick={handleStream} />\r\n\r\n                <div className=\"file_upload\">\r\n                  <i className=\"fas fa-image\" />\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"file\"\r\n                    id=\"file\"\r\n                    multiple\r\n                    accept=\"image/*,video/*\"\r\n                    onChange={handleChangeImages}\r\n                  />\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"status_footer\">\r\n          <button className=\"btn btn-secondary w-100\" type=\"submit\">\r\n            Đăng\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatusModal;\r\n","export default __webpack_public_path__ + \"static/media/got-it-done-613.89a311f0.mp3\";","import React, { useEffect, useRef } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { POST_TYPES } from './redux/actions/postAction';\r\nimport { GLOBALTYPES } from './redux/actions/globalTypes';\r\nimport { NOTIFY_TYPES } from './redux/actions/notifyAction';\r\nimport { MESS_TYPES } from './redux/actions/messageAction';\r\n\r\nimport audiobell from './audio/got-it-done-613.mp3';\r\n\r\nconst spawnNotification = (body, icon, url, title) => {\r\n  let options = {\r\n    body,\r\n    icon,\r\n  };\r\n  let n = new Notification(title, options);\r\n\r\n  n.onclick = (e) => {\r\n    e.preventDefault();\r\n    window.open(url, '_blank');\r\n  };\r\n};\r\n\r\nconst SocketClient = () => {\r\n  const { auth, socket, notify, online, call } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  // saved value now\r\n  const audioRef = useRef();\r\n\r\n  // joinUser\r\n  useEffect(() => {\r\n    socket.emit('joinUser', auth.user);\r\n  }, [socket, auth.user]);\r\n\r\n  // Likes\r\n  useEffect(() => {\r\n    socket.on('likeToClient', (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n\r\n    return () => socket.off('likeToClient');\r\n  }, [socket, dispatch]);\r\n\r\n  useEffect(() => {\r\n    socket.on('unLikeToClient', (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n\r\n    return () => socket.off('unLikeToClient');\r\n  }, [socket, dispatch]);\r\n\r\n  // Comments\r\n  useEffect(() => {\r\n    socket.on('createCommentToClient', (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n\r\n    return () => socket.off('createCommentToClient');\r\n  }, [socket, dispatch]);\r\n\r\n  useEffect(() => {\r\n    socket.on('deleteCommentToClient', (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n\r\n    return () => socket.off('deleteCommentToClient');\r\n  }, [socket, dispatch]);\r\n\r\n  // Follow\r\n  useEffect(() => {\r\n    socket.on('followToClient', (newUser) => {\r\n      dispatch({ type: GLOBALTYPES.AUTH, payload: { ...auth, user: newUser } });\r\n    });\r\n\r\n    return () => socket.off('followToClient');\r\n  }, [socket, dispatch, auth]);\r\n\r\n  useEffect(() => {\r\n    socket.on('unFollowToClient', (newUser) => {\r\n      dispatch({ type: GLOBALTYPES.AUTH, payload: { ...auth, user: newUser } });\r\n    });\r\n\r\n    return () => socket.off('unFollowToClient');\r\n  }, [socket, dispatch, auth]);\r\n\r\n  // Notification\r\n  useEffect(() => {\r\n    socket.on('createNotifyToClient', (msg) => {\r\n      dispatch({ type: NOTIFY_TYPES.CREATE_NOTIFY, payload: msg });\r\n\r\n      if (notify.sound) audioRef.current.play();\r\n      spawnNotification(msg.user.username + ' ' + msg.text, msg.user.avatar, msg.url, 'INSTAGRAM');\r\n    });\r\n\r\n    return () => socket.off('createNotifyToClient');\r\n  }, [socket, dispatch, notify.sound]);\r\n\r\n  useEffect(() => {\r\n    socket.on('removeNotifyToClient', (msg) => {\r\n      dispatch({ type: NOTIFY_TYPES.REMOVE_NOTIFY, payload: msg });\r\n    });\r\n\r\n    return () => socket.off('removeNotifyToClient');\r\n  }, [socket, dispatch]);\r\n\r\n  // Message\r\n  useEffect(() => {\r\n    socket.on('addMessageToClient', (msg) => {\r\n      dispatch({ type: MESS_TYPES.ADD_MESSAGE, payload: msg });\r\n\r\n      dispatch({\r\n        type: MESS_TYPES.ADD_USER,\r\n        payload: {\r\n          ...msg.user,\r\n          text: msg.text,\r\n          media: msg.media,\r\n        },\r\n      });\r\n    });\r\n\r\n    return () => socket.off('addMessageToClient');\r\n  }, [socket, dispatch]);\r\n\r\n  // Check User Online / Offline\r\n  useEffect(() => {\r\n    socket.emit('checkUserOnline', auth.user);\r\n  }, [socket, auth.user]);\r\n\r\n  useEffect(() => {\r\n    socket.on('checkUserOnlineToMe', (data) => {\r\n      data.forEach((item) => {\r\n        if (!online.includes(item.id)) {\r\n          dispatch({ type: GLOBALTYPES.ONLINE, payload: item.id });\r\n        }\r\n      });\r\n    });\r\n\r\n    return () => socket.off('checkUserOnlineToMe');\r\n  }, [socket, dispatch, online]);\r\n\r\n  useEffect(() => {\r\n    socket.on('checkUserOnlineToClient', (id) => {\r\n      if (!online.includes(id)) {\r\n        dispatch({ type: GLOBALTYPES.ONLINE, payload: id });\r\n      }\r\n    });\r\n\r\n    return () => socket.off('checkUserOnlineToClient');\r\n  }, [socket, dispatch, online]);\r\n\r\n  // Check User Offline\r\n  useEffect(() => {\r\n    socket.on('CheckUserOffline', (id) => {\r\n      dispatch({ type: GLOBALTYPES.OFFLINE, payload: id });\r\n    });\r\n\r\n    return () => socket.off('CheckUserOffline');\r\n  }, [socket, dispatch]);\r\n\r\n  // Call User\r\n  useEffect(() => {\r\n    socket.on('callUserToClient', (data) => {\r\n      dispatch({ type: GLOBALTYPES.CALL, payload: data });\r\n    });\r\n\r\n    return () => socket.off('callUserToClient');\r\n  }, [socket, dispatch]);\r\n\r\n  useEffect(() => {\r\n    socket.on('userBusy', (data) => {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: `${call.username} is busy!` },\r\n      });\r\n    });\r\n\r\n    return () => socket.off('userBusy');\r\n  }, [socket, dispatch, call]);\r\n\r\n  return (\r\n    <>\r\n      <audio controls ref={audioRef} style={{ display: 'none' }}>\r\n        <source src={audiobell} type=\"audio/mp3\" />\r\n      </audio>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SocketClient;\r\n","export default __webpack_public_path__ + \"static/media/ringring.9a30797f.mp3\";","import React, { useState, useEffect, useRef, useCallback } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Avatar from \"../Avatar\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\nimport { addMessage } from \"../../redux/actions/messageAction\";\r\nimport RingRing from \"../../audio/ringring.mp3\";\r\n\r\nconst CallModal = () => {\r\n  const { call, auth, peer, socket, theme } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const [hours, setHours] = useState(0);\r\n  const [mins, setMins] = useState(0);\r\n  const [second, setSecond] = useState(0);\r\n  const [total, setTotal] = useState(0);\r\n\r\n  const [answer, setAnswer] = useState(false);\r\n  const youVideo = useRef();\r\n  const otherVideo = useRef();\r\n  const [tracks, setTracks] = useState(null);\r\n  const [newCall, setNewCall] = useState(null);\r\n\r\n  // Set Time\r\n  useEffect(() => {\r\n    const setTime = () => {\r\n      setTotal((t) => t + 1);\r\n      setTimeout(setTime, 1000);\r\n    };\r\n    setTime();\r\n\r\n    return () => setTotal(0);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setSecond(total % 60);\r\n    setMins(parseInt(total / 60));\r\n    setHours(parseInt(total / 3600));\r\n  }, [total]);\r\n\r\n  // End Call\r\n  const addCallMessage = useCallback(\r\n    (call, times, disconnect) => {\r\n      if (call.recipient !== auth.user._id || disconnect) {\r\n        const msg = {\r\n          sender: call.sender,\r\n          recipient: call.recipient,\r\n          text: \"\",\r\n          media: [],\r\n          call: { video: call.video, times },\r\n          createdAt: new Date().toISOString(),\r\n        };\r\n        dispatch(addMessage({ msg, auth, socket }));\r\n      }\r\n    },\r\n    [auth, dispatch, socket]\r\n  );\r\n\r\n  const handleEndCall = () => {\r\n    tracks && tracks.forEach((track) => track.stop());\r\n    if (newCall) newCall.close();\r\n    let times = answer ? total : 0;\r\n    socket.emit(\"endCall\", { ...call, times });\r\n\r\n    addCallMessage(call, times);\r\n    dispatch({ type: GLOBALTYPES.CALL, payload: null });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (answer) {\r\n      setTotal(0);\r\n    } else {\r\n      const timer = setTimeout(() => {\r\n        socket.emit(\"endCall\", { ...call, times: 0 });\r\n        addCallMessage(call, 0);\r\n        dispatch({ type: GLOBALTYPES.CALL, payload: null });\r\n      }, 15000);\r\n\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [dispatch, answer, call, socket, addCallMessage]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"endCallToClient\", (data) => {\r\n      tracks && tracks.forEach((track) => track.stop());\r\n      if (newCall) newCall.close();\r\n      addCallMessage(data, data.times);\r\n      dispatch({ type: GLOBALTYPES.CALL, payload: null });\r\n    });\r\n\r\n    return () => socket.off(\"endCallToClient\");\r\n  }, [socket, dispatch, tracks, addCallMessage, newCall]);\r\n\r\n  // Stream Media\r\n  const openStream = (video) => {\r\n    const config = { audio: true, video };\r\n    return navigator.mediaDevices.getUserMedia(config);\r\n  };\r\n\r\n  const playStream = (tag, stream) => {\r\n    let video = tag;\r\n    video.srcObject = stream;\r\n    video.play();\r\n  };\r\n\r\n  // Answer Call\r\n  const handleAnswer = () => {\r\n    openStream(call.video).then((stream) => {\r\n      playStream(youVideo.current, stream);\r\n      const track = stream.getTracks();\r\n      setTracks(track);\r\n\r\n      const newCall = peer.call(call.peerId, stream);\r\n      newCall.on(\"stream\", function (remoteStream) {\r\n        playStream(otherVideo.current, remoteStream);\r\n      });\r\n      setAnswer(true);\r\n      setNewCall(newCall);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    peer.on(\"call\", (newCall) => {\r\n      openStream(call.video).then((stream) => {\r\n        if (youVideo.current) {\r\n          playStream(youVideo.current, stream);\r\n        }\r\n        const track = stream.getTracks();\r\n        setTracks(track);\r\n\r\n        newCall.answer(stream);\r\n        newCall.on(\"stream\", function (remoteStream) {\r\n          if (otherVideo.current) {\r\n            playStream(otherVideo.current, remoteStream);\r\n          }\r\n        });\r\n        setAnswer(true);\r\n        setNewCall(newCall);\r\n      });\r\n    });\r\n    return () => peer.removeListener(\"call\");\r\n  }, [peer, call.video]);\r\n\r\n  // Disconnect\r\n  useEffect(() => {\r\n    socket.on(\"callerDisconnect\", () => {\r\n      tracks && tracks.forEach((track) => track.stop());\r\n      if (newCall) newCall.close();\r\n      let times = answer ? total : 0;\r\n      addCallMessage(call, times, true);\r\n\r\n      dispatch({ type: GLOBALTYPES.CALL, payload: null });\r\n\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: `The ${call.username} disconnect` },\r\n      });\r\n    });\r\n\r\n    return () => socket.off(\"callerDisconnect\");\r\n  }, [socket, tracks, dispatch, call, addCallMessage, answer, total, newCall]);\r\n\r\n  // Play - Pause Audio\r\n  const playAudio = (newAudio) => {\r\n    newAudio.play();\r\n  };\r\n\r\n  const pauseAudio = (newAudio) => {\r\n    newAudio.pause();\r\n    newAudio.currentTime = 0;\r\n  };\r\n\r\n  useEffect(() => {\r\n    let newAudio = new Audio(RingRing);\r\n    if (answer) {\r\n      pauseAudio(newAudio);\r\n    } else {\r\n      playAudio(newAudio);\r\n    }\r\n\r\n    return () => pauseAudio(newAudio);\r\n  }, [answer]);\r\n\r\n  return (\r\n    <div className=\"call_modal\">\r\n      <div\r\n        className=\"call_box\"\r\n        style={{\r\n          display: answer && call.video ? \"none\" : \"flex\",\r\n        }}\r\n      >\r\n        <div className=\"text-center\" style={{ padding: \"40px 0\" }}>\r\n          <Avatar src={call.avatar} size=\"supper-avatar\" />\r\n          <h4>{call.username}</h4>\r\n          <h6>{call.fullname}</h6>\r\n\r\n          {answer ? (\r\n            <div>\r\n              <span>{hours.toString().length < 2 ? \"0\" + hours : hours}</span>\r\n              <span>:</span>\r\n              <span>{mins.toString().length < 2 ? \"0\" + mins : mins}</span>\r\n              <span>:</span>\r\n              <span>\r\n                {second.toString().length < 2 ? \"0\" + second : second}\r\n              </span>\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              {call.video ? (\r\n                <span>Đang gọi video...</span>\r\n              ) : (\r\n                <span>Đang gọi...</span>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {!answer && (\r\n          <div className=\"timer\">\r\n            <small>{mins.toString().length < 2 ? \"0\" + mins : mins}</small>\r\n            <small>:</small>\r\n            <small>\r\n              {second.toString().length < 2 ? \"0\" + second : second}\r\n            </small>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"call_menu\">\r\n          <button\r\n            className=\"material-icons text-danger\"\r\n            onClick={handleEndCall}\r\n          >\r\n            call_end\r\n          </button>\r\n\r\n          {call.recipient === auth.user._id && !answer && (\r\n            <>\r\n              {call.video ? (\r\n                <button\r\n                  className=\"material-icons text-success\"\r\n                  onClick={handleAnswer}\r\n                >\r\n                  videocam\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  className=\"material-icons text-success\"\r\n                  onClick={handleAnswer}\r\n                >\r\n                  call\r\n                </button>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        className=\"show_video\"\r\n        style={{\r\n          opacity: answer && call.video ? \"1\" : \"0\",\r\n          filter: theme ? \"invert(1)\" : \"invert(0)\",\r\n        }}\r\n      >\r\n        <video ref={youVideo} className=\"you_video\" playsInline muted />\r\n        <video ref={otherVideo} className=\"other_video\" playsInline />\r\n\r\n        <div className=\"time_video\">\r\n          <span>{hours.toString().length < 2 ? \"0\" + hours : hours}</span>\r\n          <span>:</span>\r\n          <span>{mins.toString().length < 2 ? \"0\" + mins : mins}</span>\r\n          <span>:</span>\r\n          <span>{second.toString().length < 2 ? \"0\" + second : second}</span>\r\n        </div>\r\n\r\n        <button\r\n          className=\"material-icons text-danger end_call\"\r\n          onClick={handleEndCall}\r\n        >\r\n          call_end\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CallModal;\r\n","import { useEffect } from 'react';\r\nimport { Route, BrowserRouter as Router } from 'react-router-dom';\r\n\r\nimport PageRender from './customRouter/PageRender';\r\nimport PrivateRouter from './customRouter/PrivateRouter';\r\n\r\nimport Home from './pages/home';\r\nimport Login from './pages/login';\r\nimport Register from './pages/register';\r\nimport Forgot from './pages/forgotPassword';\r\nimport Reset from './pages/resetPassword';\r\n\r\nimport Alert from './components/alert/Alert';\r\nimport Header from './components/header/Header';\r\nimport StatusModal from './components/StatusModal';\r\nimport NotFound from './components/NotFound';\r\n\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { refreshToken } from './redux/actions/authAction';\r\nimport { getPosts } from './redux/actions/postAction';\r\nimport { getSuggestions } from './redux/actions/suggestionsAction';\r\n\r\nimport io from 'socket.io-client';\r\nimport { GLOBALTYPES } from './redux/actions/globalTypes';\r\nimport SocketClient from './SocketClient';\r\n\r\nimport { getNotifies } from './redux/actions/notifyAction';\r\nimport CallModal from './components/message/CallModal';\r\nimport Peer from 'peerjs';\r\n\r\nfunction App() {\r\n  const { auth, status, modal, call } = useSelector((state) => state);\r\n  const { isLogged } = auth;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(refreshToken());\r\n\r\n    const socket = io();\r\n    dispatch({ type: GLOBALTYPES.SOCKET, payload: socket });\r\n    return () => socket.close();\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (auth.token) {\r\n      dispatch(getPosts(auth.token));\r\n      dispatch(getSuggestions(auth.token));\r\n      dispatch(getNotifies(auth.token));\r\n    }\r\n  }, [dispatch, auth.token]);\r\n\r\n  useEffect(() => {\r\n    if (!('Notification' in window)) {\r\n      alert('This browser does not support desktop notification');\r\n    } else if (Notification.permission === 'granted') {\r\n    } else if (Notification.permission !== 'denied') {\r\n      Notification.requestPermission().then(function (permission) {\r\n        if (permission === 'granted') {\r\n        }\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const newPeer = new Peer(undefined, {\r\n      path: '/',\r\n      secure: true,\r\n    });\r\n\r\n    dispatch({ type: GLOBALTYPES.PEER, payload: newPeer });\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Router>\r\n      <Alert />\r\n\r\n      <input type=\"checkbox\" id=\"theme\" />\r\n      <div className={`App ${(status || modal) && 'mode'}`}>\r\n        <div className=\"main\">\r\n          {/* token true */}\r\n          {auth.token && <Header />}\r\n          {status && <StatusModal />}\r\n          {auth.token && <SocketClient />}\r\n          {call && <CallModal />}\r\n\r\n          <Route exact path=\"/\" component={auth.token ? Home : Login} />\r\n          <Route exact path=\"/register\" component={isLogged ? NotFound : Register} />\r\n          <Route exact path=\"/forgot_password\" component={isLogged ? NotFound : Forgot} />\r\n          <Route exact path=\"/reset/:token\" component={isLogged ? NotFound : Reset} />\r\n\r\n          {/* check is login for local Storage*/}\r\n          <PrivateRouter exact path=\"/:page\" component={PageRender} />\r\n          <PrivateRouter exact path=\"/:page/:id\" component={PageRender} />\r\n        </div>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { GLOBALTYPES } from '../actions/globalTypes';\r\n\r\nconst initialState = {};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.AUTH:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import { GLOBALTYPES } from '../actions/globalTypes';\r\n\r\nconst initialState = {};\r\n\r\nconst alertReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.ALERT:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default alertReducer;\r\n","import { GLOBALTYPES } from '../actions/globalTypes';\r\n\r\nconst initialState = false;\r\n\r\nconst themeReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.THEME:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default themeReducer;\r\n","import { PROFILE_TYPES } from '../actions/profileAction';\r\nimport { EditData } from '../actions/globalTypes';\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  ids: [],\r\n  users: [],\r\n  posts: [],\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case PROFILE_TYPES.LOADING:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n    case PROFILE_TYPES.GET_USER:\r\n      return {\r\n        ...state,\r\n        users: [...state.users, action.payload.user],\r\n      };\r\n    case PROFILE_TYPES.FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: EditData(state.users, action.payload._id, action.payload),\r\n      };\r\n    case PROFILE_TYPES.UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: EditData(state.users, action.payload._id, action.payload),\r\n      };\r\n    case PROFILE_TYPES.GET_ID:\r\n      return {\r\n        ...state,\r\n        ids: [...state.ids, action.payload],\r\n      };\r\n    case PROFILE_TYPES.GET_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, action.payload],\r\n      };\r\n    case PROFILE_TYPES.UPDATE_POST:\r\n      return {\r\n        ...state,\r\n        posts: EditData(state.posts, action.payload._id, action.payload),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default profileReducer;\r\n","import { GLOBALTYPES } from '../actions/globalTypes';\r\n\r\nconst statusReducer = (state = false, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.STATUS:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default statusReducer;\r\n","import { POST_TYPES } from '../actions/postAction';\r\nimport { EditData, DeleteData } from '../actions/globalTypes';\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  posts: [],\r\n  result: 0,\r\n  page: 2,\r\n};\r\n\r\nconst postReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case POST_TYPES.CREATE_POST:\r\n      return {\r\n        ...state,\r\n        posts: [action.payload, ...state.posts],\r\n      };\r\n    case POST_TYPES.LOADING_POST:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n    case POST_TYPES.GET_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: action.payload.posts,\r\n        result: action.payload.result,\r\n        page: action.payload.page,\r\n      };\r\n    case POST_TYPES.UPDATE_POST:\r\n      return {\r\n        ...state,\r\n        posts: EditData(state.posts, action.payload._id, action.payload),\r\n      };\r\n    case POST_TYPES.DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: DeleteData(state.posts, action.payload._id),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default postReducer;\r\n","import { GLOBALTYPES } from '../actions/globalTypes';\r\n\r\nconst initialState = false;\r\n\r\nconst modalReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.MODAL:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default modalReducer;\r\n","import { POST_TYPES } from '../actions/postAction';\r\nimport { EditData } from '../actions/globalTypes';\r\n\r\nconst detailPostReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case POST_TYPES.GET_POST:\r\n      return [...state, action.payload];\r\n    case POST_TYPES.UPDATE_POST:\r\n      return EditData(state, action.payload._id, action.payload);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default detailPostReducer;\r\n","import { DISCOVER_TYPES } from '../actions/discoverAction';\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  posts: [],\r\n  result: 9,\r\n  page: 2,\r\n  firstLoad: false,\r\n};\r\n\r\nconst discoverReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case DISCOVER_TYPES.LOADING:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n    case DISCOVER_TYPES.GET_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: action.payload.posts,\r\n        result: action.payload.result,\r\n        firstLoad: true,\r\n      };\r\n    case DISCOVER_TYPES.UPDATE_POST:\r\n      return {\r\n        ...state,\r\n        posts: action.payload.posts,\r\n        result: action.payload.result,\r\n        page: state.page + 1,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default discoverReducer;\r\n","import { SUGGES_TYPES } from '../actions/suggestionsAction';\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  users: [],\r\n};\r\n\r\nconst suggestionsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SUGGES_TYPES.LOADING:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n    case SUGGES_TYPES.GET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.payload.users,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default suggestionsReducer;\r\n","import { GLOBALTYPES } from '../actions/globalTypes';\r\n\r\nconst socketReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.SOCKET:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default socketReducer;\r\n","import { NOTIFY_TYPES } from '../actions/notifyAction';\r\nimport { EditData } from '../actions/globalTypes';\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  data: [],\r\n  sound: false,\r\n};\r\n\r\nconst notifyReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case NOTIFY_TYPES.GET_NOTIFIES:\r\n      return {\r\n        ...state,\r\n        data: action.payload,\r\n      };\r\n    case NOTIFY_TYPES.CREATE_NOTIFY:\r\n      return {\r\n        ...state,\r\n        data: [action.payload, ...state.data],\r\n      };\r\n    case NOTIFY_TYPES.REMOVE_NOTIFY:\r\n      return {\r\n        ...state,\r\n        data: state.data.filter(\r\n          (item) => item.id !== action.payload.id || item.url !== action.payload.url\r\n        ),\r\n      };\r\n    case NOTIFY_TYPES.UPDATE_NOTIFY:\r\n      return {\r\n        ...state,\r\n        data: EditData(state.data, action.payload._id, action.payload),\r\n      };\r\n    case NOTIFY_TYPES.UPDATE_SOUND:\r\n      return {\r\n        ...state,\r\n        sound: action.payload,\r\n      };\r\n    case NOTIFY_TYPES.DELETE_ALL_NOTIFIES:\r\n      return {\r\n        ...state,\r\n        data: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default notifyReducer;\r\n","import { MESS_TYPES } from '../actions/messageAction';\r\nimport { EditData, DeleteData } from '../actions/globalTypes';\r\n\r\nconst initialState = {\r\n  users: [],\r\n  resultUsers: 0,\r\n  data: [],\r\n  firstLoad: false,\r\n};\r\n\r\nconst messageReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case MESS_TYPES.ADD_USER:\r\n      if (state.users.every((item) => item._id !== action.payload._id)) {\r\n        return {\r\n          ...state,\r\n          users: [action.payload, ...state.users],\r\n        };\r\n      }\r\n      return state;\r\n    case MESS_TYPES.ADD_MESSAGE:\r\n      return {\r\n        ...state,\r\n        data: state.data.map((item) =>\r\n          item._id === action.payload.recipient || item._id === action.payload.sender\r\n            ? {\r\n                ...item,\r\n                messages: [...item.messages, action.payload],\r\n                result: item.result + 1,\r\n              }\r\n            : item\r\n        ),\r\n        users: state.users.map((user) =>\r\n          user._id === action.payload.recipient || user._id === action.payload.sender\r\n            ? {\r\n                ...user,\r\n                text: action.payload.text,\r\n                media: action.payload.media,\r\n                call: action.payload.call,\r\n              }\r\n            : user\r\n        ),\r\n      };\r\n    case MESS_TYPES.GET_CONVERSATIONS:\r\n      return {\r\n        ...state,\r\n        users: action.payload.newArr,\r\n        resultUsers: action.payload.result,\r\n        firstLoad: true,\r\n      };\r\n    case MESS_TYPES.GET_MESSAGES:\r\n      return {\r\n        ...state,\r\n        data: [...state.data, action.payload],\r\n      };\r\n    case MESS_TYPES.UPDATE_MESSAGES:\r\n      return {\r\n        ...state,\r\n        data: EditData(state.data, action.payload._id, action.payload),\r\n      };\r\n    case MESS_TYPES.DELETE_MESSAGES:\r\n      return {\r\n        ...state,\r\n        data: state.data.map((item) =>\r\n          item._id === action.payload._id ? { ...item, messages: action.payload.newData } : item\r\n        ),\r\n      };\r\n    case MESS_TYPES.DELETE_CONVERSATION:\r\n      return {\r\n        ...state,\r\n        users: DeleteData(state.users, action.payload),\r\n        data: DeleteData(state.data, action.payload),\r\n      };\r\n    case MESS_TYPES.CHECK_ONLINE_OFFLINE:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((user) =>\r\n          action.payload.includes(user._id) ? { ...user, online: true } : { ...user, online: false }\r\n        ),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default messageReducer;\r\n","import { GLOBALTYPES } from '../actions/globalTypes';\r\n\r\nconst onlineReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.ONLINE:\r\n      return [...state, action.payload];\r\n    case GLOBALTYPES.OFFLINE:\r\n      return state.filter((item) => item !== action.payload);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default onlineReducer;\r\n","import { GLOBALTYPES } from '../actions/globalTypes';\r\n\r\nconst callReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.CALL:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default callReducer;\r\n","import { GLOBALTYPES } from '../actions/globalTypes';\r\n\r\nconst peerReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.PEER:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default peerReducer;\r\n","import { combineReducers } from 'redux';\r\nimport auth from './authReducer';\r\nimport alert from './alertReducer';\r\nimport theme from './themeReducer';\r\nimport profile from './profileReducer';\r\nimport status from './statusReducer';\r\nimport homePosts from './postReducer';\r\nimport modal from './modalReducer';\r\nimport detailPost from './detailPostReducer';\r\nimport discover from './discoverReducer';\r\nimport suggestions from './suggestionsReducer';\r\nimport socket from './socketReducer';\r\nimport notify from './notifyReducer';\r\nimport message from './messageReducer';\r\nimport online from './onlineReducer';\r\nimport call from './callReducer';\r\nimport peer from './peerReducer';\r\n\r\nexport default combineReducers({\r\n  auth,\r\n  alert,\r\n  theme,\r\n  profile,\r\n  status,\r\n  homePosts,\r\n  modal,\r\n  detailPost,\r\n  discover,\r\n  suggestions,\r\n  socket,\r\n  notify,\r\n  message,\r\n  online,\r\n  call,\r\n  peer,\r\n});\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport rootReducer from './reducers/index';\r\n\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)));\r\n\r\nconst DataProvider = ({ children }) => {\r\n  return <Provider store={store}>{children}</Provider>;\r\n};\r\n\r\nexport default DataProvider;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/global.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport DataProvider from './redux/store'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <DataProvider>\r\n      <App />\r\n    </DataProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import { GLOBALTYPES, DeleteData } from './globalTypes';\r\nimport { getDataAPI, patchDataAPI } from '../../utils/fetchData';\r\nimport { imageUpload } from '../../utils/imageUpload';\r\nimport { createNotify, removeNotify } from '../actions/notifyAction';\r\n\r\nexport const PROFILE_TYPES = {\r\n  LOADING: 'LOADING_PROFILE',\r\n  GET_USER: 'GET_PROFILE_USER',\r\n  FOLLOW: 'FOLLOW',\r\n  UNFOLLOW: 'UNFOLLOW',\r\n  GET_ID: 'GET_PROFILE_ID',\r\n  GET_POSTS: 'GET_PROFILE_POSTS',\r\n  UPDATE_POST: 'UPDATE_PROFILE_POST',\r\n};\r\n\r\nexport const getProfileUsers =\r\n  ({ id, auth }) =>\r\n  async (dispatch) => {\r\n    dispatch({ type: PROFILE_TYPES.GET_ID, payload: id });\r\n\r\n    try {\r\n      dispatch({ type: PROFILE_TYPES.LOADING, payload: true });\r\n      const res = getDataAPI(`/user/${id}`, auth.token);\r\n      const res1 = getDataAPI(`/user_posts/${id}`, auth.token);\r\n\r\n      const users = await res;\r\n      const posts = await res1;\r\n\r\n      dispatch({\r\n        type: PROFILE_TYPES.GET_USER,\r\n        payload: users.data,\r\n      });\r\n\r\n      dispatch({\r\n        type: PROFILE_TYPES.GET_POSTS,\r\n        payload: { ...posts.data, _id: id, page: 2 },\r\n      });\r\n\r\n      dispatch({ type: PROFILE_TYPES.LOADING, payload: false });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const updateProfileUser =\r\n  ({ userData, avatar, auth }) =>\r\n  async (dispatch) => {\r\n    if (!userData.fullname)\r\n      return dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: 'Vui lòng thêm tên đầy đủ của bạn.' },\r\n      });\r\n\r\n    if (userData.fullname.length > 25)\r\n      return dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: 'Tên quá dài.' },\r\n      });\r\n\r\n    if (userData.story.length > 200)\r\n      return dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: 'Mô tả ít hơn 200 kí tự.' },\r\n      });\r\n\r\n    try {\r\n      let media;\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n\r\n      if (avatar) media = await imageUpload([avatar]);\r\n\r\n      const res = await patchDataAPI(\r\n        'user',\r\n        {\r\n          ...userData,\r\n          avatar: avatar ? media[0].url : auth.user.avatar,\r\n        },\r\n        auth.token\r\n      );\r\n\r\n      dispatch({\r\n        type: GLOBALTYPES.AUTH,\r\n        payload: {\r\n          ...auth,\r\n          user: {\r\n            ...auth.user,\r\n            ...userData,\r\n            avatar: avatar ? media[0].url : auth.user.avatar,\r\n          },\r\n        },\r\n      });\r\n\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const follow =\r\n  ({ users, user, auth, socket }) =>\r\n  async (dispatch) => {\r\n    let newUser;\r\n\r\n    if (users.every((item) => item._id !== user._id)) {\r\n      newUser = { ...user, followers: [...user.followers, auth.user] };\r\n    } else {\r\n      users.forEach((item) => {\r\n        if (item._id === user._id) {\r\n          newUser = { ...item, followers: [...item.followers, auth.user] };\r\n        }\r\n      });\r\n    }\r\n\r\n    dispatch({ type: PROFILE_TYPES.FOLLOW, payload: newUser });\r\n\r\n    dispatch({\r\n      type: GLOBALTYPES.AUTH,\r\n      payload: {\r\n        ...auth,\r\n        user: { ...auth.user, following: [...auth.user.following, newUser] },\r\n      },\r\n    });\r\n\r\n    try {\r\n      const res = await patchDataAPI(`user/${user._id}/follow`, null, auth.token);\r\n      socket.emit('follow', res.data.newUser);\r\n\r\n      // Notify\r\n      const msg = {\r\n        id: auth.user._id,\r\n        text: 'bắt đầu theo dõi bạn.',\r\n        recipients: [newUser._id],\r\n        url: `/profile/${auth.user._id}`,\r\n      };\r\n\r\n      dispatch(createNotify({ msg, auth, socket }));\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const unfollow =\r\n  ({ users, user, auth, socket }) =>\r\n  async (dispatch) => {\r\n    let newUser;\r\n\r\n    if (users.every((item) => item._id !== user._id)) {\r\n      newUser = {\r\n        ...user,\r\n        followers: DeleteData(user.followers, auth.user._id),\r\n      };\r\n    } else {\r\n      users.forEach((item) => {\r\n        if (item._id === user._id) {\r\n          newUser = {\r\n            ...item,\r\n            followers: DeleteData(item.followers, auth.user._id),\r\n          };\r\n        }\r\n      });\r\n    }\r\n\r\n    dispatch({ type: PROFILE_TYPES.UNFOLLOW, payload: newUser });\r\n\r\n    dispatch({\r\n      type: GLOBALTYPES.AUTH,\r\n      payload: {\r\n        ...auth,\r\n        user: {\r\n          ...auth.user,\r\n          following: DeleteData(auth.user.following, newUser._id),\r\n        },\r\n      },\r\n    });\r\n\r\n    try {\r\n      const res = await patchDataAPI(`user/${user._id}/unfollow`, null, auth.token);\r\n      socket.emit('unFollow', res.data.newUser);\r\n\r\n      // Notify\r\n      const msg = {\r\n        id: auth.user._id,\r\n        text: 'bắt đầu theo dõi bạn.',\r\n        recipients: [newUser._id],\r\n        url: `/profile/${auth.user._id}`,\r\n      };\r\n\r\n      dispatch(removeNotify({ msg, auth, socket }));\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n","import React from 'react';\r\nimport Avatar from './Avatar';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst UserCard = ({\r\n  children,\r\n  user,\r\n  border,\r\n  handleClose,\r\n  setShowFollowers,\r\n  setShowFollowing,\r\n  msg,\r\n}) => {\r\n  const { theme } = useSelector((state) => state);\r\n\r\n  const handleCloseAll = () => {\r\n    if (handleClose) handleClose();\r\n    if (setShowFollowers) setShowFollowers(false);\r\n    if (setShowFollowing) setShowFollowing(false);\r\n  };\r\n\r\n  const showMsg = (user) => {\r\n    return (\r\n      <>\r\n        <div style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}>{user.text}</div>\r\n        {user.media.length > 0 && (\r\n          <div>\r\n            {user.media.length} <i className=\"fas fa-image\" />\r\n          </div>\r\n        )}\r\n\r\n        {user.call && (\r\n          <span className=\"material-icons\">\r\n            {user.call.times === 0\r\n              ? user.call.video\r\n                ? 'videocam_off'\r\n                : 'phone_disabled'\r\n              : user.call.video\r\n              ? 'video_camera_front'\r\n              : 'call'}\r\n          </span>\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={`d-flex p-2 align-items-center justify-content-between w-100 ${border}`}>\r\n      <div>\r\n        <Link\r\n          to={`/profile/${user._id}`}\r\n          onClick={handleCloseAll}\r\n          className=\"d-flex align-items-center\"\r\n        >\r\n          <Avatar src={user.avatar} size=\"big-avatar\" />\r\n\r\n          <div className=\"ml-1\" style={{ transform: 'translateY(-2px)' }}>\r\n            <span className=\"d-block\">{user.username}</span>\r\n\r\n            <small style={{ opacity: 0.7 }}>{msg ? showMsg(user) : user.fullname}</small>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserCard;\r\n","const valid = ({ fullname, username, email, password, cf_password }) => {\r\n  const err = {};\r\n\r\n  if (!fullname) {\r\n    err.fullname = 'Vui lòng thêm tên đầy đủ của bạn.';\r\n  } else if (fullname.length > 25) {\r\n    err.fullname = 'Tên đầy đủ phải nhỏ hơn 25 kí tự.';\r\n  }\r\n\r\n  if (!username) {\r\n    err.username = 'Vui lòng thêm tên đăng nhập của bạn.';\r\n  } else if (username.replace(/ /g, '').length > 25) {\r\n    err.username = 'Tên đăng nhập phải nhỏ hơn 25 kí tự.';\r\n  }\r\n\r\n  if (!email) {\r\n    err.email = 'Vui lòng thêm email của bạn.';\r\n  } else if (!validateEmail(email)) {\r\n    err.email = 'Định dạng email không đúng.';\r\n  }\r\n\r\n  if (!password) {\r\n    err.password = 'Vui lòng thêm mật khẩu của bạn.';\r\n  } else if (password.length < 6) {\r\n    err.password = 'Mật khẩu phải từ 6 kí tự trở lên.';\r\n  }\r\n\r\n  if (password !== cf_password) {\r\n    err.cf_password = 'Mật khẩu không trùng khớp.';\r\n  }\r\n\r\n  return {\r\n    errMsg: err,\r\n    errLength: Object.keys(err).length,\r\n  };\r\n};\r\n\r\nfunction validateEmail(email) {\r\n  // eslint-disable-next-line\r\n  const re =\r\n    /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(email);\r\n}\r\n\r\nexport default valid;\r\n","import { GLOBALTYPES } from './globalTypes';\r\nimport { postDataAPI } from '../../utils/fetchData';\r\nimport valid from '../../utils/valid';\r\n\r\nexport const login = (data) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n    const res = await postDataAPI('login', data);\r\n    dispatch({\r\n      type: GLOBALTYPES.AUTH,\r\n      payload: {\r\n        token: res.data.access_token,\r\n        user: res.data.user,\r\n      },\r\n    });\r\n\r\n    localStorage.setItem('firstLogin', true);\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        success: res.data.msg,\r\n      },\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const refreshToken = () => async (dispatch) => {\r\n  const firstLogin = localStorage.getItem('firstLogin');\r\n  if (firstLogin) {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n\r\n    try {\r\n      const res = await postDataAPI('refresh_token');\r\n      dispatch({\r\n        type: GLOBALTYPES.AUTH,\r\n        payload: {\r\n          token: res.data.access_token,\r\n          user: res.data.user,\r\n        },\r\n      });\r\n\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: {} });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: {\r\n          error: err.response.data.msg,\r\n        },\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\nexport const register = (data) => async (dispatch) => {\r\n  const check = valid(data);\r\n  if (check.errLength > 0) return dispatch({ type: GLOBALTYPES.ALERT, payload: check.errMsg });\r\n\r\n  try {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n\r\n    const res = await postDataAPI('register', data);\r\n    dispatch({\r\n      type: GLOBALTYPES.AUTH,\r\n      payload: {\r\n        token: res.data.access_token,\r\n        user: res.data.user,\r\n      },\r\n    });\r\n\r\n    localStorage.setItem('firstLogin', true);\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        success: res.data.msg,\r\n      },\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\nexport const forgotPassword = (data) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n    const res = await postDataAPI('forgot', data);\r\n\r\n    dispatch({\r\n      type: GLOBALTYPES.AUTH,\r\n      payload: {\r\n        token: res.data.access_token,\r\n        user: res.data.user,\r\n      },\r\n    });\r\n\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        success: res.data.msg,\r\n      },\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n// export const resetPassword = (data, token) => async (dispatch) => {\r\n//   const check = valid(data);\r\n//   if (check.errLength > 0)\r\n//     return dispatch({ type: GLOBALTYPES.ALERT, payload: check.errMsg });\r\n//   try {\r\n//     dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n//     const res = await postDataAPI(\"reset\", data, token);\r\n\r\n//     dispatch({\r\n//       type: GLOBALTYPES.AUTH,\r\n//       payload: {\r\n//         token: res.data.access_token,\r\n//         user: res.data.user,\r\n//       },\r\n//     });\r\n\r\n//     dispatch({\r\n//       type: GLOBALTYPES.ALERT,\r\n//       payload: {\r\n//         success: res.data.msg,\r\n//       },\r\n//     });\r\n//   } catch (err) {\r\n//     dispatch({\r\n//       type: GLOBALTYPES.ALERT,\r\n//       payload: {\r\n//         error: err.response.data.msg,\r\n//       },\r\n//     });\r\n//   }\r\n// };\r\nexport const changePassword = (data) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n    const res = await postDataAPI('change_password', data);\r\n\r\n    dispatch({\r\n      type: GLOBALTYPES.AUTH,\r\n      payload: {\r\n        token: res.data.access_token,\r\n        user: res.data.user,\r\n      },\r\n    });\r\n\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        success: res.data.msg,\r\n      },\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  try {\r\n    localStorage.removeItem('firstLogin');\r\n    await postDataAPI('logout');\r\n    window.location.href = '/';\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n","export const GLOBALTYPES = {\r\n  AUTH: 'AUTH',\r\n  ALERT: 'ALERT',\r\n  THEME: 'THEME',\r\n  STATUS: 'STATUS',\r\n  MODAL: 'MODAL',\r\n  SOCKET: 'SOCKET',\r\n  ONLINE: 'ONLINE',\r\n  OFFLINE: 'OFFLINE',\r\n  CALL: 'CALL',\r\n  PEER: 'PEER',\r\n};\r\n\r\nexport const EditData = (data, id, post) => {\r\n  const newData = data.map((item) => (item._id === id ? post : item));\r\n  return newData;\r\n};\r\n\r\nexport const DeleteData = (data, id) => {\r\n  const newData = data.filter((item) => item._id !== id);\r\n  return newData;\r\n};\r\n","export const imageShow = (src, theme) => {\r\n  return (\r\n    <img\r\n      src={src}\r\n      alt=\"images\"\r\n      className=\"img-thumbnail\"\r\n      style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n    />\r\n  );\r\n};\r\n\r\nexport const videoShow = (src, theme) => {\r\n  return (\r\n    <video\r\n      controls\r\n      src={src}\r\n      alt=\"images\"\r\n      className=\"img-thumbnail\"\r\n      style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n    />\r\n  );\r\n};\r\n","export const checkImage = (file) => {\r\n  let err = '';\r\n  if (!file) return (err = 'Không tìm thấy tập tin.');\r\n\r\n  if (file.size > 1024 * 1024 * 2)\r\n    // 1mb\r\n    err = 'Dung lượng tối đa 2mb.';\r\n\r\n  if (file.type !== 'image/jpeg' && file.type !== 'image/png') err = 'Định dạng không được hỗ trợ.';\r\n\r\n  return err;\r\n};\r\n\r\nexport const imageUpload = async (images) => {\r\n  let imgArr = [];\r\n  for (const item of images) {\r\n    const formData = new FormData();\r\n\r\n    if (item.camera) {\r\n      formData.append('file', item.camera);\r\n    } else {\r\n      formData.append('file', item);\r\n    }\r\n\r\n    formData.append('upload_preset', 'efxjficn');\r\n    formData.append('cloud_name', 'devat-channel');\r\n\r\n    const res = await fetch('https://api.cloudinary.com/v1_1/devat-channel/upload', {\r\n      method: 'POST',\r\n      body: formData,\r\n    });\r\n\r\n    const data = await res.json();\r\n    imgArr.push({ public_id: data.public_id, url: data.secure_url });\r\n  }\r\n  return imgArr;\r\n};\r\n","import React from 'react';\r\n\r\nconst LoadMoreBtn = ({ result, page, load, handleLoadMore }) => {\r\n  return (\r\n    <>\r\n      {result < 9 * (page - 1)\r\n        ? ''\r\n        : !load && (\r\n            <button className=\"btn btn-dark mx-auto d-block\" onClick={handleLoadMore}>\r\n              Xem Thêm\r\n            </button>\r\n          )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoadMoreBtn;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { follow, unfollow } from '../redux/actions/profileAction';\r\n\r\nconst FollowBtn = ({ user }) => {\r\n  const [followed, setFollowed] = useState(false);\r\n\r\n  const { auth, profile, socket } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const [load, setLoad] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (auth.user.following.find((item) => item._id === user._id)) {\r\n      setFollowed(true);\r\n    }\r\n    return () => setFollowed(false);\r\n  }, [auth.user.following, user._id]);\r\n\r\n  const handleFollow = async () => {\r\n    if (load) return;\r\n\r\n    setFollowed(true);\r\n    setLoad(true);\r\n    await dispatch(follow({ users: profile.users, user, auth, socket }));\r\n    setLoad(false);\r\n  };\r\n\r\n  const handleUnFollow = async () => {\r\n    if (load) return;\r\n\r\n    setFollowed(false);\r\n    setLoad(true);\r\n    await dispatch(unfollow({ users: profile.users, user, auth, socket }));\r\n    setLoad(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {followed ? (\r\n        <button className=\"btn btn-outline-danger\" onClick={handleUnFollow}>\r\n          Bỏ Theo Dõi\r\n        </button>\r\n      ) : (\r\n        <button className=\"btn btn-outline-info\" onClick={handleFollow}>\r\n          Theo Dõi\r\n        </button>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FollowBtn;\r\n","import { GLOBALTYPES } from '../actions/globalTypes';\r\nimport { getDataAPI } from '../../utils/fetchData';\r\n\r\nexport const SUGGES_TYPES = {\r\n  LOADING: 'LOADING_SUGGES',\r\n  GET_USERS: 'GET_USERS_SUGGES',\r\n};\r\n\r\nexport const getSuggestions = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: SUGGES_TYPES.LOADING, payload: true });\r\n\r\n    const res = await getDataAPI('suggestionsUser', token);\r\n    dispatch({ type: SUGGES_TYPES.GET_USERS, payload: res.data });\r\n\r\n    dispatch({ type: SUGGES_TYPES.LOADING, payload: false });\r\n  } catch (err) {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n  }\r\n};\r\n","import { GLOBALTYPES } from './globalTypes';\r\nimport { getDataAPI } from '../../utils/fetchData';\r\n\r\nexport const DISCOVER_TYPES = {\r\n  LOADING: 'LOADING_DISCOVER',\r\n  GET_POSTS: 'GET_DISCOVER_POSTS',\r\n  UPDATE_POST: 'UPDATE_DISCOVER_POST',\r\n};\r\n\r\nexport const getDiscoverPosts = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: DISCOVER_TYPES.LOADING, payload: true });\r\n\r\n    const res = await getDataAPI(`post_discover`, token);\r\n    dispatch({ type: DISCOVER_TYPES.GET_POSTS, payload: res.data });\r\n\r\n    dispatch({ type: DISCOVER_TYPES.LOADING, payload: false });\r\n  } catch (err) {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n  }\r\n};\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst PostThumb = ({ posts, result }) => {\r\n  const { theme } = useSelector((state) => state);\r\n\r\n  if (result === 0) return <h2 className=\"text-center text-danger\">Không Có Bài Đăng</h2>;\r\n\r\n  return (\r\n    <div className=\"post_thumb\">\r\n      {posts.map((post) => (\r\n        <Link key={post._id} to={`/post/${post._id}`}>\r\n          <div className=\"post_thumb_display\">\r\n            {post.images[0].url.match(/video/i) ? (\r\n              <video\r\n                controls\r\n                src={post.images[0].url}\r\n                alt={post.images[0].url}\r\n                style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n              />\r\n            ) : (\r\n              <img\r\n                src={post.images[0].url}\r\n                alt={post.images[0].url}\r\n                style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n              />\r\n            )}\r\n\r\n            <div className=\"post_thumb_menu\">\r\n              <i className=\"far fa-star\">{post.likes.length}</i>\r\n              <i className=\"far fa-comments\">{post.comments.length}</i>\r\n            </div>\r\n          </div>\r\n        </Link>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostThumb;\r\n","import React from 'react';\r\n\r\nconst Icons = ({ setContent, content, theme }) => {\r\n  const reactions = [\r\n    '❤️',\r\n    '😆',\r\n    '😯',\r\n    '😢',\r\n    '😡',\r\n    '👍',\r\n    '👎',\r\n    '😄',\r\n    '😂',\r\n    '😍',\r\n    '😘',\r\n    '😗',\r\n    '😚',\r\n    '😳',\r\n    '😭',\r\n    '😓',\r\n    '😤',\r\n    '🤤',\r\n    '👻',\r\n    '💀',\r\n    '🤐',\r\n    '😴',\r\n    '😷',\r\n    '😵',\r\n  ];\r\n\r\n  return (\r\n    <div\r\n      className=\"nav-item dropdown\"\r\n      style={{ opacity: 1, filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n    >\r\n      <span\r\n        className=\"nav-link position-relative px-1\"\r\n        id=\"navbarDropdown\"\r\n        role=\"button\"\r\n        data-toggle=\"dropdown\"\r\n        aria-haspopup=\"true\"\r\n        aria-expanded=\"false\"\r\n      >\r\n        <span style={{ opacity: 0.4 }}>😄</span>\r\n      </span>\r\n\r\n      <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n        <div className=\"reactions\">\r\n          {reactions.map((icon) => (\r\n            <span key={icon} onClick={() => setContent(content + icon)}>\r\n              {icon}\r\n            </span>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Icons;\r\n","import React from 'react';\r\nimport LeftSide from '../../components/message/LeftSide';\r\n\r\nconst Message = () => {\r\n  return (\r\n    <div className=\"message d-flex\">\r\n      <div className=\"col-md-4 border-right px-0\">\r\n        <LeftSide />\r\n      </div>\r\n\r\n      <div className=\"col-md-8 px-0 right_mess\">\r\n        <div\r\n          className=\"d-flex justify-content-center \r\n                align-items-center flex-column h-100\"\r\n        >\r\n          <i className=\"fas fa-inbox text-primary\" style={{ fontSize: '5rem' }} />\r\n          <h4>Message</h4>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { forgotPassword } from \"../redux/actions/authAction\";\r\n\r\nconst ForgotPassword = () => {\r\n  const { auth, alert } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const initialState = {\r\n    email: \"\",\r\n  };\r\n\r\n  const [data, setData] = useState(initialState);\r\n\r\n  const { email } = data;\r\n  useEffect(() => {\r\n    if (auth.token) history.push(\"/\");\r\n  }, [auth.token, history]);\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setData({ ...data, [name]: value });\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // setData({ ...data });\r\n    dispatch(forgotPassword(data));\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth_page\">\r\n      <form onSubmit={handleSubmit}>\r\n        <h3 className=\"text-uppercase text-center mb-4\">UTC2-NETWORK</h3>\r\n\r\n        <div className=\"form-group\">\r\n          <h5 className=\"text-uppercase text-center mb-4\">Quên Mật Khẩu ?</h5>\r\n\r\n          <label htmlFor=\"exampleInputEmail1\">Email</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputEmail1\"\r\n            name=\"email\"\r\n            onChange={handleChangeInput}\r\n            value={email}\r\n            style={{ background: `${alert.email ? \"#fd2d6a14\" : \"\"}` }}\r\n          />\r\n\r\n          <small className=\"form-text text-danger\">\r\n            {alert.email ? alert.email : \"\"}\r\n          </small>\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-dark w-100\">\r\n          Xác Thực Email\r\n        </button>\r\n\r\n        {/* <p className=\"my-2\">\r\n          Bạn Không Quên Mật Khẩu?{\" \"}\r\n          <Link to=\"/\" style={{ color: \"crimson\" }}>\r\n            Hãy Đăng Nhập\r\n          </Link>\r\n        </p> */}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ForgotPassword;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { login } from '../redux/actions/authAction';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nconst Login = () => {\r\n  const initialState = { email: '', password: '' };\r\n  const [userData, setUserData] = useState(initialState);\r\n  const { email, password } = userData;\r\n\r\n  const [typePass, setTypePass] = useState(false);\r\n\r\n  const { auth } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (auth.token) history.push('/');\r\n  }, [auth.token, history]);\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserData({ ...userData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(login(userData));\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth_page\">\r\n      <form onSubmit={handleSubmit}>\r\n        <h3 className=\"text-uppercase text-center mb-4\">Instagram</h3>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputEmail1\">Email</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputEmail1\"\r\n            name=\"email\"\r\n            aria-describedby=\"emailHelp\"\r\n            onChange={handleChangeInput}\r\n            value={email}\r\n          />\r\n\r\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n            Chúng tôi sẽ không chia sẻ thông tin của bạn cho bất kỳ ai.\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputPassword1\">Mật Khẩu</label>\r\n\r\n          <div className=\"pass\">\r\n            <input\r\n              type={typePass ? 'text' : 'password'}\r\n              className=\"form-control\"\r\n              id=\"exampleInputPassword1\"\r\n              onChange={handleChangeInput}\r\n              value={password}\r\n              name=\"password\"\r\n            />\r\n\r\n            <small onClick={() => setTypePass(!typePass)}>{typePass ? 'Hide' : 'Show'}</small>\r\n          </div>\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-dark w-100\"\r\n          disabled={email && password ? false : true}\r\n        >\r\n          Đăng Nhập\r\n        </button>\r\n\r\n        <Link to=\"/forgot_password\" style={{ color: 'crimson' }}>\r\n          Quên Mật Khẩu?\r\n        </Link>\r\n\r\n        <p className=\"my-2\">\r\n          Bạn chưa có tài khoản?{' '}\r\n          <Link to=\"/register\" style={{ color: 'crimson' }}>\r\n            Hãy Đăng Ký\r\n          </Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { register } from \"../redux/actions/authAction\";\r\n\r\nconst Register = () => {\r\n  const { auth, alert } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialState = {\r\n    fullname: \"\",\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    cf_password: \"\",\r\n    gender: \"male\",\r\n  };\r\n  const [userData, setUserData] = useState(initialState);\r\n  const { fullname, username, email, password, cf_password } = userData;\r\n\r\n  const [typePass, setTypePass] = useState(false);\r\n  const [typeCfPass, setTypeCfPass] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (auth.token) history.push(\"/\");\r\n  }, [auth.token, history]);\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserData({ ...userData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(register(userData));\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth_page\">\r\n      <form onSubmit={handleSubmit}>\r\n        <h3 className=\"text-uppercase text-center mb-4\">UTC2-Network</h3>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"fullname\">Tên Đầy Đủ</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"fullname\"\r\n            name=\"fullname\"\r\n            onChange={handleChangeInput}\r\n            value={fullname}\r\n            style={{ background: `${alert.fullname ? \"#fd2d6a14\" : \"\"}` }}\r\n          />\r\n\r\n          <small className=\"form-text text-danger\">\r\n            {alert.fullname ? alert.fullname : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"username\">Tên Đăng Nhập</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"username\"\r\n            name=\"username\"\r\n            onChange={handleChangeInput}\r\n            value={username.toLowerCase().replace(/ /g, \"\")}\r\n            style={{ background: `${alert.username ? \"#fd2d6a14\" : \"\"}` }}\r\n          />\r\n\r\n          <small className=\"form-text text-danger\">\r\n            {alert.username ? alert.username : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputEmail1\">Email</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputEmail1\"\r\n            name=\"email\"\r\n            onChange={handleChangeInput}\r\n            value={email}\r\n            style={{ background: `${alert.email ? \"#fd2d6a14\" : \"\"}` }}\r\n          />\r\n\r\n          <small className=\"form-text text-danger\">\r\n            {alert.email ? alert.email : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputPassword1\">Mật Khẩu</label>\r\n\r\n          <div className=\"pass\">\r\n            <input\r\n              type={typePass ? \"text\" : \"password\"}\r\n              className=\"form-control\"\r\n              id=\"exampleInputPassword1\"\r\n              onChange={handleChangeInput}\r\n              value={password}\r\n              name=\"password\"\r\n              style={{ background: `${alert.password ? \"#fd2d6a14\" : \"\"}` }}\r\n            />\r\n\r\n            <small onClick={() => setTypePass(!typePass)}>\r\n              {typePass ? \"Hide\" : \"Show\"}\r\n            </small>\r\n          </div>\r\n\r\n          <small className=\"form-text text-danger\">\r\n            {alert.password ? alert.password : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"cf_password\">Nhập Lại Mật Khẩu</label>\r\n\r\n          <div className=\"pass\">\r\n            <input\r\n              type={typeCfPass ? \"text\" : \"password\"}\r\n              className=\"form-control\"\r\n              id=\"cf_password\"\r\n              onChange={handleChangeInput}\r\n              value={cf_password}\r\n              name=\"cf_password\"\r\n              style={{ background: `${alert.cf_password ? \"#fd2d6a14\" : \"\"}` }}\r\n            />\r\n\r\n            <small onClick={() => setTypeCfPass(!typeCfPass)}>\r\n              {typeCfPass ? \"Hide\" : \"Show\"}\r\n            </small>\r\n          </div>\r\n\r\n          <small className=\"form-text text-danger\">\r\n            {alert.cf_password ? alert.cf_password : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"row justify-content-between mx-0 mb-1\">\r\n          <label htmlFor=\"male\">\r\n            Nam:{\" \"}\r\n            <input\r\n              type=\"radio\"\r\n              id=\"male\"\r\n              name=\"gender\"\r\n              value=\"male\"\r\n              defaultChecked\r\n              onChange={handleChangeInput}\r\n            />\r\n          </label>\r\n\r\n          <label htmlFor=\"female\">\r\n            Nữ:{\" \"}\r\n            <input\r\n              type=\"radio\"\r\n              id=\"female\"\r\n              name=\"gender\"\r\n              value=\"female\"\r\n              onChange={handleChangeInput}\r\n            />\r\n          </label>\r\n\r\n          <label htmlFor=\"other\">\r\n            Khác:{\" \"}\r\n            <input\r\n              type=\"radio\"\r\n              id=\"other\"\r\n              name=\"gender\"\r\n              value=\"other\"\r\n              onChange={handleChangeInput}\r\n            />\r\n          </label>\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"btn btn-dark w-100\">\r\n          Đăng Ký\r\n        </button>\r\n\r\n        <p className=\"my-2\">\r\n          Bạn Đã Có Tài Khoản?{\" \"}\r\n          <Link to=\"/\" style={{ color: \"crimson\" }}>\r\n            Hãy Đăng Nhập\r\n          </Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React from 'react';\r\nimport Avatar from '../Avatar';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\r\n\r\nconst Status = () => {\r\n  const { auth } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className=\"status my-3 d-flex\">\r\n      <Avatar src={auth.user.avatar} size=\"big-avatar\" />\r\n\r\n      <button\r\n        className=\"statusBtn flex-fill\"\r\n        onClick={() => dispatch({ type: GLOBALTYPES.STATUS, payload: true })}\r\n      >\r\n        {auth.user.username} ơi, bạn đang nghĩ gì thế ?\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Status;\r\n","import React, { useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport PostCard from '../PostCard'\r\n\r\nimport LoadIcon from '../../images/loading.gif'\r\nimport LoadMoreBtn from '../LoadMoreBtn'\r\nimport { getDataAPI } from '../../utils/fetchData'\r\nimport { POST_TYPES } from '../../redux/actions/postAction'\r\n\r\n\r\nconst Posts = () => {\r\n    const { homePosts, auth, theme } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const [load, setLoad] = useState(false)\r\n\r\n    const handleLoadMore = async () => {\r\n        setLoad(true)\r\n        const res = await getDataAPI(`posts?limit=${homePosts.page * 9}`, auth.token)\r\n\r\n        dispatch({\r\n            type: POST_TYPES.GET_POSTS, \r\n            payload: {...res.data, page: homePosts.page + 1}\r\n        })\r\n\r\n        setLoad(false)\r\n    }\r\n\r\n    return (\r\n        <div className=\"posts\">\r\n            {\r\n                homePosts.posts.map(post => (\r\n                    <PostCard key={post._id} post={post} theme={theme} />\r\n                ))\r\n            }\r\n\r\n            {\r\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\r\n            }\r\n\r\n            \r\n            <LoadMoreBtn result={homePosts.result} page={homePosts.page}\r\n            load={load} handleLoadMore={handleLoadMore} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Posts\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport UserCard from '../UserCard';\r\nimport FollowBtn from '../FollowBtn';\r\nimport LoadIcon from '../../images/loading.gif';\r\nimport { getSuggestions } from '../../redux/actions/suggestionsAction';\r\n\r\nconst RightSideBar = () => {\r\n  const { auth, suggestions } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className=\"mt-3\">\r\n      <UserCard user={auth.user} />\r\n\r\n      <div className=\"d-flex justify-content-between align-items-center my-2\">\r\n        <h5 className=\"text-danger\">Gợi ý cho bạn</h5>\r\n        {!suggestions.loading && (\r\n          <i\r\n            className=\"fas fa-redo\"\r\n            style={{ cursor: 'pointer' }}\r\n            onClick={() => dispatch(getSuggestions(auth.token))}\r\n          />\r\n        )}\r\n      </div>\r\n\r\n      {suggestions.loading ? (\r\n        <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto my-4\" />\r\n      ) : (\r\n        <div className=\"suggestions\">\r\n          {suggestions.users.map((user) => (\r\n            <UserCard key={user._id} user={user}>\r\n              <FollowBtn user={user} />\r\n            </UserCard>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      <div style={{ opacity: 0.5 }} className=\"my-2\">\r\n        <a\r\n          href=\"https://www.facebook.com/profile.php?id=100033670082606\"\r\n          target=\"_blank\"\r\n          rel=\"noreferrer\"\r\n          style={{ wordBreak: 'break-all' }}\r\n        >\r\n          Liên Hệ\r\n        </a>\r\n        <small className=\"d-block\">Chào Mừng Đến Với INSTAGRAM</small>\r\n\r\n        <small>&copy; 2022 INSTAGRAM FROM BUI VAN TAN</small>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RightSideBar;\r\n","import React, { useEffect } from \"react\";\r\n\r\nimport Status from \"../components/home/Status\";\r\nimport Posts from \"../components/home/Posts\";\r\nimport RightSideBar from \"../components/home/RightSideBar\";\r\n\r\nimport { useSelector } from \"react-redux\";\r\nimport LoadIcon from \"../images/loading.gif\";\r\n\r\nlet scroll = 0;\r\n\r\nconst Home = () => {\r\n  const { homePosts } = useSelector((state) => state);\r\n\r\n  window.addEventListener(\"scroll\", () => {\r\n    if (window.location.pathname === \"/\") {\r\n      scroll = window.pageYOffset;\r\n      return scroll;\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      window.scrollTo({ top: scroll, behavior: \"smooth\" });\r\n    }, 100);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"home row mx-0\">\r\n      <div className=\"col-md-8\">\r\n        <Status />\r\n\r\n        {homePosts.loading ? (\r\n          <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\r\n        ) : homePosts.result === 0 && homePosts.posts.length === 0 ? (\r\n          <h2 className=\"text-center\">Không Có Bài Đăng</h2>\r\n        ) : (\r\n          <Posts />\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"col-md-4\">\r\n        <RightSideBar />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","const validReset = ({ password, cf_password }) => {\r\n  const err = {};\r\n\r\n  if (!password) {\r\n    err.password = 'Vui lòng thêm mật khẩu của bạn.';\r\n  } else if (password.length < 6) {\r\n    err.password = 'Mật khẩu phải từ 6 kí tự trở lên.';\r\n  }\r\n\r\n  if (password !== cf_password) {\r\n    err.cf_password = 'Mật khẩu không trùng khớp.';\r\n  }\r\n\r\n  return {\r\n    errMsg: err,\r\n    errLength: Object.keys(err).length,\r\n  };\r\n};\r\n\r\nexport default validReset;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n// import { resetPassword } from \"../redux/actions/authAction\";\r\nimport { postDataAPI } from \"../utils/fetchData\";\r\nimport { GLOBALTYPES } from \"../redux/actions/globalTypes\";\r\nimport validReset from \"../utils/validreset\";\r\n\r\nfunction ResetPassword() {\r\n  const { token } = useParams();\r\n  const { auth, alert } = useSelector((state) => state);\r\n  // const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const initialState = {\r\n    password: \"\",\r\n    cf_password: \"\",\r\n  };\r\n\r\n  const [typePass, setTypePass] = useState(false);\r\n  const [typeCfPass, setTypeCfPass] = useState(false);\r\n\r\n  const [data, setData] = useState(initialState);\r\n\r\n  const { password, cf_password } = data;\r\n  useEffect(() => {\r\n    if (auth.token) history.push(\"/\");\r\n  }, [auth.token, history]);\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setData({ ...data, [name]: value, err: \"\", success: \"\" });\r\n  };\r\n  const handleSubmit = async (dispatch) => {\r\n    // e.preventDefault();\r\n    const check = validReset(data);\r\n    if (check.errLength > 0)\r\n      return dispatch({ type: GLOBALTYPES.ALERT, payload: check.errMsg });\r\n    try {\r\n      const res = await postDataAPI(\"reset\", data, token);\r\n      setData({ ...data });\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: {\r\n          success: res.data.msg,\r\n        },\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: {\r\n          error: err.response.data.msg,\r\n        },\r\n      });\r\n    }\r\n\r\n    // dispatch(resetPassword(data, token));\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth_page\">\r\n      <form onSubmit={handleSubmit}>\r\n        <h3 className=\"text-uppercase text-center mb-4\">UTC2-NETWORK</h3>\r\n\r\n        <div className=\"form-group\">\r\n          <h5 className=\"text-uppercase text-center mb-4\">Đặt Lại Mật Khẩu</h5>\r\n\r\n          <label htmlFor=\"exampleInputPassword1\">Mật Khẩu</label>\r\n\r\n          <div className=\"pass\">\r\n            <input\r\n              type={typePass ? \"text\" : \"password\"}\r\n              className=\"form-control\"\r\n              id=\"exampleInputPassword1\"\r\n              onChange={handleChangeInput}\r\n              value={password}\r\n              name=\"password\"\r\n              style={{ background: `${alert.password ? \"#fd2d6a14\" : \"\"}` }}\r\n            />\r\n\r\n            <small onClick={() => setTypePass(!typePass)}>\r\n              {typePass ? \"Hide\" : \"Show\"}\r\n            </small>\r\n          </div>\r\n\r\n          <small className=\"form-text text-danger\">\r\n            {alert.password ? alert.password : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"cf_password\">Nhập Lại Mật Khẩu</label>\r\n\r\n          <div className=\"pass\">\r\n            <input\r\n              type={typeCfPass ? \"text\" : \"password\"}\r\n              className=\"form-control\"\r\n              id=\"cf_password\"\r\n              onChange={handleChangeInput}\r\n              value={cf_password}\r\n              name=\"cf_password\"\r\n              style={{ background: `${alert.cf_password ? \"#fd2d6a14\" : \"\"}` }}\r\n            />\r\n\r\n            <small onClick={() => setTypeCfPass(!typeCfPass)}>\r\n              {typeCfPass ? \"Hide\" : \"Show\"}\r\n            </small>\r\n          </div>\r\n\r\n          <small className=\"form-text text-danger\">\r\n            {alert.cf_password ? alert.cf_password : \"\"}\r\n          </small>\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-dark w-100\">\r\n          Hoàn Thành\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ResetPassword;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport UserCard from \"../UserCard\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getDataAPI } from \"../../utils/fetchData\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport {\r\n  MESS_TYPES,\r\n  getConversations,\r\n} from \"../../redux/actions/messageAction\";\r\n\r\nconst LeftSide = () => {\r\n  const { auth, message, online } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const [search, setSearch] = useState(\"\");\r\n  const [searchUsers, setSearchUsers] = useState([]);\r\n\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n\r\n  const pageEnd = useRef();\r\n  const [page, setPage] = useState(0);\r\n\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault();\r\n    if (!search) return setSearchUsers([]);\r\n\r\n    try {\r\n      const res = await getDataAPI(`search?username=${search}`, auth.token);\r\n      setSearchUsers(res.data.users);\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleAddUser = (user) => {\r\n    setSearch(\"\");\r\n    setSearchUsers([]);\r\n    dispatch({\r\n      type: MESS_TYPES.ADD_USER,\r\n      payload: { ...user, text: \"\", media: [] },\r\n    });\r\n    dispatch({ type: MESS_TYPES.CHECK_ONLINE_OFFLINE, payload: online });\r\n    return history.push(`/message/${user._id}`);\r\n  };\r\n\r\n  const isActive = (user) => {\r\n    if (id === user._id) return \"active\";\r\n    return \"\";\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (message.firstLoad) return;\r\n    dispatch(getConversations({ auth }));\r\n  }, [dispatch, auth, message.firstLoad]);\r\n\r\n  // Load More\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        if (entries[0].isIntersecting) {\r\n          setPage((p) => p + 1);\r\n        }\r\n      },\r\n      {\r\n        threshold: 0.1,\r\n      }\r\n    );\r\n\r\n    observer.observe(pageEnd.current);\r\n  }, [setPage]);\r\n\r\n  useEffect(() => {\r\n    if (message.resultUsers >= (page - 1) * 9 && page > 1) {\r\n      dispatch(getConversations({ auth, page }));\r\n    }\r\n  }, [message.resultUsers, page, auth, dispatch]);\r\n\r\n  // Check User Online - Offline\r\n  useEffect(() => {\r\n    if (message.firstLoad) {\r\n      dispatch({ type: MESS_TYPES.CHECK_ONLINE_OFFLINE, payload: online });\r\n    }\r\n  }, [online, message.firstLoad, dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <form className=\"message_header\" onSubmit={handleSearch}>\r\n        <input\r\n          type=\"text\"\r\n          value={search}\r\n          placeholder=\"Nhập để tìm kiếm...\"\r\n          onChange={(e) => setSearch(e.target.value)}\r\n        />\r\n\r\n        <button type=\"submit\" style={{ display: \"none\" }}>\r\n          Tìm kiếm\r\n        </button>\r\n      </form>\r\n\r\n      <div className=\"message_chat_list\">\r\n        {searchUsers.length !== 0 ? (\r\n          <>\r\n            {searchUsers.map((user) => (\r\n              <div\r\n                key={user._id}\r\n                className={`message_user ${isActive(user)}`}\r\n                onClick={() => handleAddUser(user)}\r\n              >\r\n                <UserCard user={user} />\r\n              </div>\r\n            ))}\r\n          </>\r\n        ) : (\r\n          <>\r\n            {message.users.map((user) => (\r\n              <div\r\n                key={user._id}\r\n                className={`message_user ${isActive(user)}`}\r\n                onClick={() => handleAddUser(user)}\r\n              >\r\n                <UserCard user={user} msg={true}>\r\n                  {user.online ? (\r\n                    <i className=\"fas fa-circle text-success\" />\r\n                  ) : (\r\n                    auth.user.following.find(\r\n                      (item) => item._id === user._id\r\n                    ) && <i className=\"fas fa-circle\" />\r\n                  )}\r\n                </UserCard>\r\n              </div>\r\n            ))}\r\n          </>\r\n        )}\r\n\r\n        <button ref={pageEnd} style={{ opacity: 0 }}>\r\n          Xem thêm\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LeftSide;\r\n","export const BASE_URL = 'https://instagram-clone-mernstack.herokuapp.com';\r\n","import React from 'react';\r\nimport Avatar from '../../Avatar';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport moment from 'moment';\r\nimport { GLOBALTYPES } from '../../../redux/actions/globalTypes';\r\nimport { deletePost } from '../../../redux/actions/postAction';\r\nimport { BASE_URL } from '../../../utils/config';\r\n\r\nconst CardHeader = ({ post }) => {\r\n  const { auth, socket } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const history = useHistory();\r\n\r\n  const handleEditPost = () => {\r\n    dispatch({ type: GLOBALTYPES.STATUS, payload: { ...post, onEdit: true } });\r\n  };\r\n\r\n  const handleDeletePost = () => {\r\n    if (window.confirm('Bạn muốn xoá bài đăng này?')) {\r\n      dispatch(deletePost({ post, auth, socket }));\r\n      return history.push('/');\r\n    }\r\n  };\r\n\r\n  const handleCopyLink = () => {\r\n    navigator.clipboard.writeText(`${BASE_URL}/post/${post._id}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"card_header\">\r\n      <div className=\"d-flex\">\r\n        <Avatar src={post.user.avatar} size=\"big-avatar\" />\r\n\r\n        <div className=\"card_name\">\r\n          <h6 className=\"m-0\">\r\n            <Link to={`/profile/${post.user._id}`} className=\"text-dark\">\r\n              {post.user.username}\r\n            </Link>\r\n          </h6>\r\n          <small className=\"text-muted\">{moment(post.createdAt).fromNow()}</small>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"nav-item dropdown\">\r\n        <span className=\"material-icons\" id=\"moreLink\" data-toggle=\"dropdown\">\r\n          more_horiz\r\n        </span>\r\n\r\n        <div className=\"dropdown-menu\">\r\n          {auth.user._id === post.user._id && (\r\n            <>\r\n              <div className=\"dropdown-item\" onClick={handleEditPost}>\r\n                <span className=\"material-icons\">create</span> Chỉnh Sửa\r\n              </div>\r\n              <div className=\"dropdown-item\" onClick={handleDeletePost}>\r\n                <span className=\"material-icons\">delete_outline</span> Xoá\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          <div className=\"dropdown-item\" onClick={handleCopyLink}>\r\n            <span className=\"material-icons\">content_copy</span> Sao Chép\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardHeader;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Carousel = ({ images, id }) => {\r\n  const isActive = (index) => {\r\n    if (index === 0) return 'active';\r\n  };\r\n\r\n  const { theme } = useSelector((state) => state);\r\n\r\n  return (\r\n    <div id={`image${id}`} className=\"carousel slide\" data-ride=\"carousel\">\r\n      <ol className=\"carousel-indicators\" style={{ zIndex: 1 }}>\r\n        {images.map((img, index) => (\r\n          <li\r\n            key={index}\r\n            data-target={`#image${id}`}\r\n            data-slide-to={index}\r\n            className={isActive(index)}\r\n          />\r\n        ))}\r\n      </ol>\r\n\r\n      <div className=\"carousel-inner\">\r\n        {images.map((img, index) => (\r\n          <div key={index} className={`carousel-item ${isActive(index)}`}>\r\n            {img.url.match(/video/i) ? (\r\n              <video\r\n                controls\r\n                src={img.url}\r\n                className=\"d-block w-100\"\r\n                alt={img.url}\r\n                style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n              />\r\n            ) : (\r\n              <img\r\n                src={img.url}\r\n                className=\"d-block w-100\"\r\n                alt={img.url}\r\n                style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n              />\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {images.length > 1 && (\r\n        <>\r\n          <a\r\n            className=\"carousel-control-prev\"\r\n            href={`#image${id}`}\r\n            role=\"button\"\r\n            data-slide=\"prev\"\r\n            style={{ width: '5%' }}\r\n          >\r\n            <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n            <span className=\"sr-only\">Previous</span>\r\n          </a>\r\n\r\n          <a\r\n            className=\"carousel-control-next\"\r\n            href={`#image${id}`}\r\n            role=\"button\"\r\n            data-slide=\"next\"\r\n            style={{ width: '5%' }}\r\n          >\r\n            <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n            <span className=\"sr-only\">Next</span>\r\n          </a>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Carousel;\r\n","import React, { useState } from 'react';\r\nimport Carousel from '../../Carousel';\r\n\r\nconst CardBody = ({ post, theme }) => {\r\n  const [readMore, setReadMore] = useState(false);\r\n\r\n  return (\r\n    <div className=\"card_body\">\r\n      <div\r\n        className=\"card_body-content\"\r\n        style={{\r\n          filter: theme ? 'invert(1)' : 'invert(0)',\r\n          color: theme ? 'white' : '#111',\r\n        }}\r\n      >\r\n        <span>\r\n          {post.content.length < 60\r\n            ? post.content\r\n            : readMore\r\n            ? post.content + ' '\r\n            : post.content.slice(0, 60) + '.....'}\r\n        </span>\r\n        {post.content.length > 60 && (\r\n          <span className=\"readMore\" onClick={() => setReadMore(!readMore)}>\r\n            {readMore ? 'Hide content' : 'Read more'}\r\n          </span>\r\n        )}\r\n      </div>\r\n      {post.images.length > 0 && <Carousel images={post.images} id={post._id} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardBody;\r\n","export default __webpack_public_path__ + \"static/media/send.fab9d966.svg\";","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst LikeButton = ({ isLike, handleLike, handleUnLike }) => {\r\n  const { theme } = useSelector((state) => state);\r\n\r\n  return (\r\n    <>\r\n      {isLike ? (\r\n        <i\r\n          className=\"fas fa-heart text-danger\"\r\n          onClick={handleUnLike}\r\n          style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n        />\r\n      ) : (\r\n        <i className=\"far fa-heart\" onClick={handleLike} />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LikeButton;\r\n","import React from 'react';\r\nimport {\r\n  EmailShareButton,\r\n  EmailIcon,\r\n  FacebookShareButton,\r\n  FacebookIcon,\r\n  TelegramShareButton,\r\n  TelegramIcon,\r\n  TwitterShareButton,\r\n  TwitterIcon,\r\n  WhatsappShareButton,\r\n  WhatsappIcon,\r\n  RedditShareButton,\r\n  RedditIcon,\r\n} from 'react-share';\r\n\r\nconst ShareModal = ({ url, theme }) => {\r\n  return (\r\n    <div\r\n      className=\"d-flex justify-content-between px-4 py-2\"\r\n      style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n    >\r\n      <FacebookShareButton url={url}>\r\n        <FacebookIcon round={true} size={32} />\r\n      </FacebookShareButton>\r\n\r\n      <TwitterShareButton url={url}>\r\n        <TwitterIcon round={true} size={32} />\r\n      </TwitterShareButton>\r\n\r\n      <EmailShareButton url={url}>\r\n        <EmailIcon round={true} size={32} />\r\n      </EmailShareButton>\r\n\r\n      <RedditShareButton url={url}>\r\n        <RedditIcon round={true} size={32} />\r\n      </RedditShareButton>\r\n\r\n      <TelegramShareButton url={url}>\r\n        <TelegramIcon round={true} size={32} />\r\n      </TelegramShareButton>\r\n\r\n      <WhatsappShareButton url={url}>\r\n        <WhatsappIcon round={true} size={32} />\r\n      </WhatsappShareButton>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShareModal;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Send from '../../../images/send.svg';\r\nimport LikeButton from '../../LikeButton';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { likePost, unLikePost, savePost, unSavePost } from '../../../redux/actions/postAction';\r\nimport ShareModal from '../../ShareModal';\r\nimport { BASE_URL } from '../../../utils/config';\r\n\r\nconst CardFooter = ({ post }) => {\r\n  const [isLike, setIsLike] = useState(false);\r\n  const [loadLike, setLoadLike] = useState(false);\r\n\r\n  const [isShare, setIsShare] = useState(false);\r\n\r\n  const { auth, theme, socket } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const [saved, setSaved] = useState(false);\r\n  const [saveLoad, setSaveLoad] = useState(false);\r\n\r\n  // Likes\r\n  useEffect(() => {\r\n    if (post.likes.find((like) => like._id === auth.user._id)) {\r\n      setIsLike(true);\r\n    } else {\r\n      setIsLike(false);\r\n    }\r\n  }, [post.likes, auth.user._id]);\r\n\r\n  const handleLike = async () => {\r\n    if (loadLike) return;\r\n\r\n    setLoadLike(true);\r\n    await dispatch(likePost({ post, auth, socket }));\r\n    setLoadLike(false);\r\n  };\r\n\r\n  const handleUnLike = async () => {\r\n    if (loadLike) return;\r\n\r\n    setLoadLike(true);\r\n    await dispatch(unLikePost({ post, auth, socket }));\r\n    setLoadLike(false);\r\n  };\r\n\r\n  // Saved\r\n  useEffect(() => {\r\n    if (auth.user.saved.find((id) => id === post._id)) {\r\n      setSaved(true);\r\n    } else {\r\n      setSaved(false);\r\n    }\r\n  }, [auth.user.saved, post._id]);\r\n\r\n  const handleSavePost = async () => {\r\n    if (saveLoad) return;\r\n\r\n    setSaveLoad(true);\r\n    await dispatch(savePost({ post, auth }));\r\n    setSaveLoad(false);\r\n  };\r\n\r\n  const handleUnSavePost = async () => {\r\n    if (saveLoad) return;\r\n\r\n    setSaveLoad(true);\r\n    await dispatch(unSavePost({ post, auth }));\r\n    setSaveLoad(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"card_footer\">\r\n      <div className=\"card_icon_menu\">\r\n        <div>\r\n          <LikeButton isLike={isLike} handleLike={handleLike} handleUnLike={handleUnLike} />\r\n\r\n          <Link to={`/post/${post._id}`} className=\"text-dark\">\r\n            <i className=\"far fa-comment\" />\r\n          </Link>\r\n\r\n          <i className=\"far fa-share-s    quare\" src={Send} onClick={() => setIsShare(!isShare)} />\r\n\r\n          {/* <img src={Send} alt=\"Send\" onClick={() => setIsShare(!isShare)} /> */}\r\n        </div>\r\n\r\n        {saved ? (\r\n          <i className=\"fas fa-bookmark text-info\" onClick={handleUnSavePost} />\r\n        ) : (\r\n          <i className=\"far fa-bookmark\" onClick={handleSavePost} />\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"d-flex justify-content-between\">\r\n        <h6 style={{ padding: '0 25px', cursor: 'pointer' }}>{post.likes.length} Thích</h6>\r\n\r\n        <h6 style={{ padding: '0 25px', cursor: 'pointer' }}>{post.comments.length} Bình luận</h6>\r\n      </div>\r\n\r\n      {isShare && <ShareModal url={`${BASE_URL}/post/${post._id}`} theme={theme} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardFooter;\r\n","import { GLOBALTYPES, EditData, DeleteData } from './globalTypes';\r\nimport { POST_TYPES } from './postAction';\r\nimport { postDataAPI, patchDataAPI, deleteDataAPI } from '../../utils/fetchData';\r\nimport { createNotify, removeNotify } from '../actions/notifyAction';\r\n\r\nexport const createComment =\r\n  ({ post, newComment, auth, socket }) =>\r\n  async (dispatch) => {\r\n    const newPost = { ...post, comments: [...post.comments, newComment] };\r\n\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n\r\n    try {\r\n      const data = {\r\n        ...newComment,\r\n        postId: post._id,\r\n        postUserId: post.user._id,\r\n      };\r\n      const res = await postDataAPI('comment', data, auth.token);\r\n\r\n      const newData = { ...res.data.newComment, user: auth.user };\r\n      const newPost = { ...post, comments: [...post.comments, newData] };\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n\r\n      // Socket\r\n      socket.emit('createComment', newPost);\r\n\r\n      // Notify\r\n      const msg = {\r\n        id: res.data.newComment._id,\r\n        text: newComment.reply\r\n          ? 'Đã nhắc đến bạn trong bình luận.'\r\n          : 'Đã bình luận trong bài đăng của bạn.',\r\n        recipients: newComment.reply ? [newComment.tag._id] : [post.user._id],\r\n        url: `/post/${post._id}`,\r\n        content: post.content,\r\n        image: post.images[0].url,\r\n      };\r\n\r\n      dispatch(createNotify({ msg, auth, socket }));\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const updateComment =\r\n  ({ comment, post, content, auth }) =>\r\n  async (dispatch) => {\r\n    const newComments = EditData(post.comments, comment._id, {\r\n      ...comment,\r\n      content,\r\n    });\r\n    const newPost = { ...post, comments: newComments };\r\n\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    try {\r\n      patchDataAPI(`comment/${comment._id}`, { content }, auth.token);\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const likeComment =\r\n  ({ comment, post, auth }) =>\r\n  async (dispatch) => {\r\n    const newComment = { ...comment, likes: [...comment.likes, auth.user] };\r\n\r\n    const newComments = EditData(post.comments, comment._id, newComment);\r\n\r\n    const newPost = { ...post, comments: newComments };\r\n\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n\r\n    try {\r\n      await patchDataAPI(`comment/${comment._id}/like`, null, auth.token);\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const unLikeComment =\r\n  ({ comment, post, auth }) =>\r\n  async (dispatch) => {\r\n    const newComment = {\r\n      ...comment,\r\n      likes: DeleteData(comment.likes, auth.user._id),\r\n    };\r\n\r\n    const newComments = EditData(post.comments, comment._id, newComment);\r\n\r\n    const newPost = { ...post, comments: newComments };\r\n\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n\r\n    try {\r\n      await patchDataAPI(`comment/${comment._id}/unlike`, null, auth.token);\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const deleteComment =\r\n  ({ post, comment, auth, socket }) =>\r\n  async (dispatch) => {\r\n    const deleteArr = [...post.comments.filter((cm) => cm.reply === comment._id), comment];\r\n\r\n    const newPost = {\r\n      ...post,\r\n      comments: post.comments.filter((cm) => !deleteArr.find((da) => cm._id === da._id)),\r\n    };\r\n\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n\r\n    socket.emit('deleteComment', newPost);\r\n    try {\r\n      deleteArr.forEach((item) => {\r\n        deleteDataAPI(`comment/${item._id}`, auth.token);\r\n\r\n        const msg = {\r\n          id: item._id,\r\n          text: comment.reply\r\n            ? 'Đã nhắc đến bạn trong bình luận.'\r\n            : 'Đã bình luận trong bài đăng của bạn.',\r\n          recipients: comment.reply ? [comment.tag._id] : [post.user._id],\r\n          url: `/post/${post._id}`,\r\n        };\r\n\r\n        dispatch(removeNotify({ msg, auth, socket }));\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { deleteComment } from '../../../redux/actions/commentAction';\r\n\r\nconst CommentMenu = ({ post, comment, setOnEdit }) => {\r\n  const { auth, socket } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleRemove = () => {\r\n    if (post.user._id === auth.user._id || comment.user._id === auth.user._id) {\r\n      dispatch(deleteComment({ post, auth, comment, socket }));\r\n    }\r\n  };\r\n\r\n  const MenuItem = () => {\r\n    return (\r\n      <>\r\n        <div className=\"dropdown-item\" onClick={() => setOnEdit(true)}>\r\n          <span className=\"material-icons\">create</span> Sửa\r\n        </div>\r\n        <div className=\"dropdown-item\" onClick={handleRemove}>\r\n          <span className=\"material-icons\">delete_outline</span> Xoá\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"menu\">\r\n      {(post.user._id === auth.user._id || comment.user._id === auth.user._id) && (\r\n        <div className=\"nav-item dropdown\">\r\n          <span className=\"material-icons\" id=\"moreLink\" data-toggle=\"dropdown\">\r\n            more_vert\r\n          </span>\r\n\r\n          <div className=\"dropdown-menu\" aria-labelledby=\"moreLink\">\r\n            {post.user._id === auth.user._id ? (\r\n              comment.user._id === auth.user._id ? (\r\n                MenuItem()\r\n              ) : (\r\n                <div className=\"dropdown-item\" onClick={handleRemove}>\r\n                  <span className=\"material-icons\">delete_outline</span> Remove\r\n                </div>\r\n              )\r\n            ) : (\r\n              comment.user._id === auth.user._id && MenuItem()\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentMenu;\r\n","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { createComment } from '../../../redux/actions/commentAction';\r\nimport Icons from '../../Icons';\r\n\r\nconst InputComment = ({ children, post, onReply, setOnReply }) => {\r\n  const [content, setContent] = useState('');\r\n\r\n  const { auth, socket, theme } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!content.trim()) {\r\n      if (setOnReply) return setOnReply(false);\r\n      return;\r\n    }\r\n\r\n    setContent('');\r\n\r\n    const newComment = {\r\n      content,\r\n      likes: [],\r\n      user: auth.user,\r\n      createdAt: new Date().toISOString(),\r\n      reply: onReply && onReply.commentId,\r\n      tag: onReply && onReply.user,\r\n    };\r\n\r\n    dispatch(createComment({ post, newComment, auth, socket }));\r\n\r\n    if (setOnReply) return setOnReply(false);\r\n  };\r\n\r\n  return (\r\n    <form className=\"card-footer comment_input\" onSubmit={handleSubmit}>\r\n      {children}\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Thêm bình luận của bạn...\"\r\n        value={content}\r\n        onChange={(e) => setContent(e.target.value)}\r\n        style={{\r\n          filter: theme ? 'invert(1)' : 'invert(0)',\r\n          color: theme ? 'white' : '#111',\r\n          background: theme ? 'rgba(0,0,0,.03)' : '',\r\n        }}\r\n      />\r\n\r\n      <Icons setContent={setContent} content={content} theme={theme} />\r\n\r\n      <button type=\"submit\" className=\"postBtn\">\r\n        Đăng\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default InputComment;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Avatar from '../../Avatar';\r\nimport { Link } from 'react-router-dom';\r\nimport moment from 'moment';\r\n\r\nimport LikeButton from '../../LikeButton';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport CommentMenu from './CommentMenu';\r\nimport { updateComment, likeComment, unLikeComment } from '../../../redux/actions/commentAction';\r\nimport InputComment from './InputComment';\r\n\r\nconst CommentCard = ({ children, comment, post, commentId }) => {\r\n  const { auth, theme } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const [content, setContent] = useState('');\r\n  const [readMore, setReadMore] = useState(false);\r\n\r\n  const [onEdit, setOnEdit] = useState(false);\r\n  const [isLike, setIsLike] = useState(false);\r\n  const [loadLike, setLoadLike] = useState(false);\r\n\r\n  const [onReply, setOnReply] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setContent(comment.content);\r\n    setIsLike(false);\r\n    setOnReply(false);\r\n    if (comment.likes.find((like) => like._id === auth.user._id)) {\r\n      setIsLike(true);\r\n    }\r\n  }, [comment, auth.user._id]);\r\n\r\n  const handleUpdate = () => {\r\n    if (comment.content !== content) {\r\n      dispatch(updateComment({ comment, post, content, auth }));\r\n      setOnEdit(false);\r\n    } else {\r\n      setOnEdit(false);\r\n    }\r\n  };\r\n\r\n  const handleLike = async () => {\r\n    if (loadLike) return;\r\n    setIsLike(true);\r\n\r\n    setLoadLike(true);\r\n    await dispatch(likeComment({ comment, post, auth }));\r\n    setLoadLike(false);\r\n  };\r\n\r\n  const handleUnLike = async () => {\r\n    if (loadLike) return;\r\n    setIsLike(false);\r\n\r\n    setLoadLike(true);\r\n    await dispatch(unLikeComment({ comment, post, auth }));\r\n    setLoadLike(false);\r\n  };\r\n\r\n  const handleReply = () => {\r\n    if (onReply) return setOnReply(false);\r\n    setOnReply({ ...comment, commentId });\r\n  };\r\n\r\n  const styleCard = {\r\n    opacity: comment._id ? 1 : 0.5,\r\n    pointerEvents: comment._id ? 'inherit' : 'none',\r\n  };\r\n\r\n  return (\r\n    <div className=\"comment_card mt-2\" style={styleCard}>\r\n      <Link to={`/profile/${comment.user._id}`} className=\"d-flex text-dark\">\r\n        <Avatar src={comment.user.avatar} size=\"small-avatar\" />\r\n        <h6 className=\"mx-1\">{comment.user.username}</h6>\r\n      </Link>\r\n\r\n      <div className=\"comment_content\">\r\n        <div\r\n          className=\"flex-fill\"\r\n          style={{\r\n            filter: theme ? 'invert(1)' : 'invert(0)',\r\n            color: theme ? 'white' : '#111',\r\n          }}\r\n        >\r\n          {onEdit ? (\r\n            <textarea rows=\"5\" value={content} onChange={(e) => setContent(e.target.value)} />\r\n          ) : (\r\n            <div>\r\n              {comment.tag && comment.tag._id !== comment.user._id && (\r\n                <Link to={`/profile/${comment.tag._id}`} className=\"mr-1\">\r\n                  @{comment.tag.username}\r\n                </Link>\r\n              )}\r\n              <span>\r\n                {content.length < 100\r\n                  ? content\r\n                  : readMore\r\n                  ? content + ' '\r\n                  : content.slice(0, 100) + '....'}\r\n              </span>\r\n              {content.length > 100 && (\r\n                <span className=\"readMore\" onClick={() => setReadMore(!readMore)}>\r\n                  {readMore ? 'Hide content' : 'Read more'}\r\n                </span>\r\n              )}\r\n            </div>\r\n          )}\r\n          {/* edit comment card */}\r\n          <div style={{ cursor: 'pointer' }}>\r\n            <small className=\"text-muted mr-3\">{moment(comment.createdAt).fromNow()}</small>\r\n\r\n            <small className=\"font-weight-bold mr-3\">{comment.likes.length} Thích</small>\r\n\r\n            {onEdit ? (\r\n              <>\r\n                <small className=\"font-weight-bold mr-3\" onClick={handleUpdate}>\r\n                  Cập nhật\r\n                </small>\r\n                <small className=\"font-weight-bold mr-3\" onClick={() => setOnEdit(false)}>\r\n                  Huỷ\r\n                </small>\r\n              </>\r\n            ) : (\r\n              <small className=\"font-weight-bold mr-3\" onClick={handleReply}>\r\n                {onReply ? 'Huỷ' : 'Trả Lời'}\r\n              </small>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"d-flex align-items-center mx-2\" style={{ cursor: 'pointer' }}>\r\n          <CommentMenu post={post} comment={comment} setOnEdit={setOnEdit} />\r\n          <LikeButton isLike={isLike} handleLike={handleLike} handleUnLike={handleUnLike} />\r\n        </div>\r\n      </div>\r\n\r\n      {onReply && (\r\n        <InputComment post={post} onReply={onReply} setOnReply={setOnReply}>\r\n          <Link to={`/profile/${onReply.user._id}`} className=\"mr-1\">\r\n            @{onReply.user.username}:\r\n          </Link>\r\n        </InputComment>\r\n      )}\r\n\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentCard;\r\n","import React, { useState, useEffect } from 'react';\r\nimport CommentCard from './CommentCard';\r\n\r\nconst CommentDisplay = ({ comment, post, replyCm }) => {\r\n  const [showRep, setShowRep] = useState([]);\r\n  const [next, setNext] = useState(1);\r\n\r\n  useEffect(() => {\r\n    setShowRep(replyCm.slice(replyCm.length - next));\r\n  }, [replyCm, next]);\r\n\r\n  return (\r\n    <div className=\"comment_display\">\r\n      <CommentCard comment={comment} post={post} commentId={comment._id}>\r\n        <div className=\"pl-4\">\r\n          {showRep.map(\r\n            (item, index) =>\r\n              item.reply && (\r\n                <CommentCard key={index} comment={item} post={post} commentId={comment._id} />\r\n              )\r\n          )}\r\n\r\n          {replyCm.length - next > 0 ? (\r\n            <div style={{ cursor: 'pointer', color: '#0D81FE' }} onClick={() => setNext(next + 10)}>\r\n              Xem thêm bình luận...\r\n            </div>\r\n          ) : (\r\n            replyCm.length > 1 && (\r\n              <div style={{ cursor: 'pointer', color: '#0D81FE' }} onClick={() => setNext(1)}>\r\n                Ẩn bình luận...\r\n              </div>\r\n            )\r\n          )}\r\n        </div>\r\n      </CommentCard>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentDisplay;\r\n","import React, { useState, useEffect } from 'react';\r\nimport CommentDisplay from './CommentDisplay';\r\n\r\nconst Comments = ({ post }) => {\r\n  const [comments, setComments] = useState([]);\r\n  const [showComments, setShowComments] = useState([]);\r\n  const [next, setNext] = useState(2);\r\n\r\n  const [replyComments, setReplyComments] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const newCm = post.comments.filter((cm) => !cm.reply);\r\n    setComments(newCm);\r\n    setShowComments(newCm.slice(newCm.length - next));\r\n  }, [post.comments, next]);\r\n\r\n  useEffect(() => {\r\n    const newRep = post.comments.filter((cm) => cm.reply);\r\n    setReplyComments(newRep);\r\n  }, [post.comments]);\r\n\r\n  return (\r\n    <div className=\"comments\">\r\n      {showComments.map((comment, index) => (\r\n        <CommentDisplay\r\n          key={index}\r\n          comment={comment}\r\n          post={post}\r\n          replyCm={replyComments.filter((item) => item.reply === comment._id)}\r\n        />\r\n      ))}\r\n\r\n      {comments.length - next > 0 ? (\r\n        <div\r\n          className=\"p-2 border-top\"\r\n          style={{ cursor: 'pointer', color: 'crimson' }}\r\n          onClick={() => setNext(next + 10)}\r\n        >\r\n          Xem thêm bình luận...\r\n        </div>\r\n      ) : (\r\n        comments.length > 2 && (\r\n          <div\r\n            className=\"p-2 border-top\"\r\n            style={{ cursor: 'pointer', color: 'crimson' }}\r\n            onClick={() => setNext(2)}\r\n          >\r\n            Ẩn bình luận...\r\n          </div>\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Comments;\r\n","import React from 'react';\r\nimport CardHeader from './home/post_card/CardHeader';\r\nimport CardBody from './home/post_card/CardBody';\r\nimport CardFooter from './home/post_card/CardFooter';\r\n\r\nimport Comments from './home/comments/Comments';\r\nimport InputComment from './home/comments/InputComment';\r\n\r\nconst PostCard = ({ post, theme }) => {\r\n  return (\r\n    <div className=\"card my-3\">\r\n      <CardHeader post={post} />\r\n      <CardBody post={post} theme={theme} />\r\n      <CardFooter post={post} />\r\n\r\n      <Comments post={post} />\r\n      <InputComment post={post} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostCard;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getDiscoverPosts, DISCOVER_TYPES } from '../redux/actions/discoverAction';\r\nimport LoadIcon from '../images/loading.gif';\r\nimport PostThumb from '../components/PostThumb';\r\nimport LoadMoreBtn from '../components/LoadMoreBtn';\r\nimport { getDataAPI } from '../utils/fetchData';\r\n\r\nconst Discover = () => {\r\n  const { auth, discover } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const [load, setLoad] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!discover.firstLoad) {\r\n      dispatch(getDiscoverPosts(auth.token));\r\n    }\r\n  }, [dispatch, auth.token, discover.firstLoad]);\r\n\r\n  const handleLoadMore = async () => {\r\n    setLoad(true);\r\n    const res = await getDataAPI(`post_discover?num=${discover.page * 9}`, auth.token);\r\n    dispatch({ type: DISCOVER_TYPES.UPDATE_POST, payload: res.data });\r\n    setLoad(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {discover.loading ? (\r\n        <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto my-4\" />\r\n      ) : (\r\n        <PostThumb posts={discover.posts} result={discover.result} />\r\n      )}\r\n\r\n      {load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />}\r\n\r\n      {!discover.loading && (\r\n        <LoadMoreBtn\r\n          result={discover.result}\r\n          page={discover.page}\r\n          load={load}\r\n          handleLoadMore={handleLoadMore}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Discover;\r\n","import axios from 'axios';\r\n\r\nexport const getDataAPI = async (url, token) => {\r\n  const res = await axios.get(`/api/${url}`, {\r\n    headers: { Authorization: token },\r\n  });\r\n  return res;\r\n};\r\n\r\nexport const postDataAPI = async (url, post, token) => {\r\n  const res = await axios.post(`/api/${url}`, post, {\r\n    headers: { Authorization: token },\r\n  });\r\n  return res;\r\n};\r\n\r\nexport const putDataAPI = async (url, post, token) => {\r\n  const res = await axios.put(`/api/${url}`, post, {\r\n    headers: { Authorization: token },\r\n  });\r\n  return res;\r\n};\r\n\r\nexport const patchDataAPI = async (url, post, token) => {\r\n  const res = await axios.patch(`/api/${url}`, post, {\r\n    headers: { Authorization: token },\r\n  });\r\n  return res;\r\n};\r\n\r\nexport const deleteDataAPI = async (url, token) => {\r\n  const res = await axios.delete(`/api/${url}`, {\r\n    headers: { Authorization: token },\r\n  });\r\n  return res;\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getPost } from '../../redux/actions/postAction';\r\nimport LoadIcon from '../../images/loading.gif';\r\nimport PostCard from '../../components/PostCard';\r\n\r\nconst Post = () => {\r\n  const { id } = useParams();\r\n  const [post, setPost] = useState([]);\r\n\r\n  const { auth, detailPost } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(getPost({ detailPost, id, auth }));\r\n\r\n    if (detailPost.length > 0) {\r\n      const newArr = detailPost.filter((post) => post._id === id);\r\n      setPost(newArr);\r\n    }\r\n  }, [detailPost, dispatch, id, auth]);\r\n\r\n  return (\r\n    <div className=\"posts\">\r\n      {post.length === 0 && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto my-4\" />}\r\n\r\n      {post.map((item) => (\r\n        <PostCard key={item._id} post={item} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n"],"sourceRoot":""}